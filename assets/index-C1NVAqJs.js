function Kk(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function EE(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var SE={exports:{}},ph={},xE={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cc=Symbol.for("react.element"),Qk=Symbol.for("react.portal"),Yk=Symbol.for("react.fragment"),Xk=Symbol.for("react.strict_mode"),Zk=Symbol.for("react.profiler"),Jk=Symbol.for("react.provider"),eR=Symbol.for("react.context"),tR=Symbol.for("react.forward_ref"),nR=Symbol.for("react.suspense"),iR=Symbol.for("react.memo"),rR=Symbol.for("react.lazy"),p_=Symbol.iterator;function sR(t){return t===null||typeof t!="object"?null:(t=p_&&t[p_]||t["@@iterator"],typeof t=="function"?t:null)}var TE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IE=Object.assign,CE={};function pa(t,e,n){this.props=t,this.context=e,this.refs=CE,this.updater=n||TE}pa.prototype.isReactComponent={};pa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function PE(){}PE.prototype=pa.prototype;function ey(t,e,n){this.props=t,this.context=e,this.refs=CE,this.updater=n||TE}var ty=ey.prototype=new PE;ty.constructor=ey;IE(ty,pa.prototype);ty.isPureReactComponent=!0;var m_=Array.isArray,kE=Object.prototype.hasOwnProperty,ny={current:null},RE={key:!0,ref:!0,__self:!0,__source:!0};function AE(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)kE.call(e,i)&&!RE.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:cc,type:t,key:s,ref:o,props:r,_owner:ny.current}}function oR(t,e){return{$$typeof:cc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function iy(t){return typeof t=="object"&&t!==null&&t.$$typeof===cc}function aR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var g_=/\/+/g;function Kf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?aR(""+t.key):e.toString(36)}function Du(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cc:case Qk:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Kf(o,0):i,m_(r)?(n="",t!=null&&(n=t.replace(g_,"$&/")+"/"),Du(r,e,n,"",function(c){return c})):r!=null&&(iy(r)&&(r=oR(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(g_,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",m_(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+Kf(s,a);o+=Du(s,e,n,l,r)}else if(l=sR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+Kf(s,a++),o+=Du(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Qc(t,e,n){if(t==null)return t;var i=[],r=0;return Du(t,i,"","",function(s){return e.call(n,s,r++)}),i}function lR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zt={current:null},ju={transition:null},cR={ReactCurrentDispatcher:Zt,ReactCurrentBatchConfig:ju,ReactCurrentOwner:ny};function OE(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:Qc,forEach:function(t,e,n){Qc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qc(t,function(){e++}),e},toArray:function(t){return Qc(t,function(e){return e})||[]},only:function(t){if(!iy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pe.Component=pa;pe.Fragment=Yk;pe.Profiler=Zk;pe.PureComponent=ey;pe.StrictMode=Xk;pe.Suspense=nR;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cR;pe.act=OE;pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=IE({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ny.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)kE.call(e,l)&&!RE.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:cc,type:t.type,key:r,ref:s,props:i,_owner:o}};pe.createContext=function(t){return t={$$typeof:eR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Jk,_context:t},t.Consumer=t};pe.createElement=AE;pe.createFactory=function(t){var e=AE.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:tR,render:t}};pe.isValidElement=iy;pe.lazy=function(t){return{$$typeof:rR,_payload:{_status:-1,_result:t},_init:lR}};pe.memo=function(t,e){return{$$typeof:iR,type:t,compare:e===void 0?null:e}};pe.startTransition=function(t){var e=ju.transition;ju.transition={};try{t()}finally{ju.transition=e}};pe.unstable_act=OE;pe.useCallback=function(t,e){return Zt.current.useCallback(t,e)};pe.useContext=function(t){return Zt.current.useContext(t)};pe.useDebugValue=function(){};pe.useDeferredValue=function(t){return Zt.current.useDeferredValue(t)};pe.useEffect=function(t,e){return Zt.current.useEffect(t,e)};pe.useId=function(){return Zt.current.useId()};pe.useImperativeHandle=function(t,e,n){return Zt.current.useImperativeHandle(t,e,n)};pe.useInsertionEffect=function(t,e){return Zt.current.useInsertionEffect(t,e)};pe.useLayoutEffect=function(t,e){return Zt.current.useLayoutEffect(t,e)};pe.useMemo=function(t,e){return Zt.current.useMemo(t,e)};pe.useReducer=function(t,e,n){return Zt.current.useReducer(t,e,n)};pe.useRef=function(t){return Zt.current.useRef(t)};pe.useState=function(t){return Zt.current.useState(t)};pe.useSyncExternalStore=function(t,e,n){return Zt.current.useSyncExternalStore(t,e,n)};pe.useTransition=function(){return Zt.current.useTransition()};pe.version="18.3.1";xE.exports=pe;var j=xE.exports;const de=lc(j),uR=Kk({__proto__:null,default:de},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dR=j,hR=Symbol.for("react.element"),fR=Symbol.for("react.fragment"),pR=Object.prototype.hasOwnProperty,mR=dR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gR={key:!0,ref:!0,__self:!0,__source:!0};function NE(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)pR.call(e,i)&&!gR.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:hR,type:t,key:s,ref:o,props:r,_owner:mR.current}}ph.Fragment=fR;ph.jsx=NE;ph.jsxs=NE;SE.exports=ph;var h=SE.exports,cm={},DE={exports:{}},Sn={},jE={exports:{}},ME={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,$){var G=F.length;F.push($);e:for(;0<G;){var J=G-1>>>1,ee=F[J];if(0<r(ee,$))F[J]=$,F[G]=ee,G=J;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var $=F[0],G=F.pop();if(G!==$){F[0]=G;e:for(var J=0,ee=F.length,Y=ee>>>1;J<Y;){var le=2*(J+1)-1,ve=F[le],Ve=le+1,Fe=F[Ve];if(0>r(ve,G))Ve<ee&&0>r(Fe,ve)?(F[J]=Fe,F[Ve]=G,J=Ve):(F[J]=ve,F[le]=G,J=le);else if(Ve<ee&&0>r(Fe,G))F[J]=Fe,F[Ve]=G,J=Ve;else break e}}return $}function r(F,$){var G=F.sortIndex-$.sortIndex;return G!==0?G:F.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,g=!1,b=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var $=n(c);$!==null;){if($.callback===null)i(c);else if($.startTime<=F)i(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function P(F){if(_=!1,x(F),!b)if(n(l)!==null)b=!0,z(D);else{var $=n(c);$!==null&&U(P,$.startTime-F)}}function D(F,$){b=!1,_&&(_=!1,E(S),S=-1),g=!0;var G=p;try{for(x($),f=n(l);f!==null&&(!(f.expirationTime>$)||F&&!A());){var J=f.callback;if(typeof J=="function"){f.callback=null,p=f.priorityLevel;var ee=J(f.expirationTime<=$);$=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(l)&&i(l),x($)}else i(l);f=n(l)}if(f!==null)var Y=!0;else{var le=n(c);le!==null&&U(P,le.startTime-$),Y=!1}return Y}finally{f=null,p=G,g=!1}}var O=!1,T=null,S=-1,w=5,I=-1;function A(){return!(t.unstable_now()-I<w)}function N(){if(T!==null){var F=t.unstable_now();I=F;var $=!0;try{$=T(!0,F)}finally{$?k():(O=!1,T=null)}}else O=!1}var k;if(typeof y=="function")k=function(){y(N)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,L=M.port2;M.port1.onmessage=N,k=function(){L.postMessage(null)}}else k=function(){C(N,0)};function z(F){T=F,O||(O=!0,k())}function U(F,$){S=C(function(){F(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,z(D))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var G=p;p=$;try{return F()}finally{p=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,$){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=p;p=F;try{return $()}finally{p=G}},t.unstable_scheduleCallback=function(F,$,G){var J=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?J+G:J):G=J,F){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=G+ee,F={id:d++,callback:$,priorityLevel:F,startTime:G,expirationTime:ee,sortIndex:-1},G>J?(F.sortIndex=G,e(c,F),n(l)===null&&F===n(c)&&(_?(E(S),S=-1):_=!0,U(P,G-J))):(F.sortIndex=ee,e(l,F),b||g||(b=!0,z(D))),F},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(F){var $=p;return function(){var G=p;p=$;try{return F.apply(this,arguments)}finally{p=G}}}})(ME);jE.exports=ME;var yR=jE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vR=j,En=yR;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LE=new Set,Il={};function Vs(t,e){Uo(t,e),Uo(t+"Capture",e)}function Uo(t,e){for(Il[t]=e,t=0;t<e.length;t++)LE.add(e[t])}var Bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),um=Object.prototype.hasOwnProperty,_R=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y_={},v_={};function wR(t){return um.call(v_,t)?!0:um.call(y_,t)?!1:_R.test(t)?v_[t]=!0:(y_[t]=!0,!1)}function bR(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ER(t,e,n,i){if(e===null||typeof e>"u"||bR(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jt(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){St[t]=new Jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];St[e]=new Jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){St[t]=new Jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){St[t]=new Jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){St[t]=new Jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){St[t]=new Jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){St[t]=new Jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){St[t]=new Jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){St[t]=new Jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ry=/[\-:]([a-z])/g;function sy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ry,sy);St[e]=new Jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ry,sy);St[e]=new Jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ry,sy);St[e]=new Jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){St[t]=new Jt(t,1,!1,t.toLowerCase(),null,!1,!1)});St.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){St[t]=new Jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function oy(t,e,n,i){var r=St.hasOwnProperty(e)?St[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ER(e,n,r,i)&&(n=null),i||r===null?wR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Qi=vR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yc=Symbol.for("react.element"),oo=Symbol.for("react.portal"),ao=Symbol.for("react.fragment"),ay=Symbol.for("react.strict_mode"),dm=Symbol.for("react.profiler"),VE=Symbol.for("react.provider"),FE=Symbol.for("react.context"),ly=Symbol.for("react.forward_ref"),hm=Symbol.for("react.suspense"),fm=Symbol.for("react.suspense_list"),cy=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),zE=Symbol.for("react.offscreen"),__=Symbol.iterator;function za(t){return t===null||typeof t!="object"?null:(t=__&&t[__]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,Qf;function Ja(t){if(Qf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qf=e&&e[1]||""}return`
`+Qf+t}var Yf=!1;function Xf(t,e){if(!t||Yf)return"";Yf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Yf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ja(t):""}function SR(t){switch(t.tag){case 5:return Ja(t.type);case 16:return Ja("Lazy");case 13:return Ja("Suspense");case 19:return Ja("SuspenseList");case 0:case 2:case 15:return t=Xf(t.type,!1),t;case 11:return t=Xf(t.type.render,!1),t;case 1:return t=Xf(t.type,!0),t;default:return""}}function pm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ao:return"Fragment";case oo:return"Portal";case dm:return"Profiler";case ay:return"StrictMode";case hm:return"Suspense";case fm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case FE:return(t.displayName||"Context")+".Consumer";case VE:return(t._context.displayName||"Context")+".Provider";case ly:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cy:return e=t.displayName||null,e!==null?e:pm(t.type)||"Memo";case nr:e=t._payload,t=t._init;try{return pm(t(e))}catch{}}return null}function xR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pm(e);case 8:return e===ay?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function UE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TR(t){var e=UE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xc(t){t._valueTracker||(t._valueTracker=TR(t))}function BE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=UE(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function sd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mm(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function w_(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Nr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $E(t,e){e=e.checked,e!=null&&oy(t,"checked",e,!1)}function gm(t,e){$E(t,e);var n=Nr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ym(t,e.type,n):e.hasOwnProperty("defaultValue")&&ym(t,e.type,Nr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function b_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ym(t,e,n){(e!=="number"||sd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var el=Array.isArray;function xo(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Nr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function vm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function E_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(el(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Nr(n)}}function HE(t,e){var n=Nr(e.value),i=Nr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function S_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _m(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zc,WE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zc=Zc||document.createElement("div"),Zc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IR=["Webkit","ms","Moz","O"];Object.keys(cl).forEach(function(t){IR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cl[e]=cl[t]})});function GE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cl.hasOwnProperty(t)&&cl[t]?(""+e).trim():e+"px"}function KE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=GE(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var CR=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wm(t,e){if(e){if(CR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function bm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Em=null;function uy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sm=null,To=null,Io=null;function x_(t){if(t=hc(t)){if(typeof Sm!="function")throw Error(W(280));var e=t.stateNode;e&&(e=_h(e),Sm(t.stateNode,t.type,e))}}function QE(t){To?Io?Io.push(t):Io=[t]:To=t}function YE(){if(To){var t=To,e=Io;if(Io=To=null,x_(t),e)for(t=0;t<e.length;t++)x_(e[t])}}function XE(t,e){return t(e)}function ZE(){}var Zf=!1;function JE(t,e,n){if(Zf)return t(e,n);Zf=!0;try{return XE(t,e,n)}finally{Zf=!1,(To!==null||Io!==null)&&(ZE(),YE())}}function Pl(t,e){var n=t.stateNode;if(n===null)return null;var i=_h(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var xm=!1;if(Bi)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){xm=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{xm=!1}function PR(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ul=!1,od=null,ad=!1,Tm=null,kR={onError:function(t){ul=!0,od=t}};function RR(t,e,n,i,r,s,o,a,l){ul=!1,od=null,PR.apply(kR,arguments)}function AR(t,e,n,i,r,s,o,a,l){if(RR.apply(this,arguments),ul){if(ul){var c=od;ul=!1,od=null}else throw Error(W(198));ad||(ad=!0,Tm=c)}}function Fs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function eS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function T_(t){if(Fs(t)!==t)throw Error(W(188))}function OR(t){var e=t.alternate;if(!e){if(e=Fs(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return T_(r),t;if(s===i)return T_(r),e;s=s.sibling}throw Error(W(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==i)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function tS(t){return t=OR(t),t!==null?nS(t):null}function nS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nS(t);if(e!==null)return e;t=t.sibling}return null}var iS=En.unstable_scheduleCallback,I_=En.unstable_cancelCallback,NR=En.unstable_shouldYield,DR=En.unstable_requestPaint,Ye=En.unstable_now,jR=En.unstable_getCurrentPriorityLevel,dy=En.unstable_ImmediatePriority,rS=En.unstable_UserBlockingPriority,ld=En.unstable_NormalPriority,MR=En.unstable_LowPriority,sS=En.unstable_IdlePriority,mh=null,di=null;function LR(t){if(di&&typeof di.onCommitFiberRoot=="function")try{di.onCommitFiberRoot(mh,t,void 0,(t.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:zR,VR=Math.log,FR=Math.LN2;function zR(t){return t>>>=0,t===0?32:31-(VR(t)/FR|0)|0}var Jc=64,eu=4194304;function tl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cd(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=tl(a):(s&=o,s!==0&&(i=tl(s)))}else o=n&~r,o!==0?i=tl(o):s!==0&&(i=tl(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Xn(e),r=1<<n,i|=t[n],e&=~r;return i}function UR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BR(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Xn(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=UR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Im(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oS(){var t=Jc;return Jc<<=1,!(Jc&4194240)&&(Jc=64),t}function Jf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xn(e),t[e]=n}function $R(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Xn(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function hy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Xn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var xe=0;function aS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lS,fy,cS,uS,dS,Cm=!1,tu=[],_r=null,wr=null,br=null,kl=new Map,Rl=new Map,sr=[],HR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C_(t,e){switch(t){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":kl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(e.pointerId)}}function Ba(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=hc(e),e!==null&&fy(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function qR(t,e,n,i,r){switch(e){case"focusin":return _r=Ba(_r,t,e,n,i,r),!0;case"dragenter":return wr=Ba(wr,t,e,n,i,r),!0;case"mouseover":return br=Ba(br,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return kl.set(s,Ba(kl.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Rl.set(s,Ba(Rl.get(s)||null,t,e,n,i,r)),!0}return!1}function hS(t){var e=as(t.target);if(e!==null){var n=Fs(e);if(n!==null){if(e=n.tag,e===13){if(e=eS(n),e!==null){t.blockedOn=e,dS(t.priority,function(){cS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Em=i,n.target.dispatchEvent(i),Em=null}else return e=hc(n),e!==null&&fy(e),t.blockedOn=n,!1;e.shift()}return!0}function P_(t,e,n){Mu(t)&&n.delete(e)}function WR(){Cm=!1,_r!==null&&Mu(_r)&&(_r=null),wr!==null&&Mu(wr)&&(wr=null),br!==null&&Mu(br)&&(br=null),kl.forEach(P_),Rl.forEach(P_)}function $a(t,e){t.blockedOn===e&&(t.blockedOn=null,Cm||(Cm=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,WR)))}function Al(t){function e(r){return $a(r,t)}if(0<tu.length){$a(tu[0],t);for(var n=1;n<tu.length;n++){var i=tu[n];i.blockedOn===t&&(i.blockedOn=null)}}for(_r!==null&&$a(_r,t),wr!==null&&$a(wr,t),br!==null&&$a(br,t),kl.forEach(e),Rl.forEach(e),n=0;n<sr.length;n++)i=sr[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<sr.length&&(n=sr[0],n.blockedOn===null);)hS(n),n.blockedOn===null&&sr.shift()}var Co=Qi.ReactCurrentBatchConfig,ud=!0;function GR(t,e,n,i){var r=xe,s=Co.transition;Co.transition=null;try{xe=1,py(t,e,n,i)}finally{xe=r,Co.transition=s}}function KR(t,e,n,i){var r=xe,s=Co.transition;Co.transition=null;try{xe=4,py(t,e,n,i)}finally{xe=r,Co.transition=s}}function py(t,e,n,i){if(ud){var r=Pm(t,e,n,i);if(r===null)cp(t,e,i,dd,n),C_(t,i);else if(qR(r,t,e,n,i))i.stopPropagation();else if(C_(t,i),e&4&&-1<HR.indexOf(t)){for(;r!==null;){var s=hc(r);if(s!==null&&lS(s),s=Pm(t,e,n,i),s===null&&cp(t,e,i,dd,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else cp(t,e,i,null,n)}}var dd=null;function Pm(t,e,n,i){if(dd=null,t=uy(i),t=as(t),t!==null)if(e=Fs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=eS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return dd=t,null}function fS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jR()){case dy:return 1;case rS:return 4;case ld:case MR:return 16;case sS:return 536870912;default:return 16}default:return 16}}var fr=null,my=null,Lu=null;function pS(){if(Lu)return Lu;var t,e=my,n=e.length,i,r="value"in fr?fr.value:fr.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return Lu=r.slice(t,1<i?1-i:void 0)}function Vu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nu(){return!0}function k_(){return!1}function xn(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?nu:k_,this.isPropagationStopped=k_,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nu)},persist:function(){},isPersistent:nu}),e}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gy=xn(ma),dc=He({},ma,{view:0,detail:0}),QR=xn(dc),ep,tp,Ha,gh=He({},dc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ha&&(Ha&&t.type==="mousemove"?(ep=t.screenX-Ha.screenX,tp=t.screenY-Ha.screenY):tp=ep=0,Ha=t),ep)},movementY:function(t){return"movementY"in t?t.movementY:tp}}),R_=xn(gh),YR=He({},gh,{dataTransfer:0}),XR=xn(YR),ZR=He({},dc,{relatedTarget:0}),np=xn(ZR),JR=He({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),e2=xn(JR),t2=He({},ma,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),n2=xn(t2),i2=He({},ma,{data:0}),A_=xn(i2),r2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=o2[t])?!!e[t]:!1}function yy(){return a2}var l2=He({},dc,{key:function(t){if(t.key){var e=r2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?s2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yy,charCode:function(t){return t.type==="keypress"?Vu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),c2=xn(l2),u2=He({},gh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O_=xn(u2),d2=He({},dc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yy}),h2=xn(d2),f2=He({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),p2=xn(f2),m2=He({},gh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),g2=xn(m2),y2=[9,13,27,32],vy=Bi&&"CompositionEvent"in window,dl=null;Bi&&"documentMode"in document&&(dl=document.documentMode);var v2=Bi&&"TextEvent"in window&&!dl,mS=Bi&&(!vy||dl&&8<dl&&11>=dl),N_=" ",D_=!1;function gS(t,e){switch(t){case"keyup":return y2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lo=!1;function _2(t,e){switch(t){case"compositionend":return yS(e);case"keypress":return e.which!==32?null:(D_=!0,N_);case"textInput":return t=e.data,t===N_&&D_?null:t;default:return null}}function w2(t,e){if(lo)return t==="compositionend"||!vy&&gS(t,e)?(t=pS(),Lu=my=fr=null,lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mS&&e.locale!=="ko"?null:e.data;default:return null}}var b2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!b2[t.type]:e==="textarea"}function vS(t,e,n,i){QE(i),e=hd(e,"onChange"),0<e.length&&(n=new gy("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var hl=null,Ol=null;function E2(t){kS(t,0)}function yh(t){var e=ho(t);if(BE(e))return t}function S2(t,e){if(t==="change")return e}var _S=!1;if(Bi){var ip;if(Bi){var rp="oninput"in document;if(!rp){var M_=document.createElement("div");M_.setAttribute("oninput","return;"),rp=typeof M_.oninput=="function"}ip=rp}else ip=!1;_S=ip&&(!document.documentMode||9<document.documentMode)}function L_(){hl&&(hl.detachEvent("onpropertychange",wS),Ol=hl=null)}function wS(t){if(t.propertyName==="value"&&yh(Ol)){var e=[];vS(e,Ol,t,uy(t)),JE(E2,e)}}function x2(t,e,n){t==="focusin"?(L_(),hl=e,Ol=n,hl.attachEvent("onpropertychange",wS)):t==="focusout"&&L_()}function T2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yh(Ol)}function I2(t,e){if(t==="click")return yh(e)}function C2(t,e){if(t==="input"||t==="change")return yh(e)}function P2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ti=typeof Object.is=="function"?Object.is:P2;function Nl(t,e){if(ti(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!um.call(e,r)||!ti(t[r],e[r]))return!1}return!0}function V_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function F_(t,e){var n=V_(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=V_(n)}}function bS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ES(){for(var t=window,e=sd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sd(t.document)}return e}function _y(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function k2(t){var e=ES(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&bS(n.ownerDocument.documentElement,n)){if(i!==null&&_y(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=F_(n,s);var o=F_(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var R2=Bi&&"documentMode"in document&&11>=document.documentMode,co=null,km=null,fl=null,Rm=!1;function z_(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rm||co==null||co!==sd(i)||(i=co,"selectionStart"in i&&_y(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),fl&&Nl(fl,i)||(fl=i,i=hd(km,"onSelect"),0<i.length&&(e=new gy("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=co)))}function iu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var uo={animationend:iu("Animation","AnimationEnd"),animationiteration:iu("Animation","AnimationIteration"),animationstart:iu("Animation","AnimationStart"),transitionend:iu("Transition","TransitionEnd")},sp={},SS={};Bi&&(SS=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function vh(t){if(sp[t])return sp[t];if(!uo[t])return t;var e=uo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in SS)return sp[t]=e[n];return t}var xS=vh("animationend"),TS=vh("animationiteration"),IS=vh("animationstart"),CS=vh("transitionend"),PS=new Map,U_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(t,e){PS.set(t,e),Vs(e,[t])}for(var op=0;op<U_.length;op++){var ap=U_[op],A2=ap.toLowerCase(),O2=ap[0].toUpperCase()+ap.slice(1);$r(A2,"on"+O2)}$r(xS,"onAnimationEnd");$r(TS,"onAnimationIteration");$r(IS,"onAnimationStart");$r("dblclick","onDoubleClick");$r("focusin","onFocus");$r("focusout","onBlur");$r(CS,"onTransitionEnd");Uo("onMouseEnter",["mouseout","mouseover"]);Uo("onMouseLeave",["mouseout","mouseover"]);Uo("onPointerEnter",["pointerout","pointerover"]);Uo("onPointerLeave",["pointerout","pointerover"]);Vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N2=new Set("cancel close invalid load scroll toggle".split(" ").concat(nl));function B_(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,AR(i,e,void 0,t),t.currentTarget=null}function kS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;B_(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;B_(r,a,c),s=l}}}if(ad)throw t=Tm,ad=!1,Tm=null,t}function Re(t,e){var n=e[jm];n===void 0&&(n=e[jm]=new Set);var i=t+"__bubble";n.has(i)||(RS(e,t,2,!1),n.add(i))}function lp(t,e,n){var i=0;e&&(i|=4),RS(n,t,i,e)}var ru="_reactListening"+Math.random().toString(36).slice(2);function Dl(t){if(!t[ru]){t[ru]=!0,LE.forEach(function(n){n!=="selectionchange"&&(N2.has(n)||lp(n,!1,t),lp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ru]||(e[ru]=!0,lp("selectionchange",!1,e))}}function RS(t,e,n,i){switch(fS(e)){case 1:var r=GR;break;case 4:r=KR;break;default:r=py}n=r.bind(null,e,n,t),r=void 0,!xm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function cp(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=as(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}JE(function(){var c=s,d=uy(n),f=[];e:{var p=PS.get(t);if(p!==void 0){var g=gy,b=t;switch(t){case"keypress":if(Vu(n)===0)break e;case"keydown":case"keyup":g=c2;break;case"focusin":b="focus",g=np;break;case"focusout":b="blur",g=np;break;case"beforeblur":case"afterblur":g=np;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=R_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=XR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=h2;break;case xS:case TS:case IS:g=e2;break;case CS:g=p2;break;case"scroll":g=QR;break;case"wheel":g=g2;break;case"copy":case"cut":case"paste":g=n2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=O_}var _=(e&4)!==0,C=!_&&t==="scroll",E=_?p!==null?p+"Capture":null:p;_=[];for(var y=c,x;y!==null;){x=y;var P=x.stateNode;if(x.tag===5&&P!==null&&(x=P,E!==null&&(P=Pl(y,E),P!=null&&_.push(jl(y,P,x)))),C)break;y=y.return}0<_.length&&(p=new g(p,b,null,n,d),f.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Em&&(b=n.relatedTarget||n.fromElement)&&(as(b)||b[$i]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(b=n.relatedTarget||n.toElement,g=c,b=b?as(b):null,b!==null&&(C=Fs(b),b!==C||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=c),g!==b)){if(_=R_,P="onMouseLeave",E="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(_=O_,P="onPointerLeave",E="onPointerEnter",y="pointer"),C=g==null?p:ho(g),x=b==null?p:ho(b),p=new _(P,y+"leave",g,n,d),p.target=C,p.relatedTarget=x,P=null,as(d)===c&&(_=new _(E,y+"enter",b,n,d),_.target=x,_.relatedTarget=C,P=_),C=P,g&&b)t:{for(_=g,E=b,y=0,x=_;x;x=Zs(x))y++;for(x=0,P=E;P;P=Zs(P))x++;for(;0<y-x;)_=Zs(_),y--;for(;0<x-y;)E=Zs(E),x--;for(;y--;){if(_===E||E!==null&&_===E.alternate)break t;_=Zs(_),E=Zs(E)}_=null}else _=null;g!==null&&$_(f,p,g,_,!1),b!==null&&C!==null&&$_(f,C,b,_,!0)}}e:{if(p=c?ho(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var D=S2;else if(j_(p))if(_S)D=C2;else{D=T2;var O=x2}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=I2);if(D&&(D=D(t,c))){vS(f,D,n,d);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&ym(p,"number",p.value)}switch(O=c?ho(c):window,t){case"focusin":(j_(O)||O.contentEditable==="true")&&(co=O,km=c,fl=null);break;case"focusout":fl=km=co=null;break;case"mousedown":Rm=!0;break;case"contextmenu":case"mouseup":case"dragend":Rm=!1,z_(f,n,d);break;case"selectionchange":if(R2)break;case"keydown":case"keyup":z_(f,n,d)}var T;if(vy)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else lo?gS(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(mS&&n.locale!=="ko"&&(lo||S!=="onCompositionStart"?S==="onCompositionEnd"&&lo&&(T=pS()):(fr=d,my="value"in fr?fr.value:fr.textContent,lo=!0)),O=hd(c,S),0<O.length&&(S=new A_(S,t,null,n,d),f.push({event:S,listeners:O}),T?S.data=T:(T=yS(n),T!==null&&(S.data=T)))),(T=v2?_2(t,n):w2(t,n))&&(c=hd(c,"onBeforeInput"),0<c.length&&(d=new A_("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=T))}kS(f,e)})}function jl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hd(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Pl(t,n),s!=null&&i.unshift(jl(t,s,r)),s=Pl(t,e),s!=null&&i.push(jl(t,s,r))),t=t.return}return i}function Zs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $_(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Pl(n,s),l!=null&&o.unshift(jl(n,l,a))):r||(l=Pl(n,s),l!=null&&o.push(jl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var D2=/\r\n?/g,j2=/\u0000|\uFFFD/g;function H_(t){return(typeof t=="string"?t:""+t).replace(D2,`
`).replace(j2,"")}function su(t,e,n){if(e=H_(e),H_(t)!==e&&n)throw Error(W(425))}function fd(){}var Am=null,Om=null;function Nm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dm=typeof setTimeout=="function"?setTimeout:void 0,M2=typeof clearTimeout=="function"?clearTimeout:void 0,q_=typeof Promise=="function"?Promise:void 0,L2=typeof queueMicrotask=="function"?queueMicrotask:typeof q_<"u"?function(t){return q_.resolve(null).then(t).catch(V2)}:Dm;function V2(t){setTimeout(function(){throw t})}function up(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Al(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Al(e)}function Er(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function W_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ga=Math.random().toString(36).slice(2),ci="__reactFiber$"+ga,Ml="__reactProps$"+ga,$i="__reactContainer$"+ga,jm="__reactEvents$"+ga,F2="__reactListeners$"+ga,z2="__reactHandles$"+ga;function as(t){var e=t[ci];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$i]||n[ci]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=W_(t);t!==null;){if(n=t[ci])return n;t=W_(t)}return e}t=n,n=t.parentNode}return null}function hc(t){return t=t[ci]||t[$i],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ho(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function _h(t){return t[Ml]||null}var Mm=[],fo=-1;function Hr(t){return{current:t}}function Oe(t){0>fo||(t.current=Mm[fo],Mm[fo]=null,fo--)}function Ce(t,e){fo++,Mm[fo]=t.current,t.current=e}var Dr={},Vt=Hr(Dr),an=Hr(!1),bs=Dr;function Bo(t,e){var n=t.type.contextTypes;if(!n)return Dr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function ln(t){return t=t.childContextTypes,t!=null}function pd(){Oe(an),Oe(Vt)}function G_(t,e,n){if(Vt.current!==Dr)throw Error(W(168));Ce(Vt,e),Ce(an,n)}function AS(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(W(108,xR(t)||"Unknown",r));return He({},n,i)}function md(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Dr,bs=Vt.current,Ce(Vt,t),Ce(an,an.current),!0}function K_(t,e,n){var i=t.stateNode;if(!i)throw Error(W(169));n?(t=AS(t,e,bs),i.__reactInternalMemoizedMergedChildContext=t,Oe(an),Oe(Vt),Ce(Vt,t)):Oe(an),Ce(an,n)}var Ci=null,wh=!1,dp=!1;function OS(t){Ci===null?Ci=[t]:Ci.push(t)}function U2(t){wh=!0,OS(t)}function qr(){if(!dp&&Ci!==null){dp=!0;var t=0,e=xe;try{var n=Ci;for(xe=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Ci=null,wh=!1}catch(r){throw Ci!==null&&(Ci=Ci.slice(t+1)),iS(dy,qr),r}finally{xe=e,dp=!1}}return null}var po=[],mo=0,gd=null,yd=0,Cn=[],Pn=0,Es=null,ki=1,Ri="";function is(t,e){po[mo++]=yd,po[mo++]=gd,gd=t,yd=e}function NS(t,e,n){Cn[Pn++]=ki,Cn[Pn++]=Ri,Cn[Pn++]=Es,Es=t;var i=ki;t=Ri;var r=32-Xn(i)-1;i&=~(1<<r),n+=1;var s=32-Xn(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,ki=1<<32-Xn(e)+r|n<<r|i,Ri=s+t}else ki=1<<s|n<<r|i,Ri=t}function wy(t){t.return!==null&&(is(t,1),NS(t,1,0))}function by(t){for(;t===gd;)gd=po[--mo],po[mo]=null,yd=po[--mo],po[mo]=null;for(;t===Es;)Es=Cn[--Pn],Cn[Pn]=null,Ri=Cn[--Pn],Cn[Pn]=null,ki=Cn[--Pn],Cn[Pn]=null}var wn=null,mn=null,Me=!1,Wn=null;function DS(t,e){var n=An(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Q_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wn=t,mn=Er(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wn=t,mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Es!==null?{id:ki,overflow:Ri}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=An(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wn=t,mn=null,!0):!1;default:return!1}}function Lm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vm(t){if(Me){var e=mn;if(e){var n=e;if(!Q_(t,e)){if(Lm(t))throw Error(W(418));e=Er(n.nextSibling);var i=wn;e&&Q_(t,e)?DS(i,n):(t.flags=t.flags&-4097|2,Me=!1,wn=t)}}else{if(Lm(t))throw Error(W(418));t.flags=t.flags&-4097|2,Me=!1,wn=t}}}function Y_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wn=t}function ou(t){if(t!==wn)return!1;if(!Me)return Y_(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Nm(t.type,t.memoizedProps)),e&&(e=mn)){if(Lm(t))throw jS(),Error(W(418));for(;e;)DS(t,e),e=Er(e.nextSibling)}if(Y_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mn=Er(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mn=null}}else mn=wn?Er(t.stateNode.nextSibling):null;return!0}function jS(){for(var t=mn;t;)t=Er(t.nextSibling)}function $o(){mn=wn=null,Me=!1}function Ey(t){Wn===null?Wn=[t]:Wn.push(t)}var B2=Qi.ReactCurrentBatchConfig;function qa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var i=n.stateNode}if(!i)throw Error(W(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function au(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function X_(t){var e=t._init;return e(t._payload)}function MS(t){function e(E,y){if(t){var x=E.deletions;x===null?(E.deletions=[y],E.flags|=16):x.push(y)}}function n(E,y){if(!t)return null;for(;y!==null;)e(E,y),y=y.sibling;return null}function i(E,y){for(E=new Map;y!==null;)y.key!==null?E.set(y.key,y):E.set(y.index,y),y=y.sibling;return E}function r(E,y){return E=Ir(E,y),E.index=0,E.sibling=null,E}function s(E,y,x){return E.index=x,t?(x=E.alternate,x!==null?(x=x.index,x<y?(E.flags|=2,y):x):(E.flags|=2,y)):(E.flags|=1048576,y)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,y,x,P){return y===null||y.tag!==6?(y=vp(x,E.mode,P),y.return=E,y):(y=r(y,x),y.return=E,y)}function l(E,y,x,P){var D=x.type;return D===ao?d(E,y,x.props.children,P,x.key):y!==null&&(y.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===nr&&X_(D)===y.type)?(P=r(y,x.props),P.ref=qa(E,y,x),P.return=E,P):(P=qu(x.type,x.key,x.props,null,E.mode,P),P.ref=qa(E,y,x),P.return=E,P)}function c(E,y,x,P){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=_p(x,E.mode,P),y.return=E,y):(y=r(y,x.children||[]),y.return=E,y)}function d(E,y,x,P,D){return y===null||y.tag!==7?(y=gs(x,E.mode,P,D),y.return=E,y):(y=r(y,x),y.return=E,y)}function f(E,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=vp(""+y,E.mode,x),y.return=E,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Yc:return x=qu(y.type,y.key,y.props,null,E.mode,x),x.ref=qa(E,null,y),x.return=E,x;case oo:return y=_p(y,E.mode,x),y.return=E,y;case nr:var P=y._init;return f(E,P(y._payload),x)}if(el(y)||za(y))return y=gs(y,E.mode,x,null),y.return=E,y;au(E,y)}return null}function p(E,y,x,P){var D=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return D!==null?null:a(E,y,""+x,P);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Yc:return x.key===D?l(E,y,x,P):null;case oo:return x.key===D?c(E,y,x,P):null;case nr:return D=x._init,p(E,y,D(x._payload),P)}if(el(x)||za(x))return D!==null?null:d(E,y,x,P,null);au(E,x)}return null}function g(E,y,x,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return E=E.get(x)||null,a(y,E,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Yc:return E=E.get(P.key===null?x:P.key)||null,l(y,E,P,D);case oo:return E=E.get(P.key===null?x:P.key)||null,c(y,E,P,D);case nr:var O=P._init;return g(E,y,x,O(P._payload),D)}if(el(P)||za(P))return E=E.get(x)||null,d(y,E,P,D,null);au(y,P)}return null}function b(E,y,x,P){for(var D=null,O=null,T=y,S=y=0,w=null;T!==null&&S<x.length;S++){T.index>S?(w=T,T=null):w=T.sibling;var I=p(E,T,x[S],P);if(I===null){T===null&&(T=w);break}t&&T&&I.alternate===null&&e(E,T),y=s(I,y,S),O===null?D=I:O.sibling=I,O=I,T=w}if(S===x.length)return n(E,T),Me&&is(E,S),D;if(T===null){for(;S<x.length;S++)T=f(E,x[S],P),T!==null&&(y=s(T,y,S),O===null?D=T:O.sibling=T,O=T);return Me&&is(E,S),D}for(T=i(E,T);S<x.length;S++)w=g(T,E,S,x[S],P),w!==null&&(t&&w.alternate!==null&&T.delete(w.key===null?S:w.key),y=s(w,y,S),O===null?D=w:O.sibling=w,O=w);return t&&T.forEach(function(A){return e(E,A)}),Me&&is(E,S),D}function _(E,y,x,P){var D=za(x);if(typeof D!="function")throw Error(W(150));if(x=D.call(x),x==null)throw Error(W(151));for(var O=D=null,T=y,S=y=0,w=null,I=x.next();T!==null&&!I.done;S++,I=x.next()){T.index>S?(w=T,T=null):w=T.sibling;var A=p(E,T,I.value,P);if(A===null){T===null&&(T=w);break}t&&T&&A.alternate===null&&e(E,T),y=s(A,y,S),O===null?D=A:O.sibling=A,O=A,T=w}if(I.done)return n(E,T),Me&&is(E,S),D;if(T===null){for(;!I.done;S++,I=x.next())I=f(E,I.value,P),I!==null&&(y=s(I,y,S),O===null?D=I:O.sibling=I,O=I);return Me&&is(E,S),D}for(T=i(E,T);!I.done;S++,I=x.next())I=g(T,E,S,I.value,P),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?S:I.key),y=s(I,y,S),O===null?D=I:O.sibling=I,O=I);return t&&T.forEach(function(N){return e(E,N)}),Me&&is(E,S),D}function C(E,y,x,P){if(typeof x=="object"&&x!==null&&x.type===ao&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Yc:e:{for(var D=x.key,O=y;O!==null;){if(O.key===D){if(D=x.type,D===ao){if(O.tag===7){n(E,O.sibling),y=r(O,x.props.children),y.return=E,E=y;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===nr&&X_(D)===O.type){n(E,O.sibling),y=r(O,x.props),y.ref=qa(E,O,x),y.return=E,E=y;break e}n(E,O);break}else e(E,O);O=O.sibling}x.type===ao?(y=gs(x.props.children,E.mode,P,x.key),y.return=E,E=y):(P=qu(x.type,x.key,x.props,null,E.mode,P),P.ref=qa(E,y,x),P.return=E,E=P)}return o(E);case oo:e:{for(O=x.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(E,y.sibling),y=r(y,x.children||[]),y.return=E,E=y;break e}else{n(E,y);break}else e(E,y);y=y.sibling}y=_p(x,E.mode,P),y.return=E,E=y}return o(E);case nr:return O=x._init,C(E,y,O(x._payload),P)}if(el(x))return b(E,y,x,P);if(za(x))return _(E,y,x,P);au(E,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(E,y.sibling),y=r(y,x),y.return=E,E=y):(n(E,y),y=vp(x,E.mode,P),y.return=E,E=y),o(E)):n(E,y)}return C}var Ho=MS(!0),LS=MS(!1),vd=Hr(null),_d=null,go=null,Sy=null;function xy(){Sy=go=_d=null}function Ty(t){var e=vd.current;Oe(vd),t._currentValue=e}function Fm(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Po(t,e){_d=t,Sy=go=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(on=!0),t.firstContext=null)}function Nn(t){var e=t._currentValue;if(Sy!==t)if(t={context:t,memoizedValue:e,next:null},go===null){if(_d===null)throw Error(W(308));go=t,_d.dependencies={lanes:0,firstContext:t}}else go=go.next=t;return e}var ls=null;function Iy(t){ls===null?ls=[t]:ls.push(t)}function VS(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Iy(e)):(n.next=r.next,r.next=n),e.interleaved=n,Hi(t,i)}function Hi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ir=!1;function Cy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Sr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,we&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Hi(t,n)}return r=i.interleaved,r===null?(e.next=e,Iy(i)):(e.next=r.next,r.next=e),i.interleaved=e,Hi(t,n)}function Fu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,hy(t,n)}}function Z_(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wd(t,e,n,i){var r=t.updateQueue;ir=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=r.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((i&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,_=a;switch(p=e,g=n,_.tag){case 1:if(b=_.payload,typeof b=="function"){f=b.call(g,f,p);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=_.payload,p=typeof b=="function"?b.call(g,f,p):b,p==null)break e;f=He({},f,p);break e;case 2:ir=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(d===null&&(l=f),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);xs|=o,t.lanes=o,t.memoizedState=f}}function J_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(W(191,r));r.call(i)}}}var fc={},hi=Hr(fc),Ll=Hr(fc),Vl=Hr(fc);function cs(t){if(t===fc)throw Error(W(174));return t}function Py(t,e){switch(Ce(Vl,e),Ce(Ll,t),Ce(hi,fc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_m(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_m(e,t)}Oe(hi),Ce(hi,e)}function qo(){Oe(hi),Oe(Ll),Oe(Vl)}function zS(t){cs(Vl.current);var e=cs(hi.current),n=_m(e,t.type);e!==n&&(Ce(Ll,t),Ce(hi,n))}function ky(t){Ll.current===t&&(Oe(hi),Oe(Ll))}var Be=Hr(0);function bd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hp=[];function Ry(){for(var t=0;t<hp.length;t++)hp[t]._workInProgressVersionPrimary=null;hp.length=0}var zu=Qi.ReactCurrentDispatcher,fp=Qi.ReactCurrentBatchConfig,Ss=0,$e=null,ot=null,ut=null,Ed=!1,pl=!1,Fl=0,$2=0;function Pt(){throw Error(W(321))}function Ay(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ti(t[n],e[n]))return!1;return!0}function Oy(t,e,n,i,r,s){if(Ss=s,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zu.current=t===null||t.memoizedState===null?G2:K2,t=n(i,r),pl){s=0;do{if(pl=!1,Fl=0,25<=s)throw Error(W(301));s+=1,ut=ot=null,e.updateQueue=null,zu.current=Q2,t=n(i,r)}while(pl)}if(zu.current=Sd,e=ot!==null&&ot.next!==null,Ss=0,ut=ot=$e=null,Ed=!1,e)throw Error(W(300));return t}function Ny(){var t=Fl!==0;return Fl=0,t}function oi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?$e.memoizedState=ut=t:ut=ut.next=t,ut}function Dn(){if(ot===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=ut===null?$e.memoizedState:ut.next;if(e!==null)ut=e,ot=t;else{if(t===null)throw Error(W(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ut===null?$e.memoizedState=ut=t:ut=ut.next=t}return ut}function zl(t,e){return typeof e=="function"?e(t):e}function pp(t){var e=Dn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var i=ot,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Ss&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=i):l=l.next=f,$e.lanes|=d,xs|=d}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,ti(i,e.memoizedState)||(on=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,$e.lanes|=s,xs|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mp(t){var e=Dn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);ti(s,e.memoizedState)||(on=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function US(){}function BS(t,e){var n=$e,i=Dn(),r=e(),s=!ti(i.memoizedState,r);if(s&&(i.memoizedState=r,on=!0),i=i.queue,Dy(qS.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,Ul(9,HS.bind(null,n,i,r,e),void 0,null),ht===null)throw Error(W(349));Ss&30||$S(n,e,r)}return r}function $S(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function HS(t,e,n,i){e.value=n,e.getSnapshot=i,WS(e)&&GS(t)}function qS(t,e,n){return n(function(){WS(e)&&GS(t)})}function WS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ti(t,n)}catch{return!0}}function GS(t){var e=Hi(t,1);e!==null&&Zn(e,t,1,-1)}function ew(t){var e=oi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zl,lastRenderedState:t},e.queue=t,t=t.dispatch=W2.bind(null,$e,t),[e.memoizedState,t]}function Ul(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function KS(){return Dn().memoizedState}function Uu(t,e,n,i){var r=oi();$e.flags|=t,r.memoizedState=Ul(1|e,n,void 0,i===void 0?null:i)}function bh(t,e,n,i){var r=Dn();i=i===void 0?null:i;var s=void 0;if(ot!==null){var o=ot.memoizedState;if(s=o.destroy,i!==null&&Ay(i,o.deps)){r.memoizedState=Ul(e,n,s,i);return}}$e.flags|=t,r.memoizedState=Ul(1|e,n,s,i)}function tw(t,e){return Uu(8390656,8,t,e)}function Dy(t,e){return bh(2048,8,t,e)}function QS(t,e){return bh(4,2,t,e)}function YS(t,e){return bh(4,4,t,e)}function XS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ZS(t,e,n){return n=n!=null?n.concat([t]):null,bh(4,4,XS.bind(null,e,t),n)}function jy(){}function JS(t,e){var n=Dn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Ay(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function ex(t,e){var n=Dn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Ay(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function tx(t,e,n){return Ss&21?(ti(n,e)||(n=oS(),$e.lanes|=n,xs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,on=!0),t.memoizedState=n)}function H2(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var i=fp.transition;fp.transition={};try{t(!1),e()}finally{xe=n,fp.transition=i}}function nx(){return Dn().memoizedState}function q2(t,e,n){var i=Tr(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ix(t))rx(e,n);else if(n=VS(t,e,n,i),n!==null){var r=Yt();Zn(n,t,i,r),sx(n,e,i)}}function W2(t,e,n){var i=Tr(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ix(t))rx(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,ti(a,o)){var l=e.interleaved;l===null?(r.next=r,Iy(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=VS(t,e,r,i),n!==null&&(r=Yt(),Zn(n,t,i,r),sx(n,e,i))}}function ix(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function rx(t,e){pl=Ed=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sx(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,hy(t,n)}}var Sd={readContext:Nn,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},G2={readContext:Nn,useCallback:function(t,e){return oi().memoizedState=[t,e===void 0?null:e],t},useContext:Nn,useEffect:tw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Uu(4194308,4,XS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Uu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Uu(4,2,t,e)},useMemo:function(t,e){var n=oi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=oi();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=q2.bind(null,$e,t),[i.memoizedState,t]},useRef:function(t){var e=oi();return t={current:t},e.memoizedState=t},useState:ew,useDebugValue:jy,useDeferredValue:function(t){return oi().memoizedState=t},useTransition:function(){var t=ew(!1),e=t[0];return t=H2.bind(null,t[1]),oi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=$e,r=oi();if(Me){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),ht===null)throw Error(W(349));Ss&30||$S(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,tw(qS.bind(null,i,s,t),[t]),i.flags|=2048,Ul(9,HS.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=oi(),e=ht.identifierPrefix;if(Me){var n=Ri,i=ki;n=(i&~(1<<32-Xn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},K2={readContext:Nn,useCallback:JS,useContext:Nn,useEffect:Dy,useImperativeHandle:ZS,useInsertionEffect:QS,useLayoutEffect:YS,useMemo:ex,useReducer:pp,useRef:KS,useState:function(){return pp(zl)},useDebugValue:jy,useDeferredValue:function(t){var e=Dn();return tx(e,ot.memoizedState,t)},useTransition:function(){var t=pp(zl)[0],e=Dn().memoizedState;return[t,e]},useMutableSource:US,useSyncExternalStore:BS,useId:nx,unstable_isNewReconciler:!1},Q2={readContext:Nn,useCallback:JS,useContext:Nn,useEffect:Dy,useImperativeHandle:ZS,useInsertionEffect:QS,useLayoutEffect:YS,useMemo:ex,useReducer:mp,useRef:KS,useState:function(){return mp(zl)},useDebugValue:jy,useDeferredValue:function(t){var e=Dn();return ot===null?e.memoizedState=t:tx(e,ot.memoizedState,t)},useTransition:function(){var t=mp(zl)[0],e=Dn().memoizedState;return[t,e]},useMutableSource:US,useSyncExternalStore:BS,useId:nx,unstable_isNewReconciler:!1};function Bn(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function zm(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Eh={isMounted:function(t){return(t=t._reactInternals)?Fs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Yt(),r=Tr(t),s=Mi(i,r);s.payload=e,n!=null&&(s.callback=n),e=Sr(t,s,r),e!==null&&(Zn(e,t,r,i),Fu(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Yt(),r=Tr(t),s=Mi(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Sr(t,s,r),e!==null&&(Zn(e,t,r,i),Fu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yt(),i=Tr(t),r=Mi(n,i);r.tag=2,e!=null&&(r.callback=e),e=Sr(t,r,i),e!==null&&(Zn(e,t,i,n),Fu(e,t,i))}};function nw(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Nl(n,i)||!Nl(r,s):!0}function ox(t,e,n){var i=!1,r=Dr,s=e.contextType;return typeof s=="object"&&s!==null?s=Nn(s):(r=ln(e)?bs:Vt.current,i=e.contextTypes,s=(i=i!=null)?Bo(t,r):Dr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Eh,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function iw(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Eh.enqueueReplaceState(e,e.state,null)}function Um(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Cy(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Nn(s):(s=ln(e)?bs:Vt.current,r.context=Bo(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(zm(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Eh.enqueueReplaceState(r,r.state,null),wd(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Wo(t,e){try{var n="",i=e;do n+=SR(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function gp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Y2=typeof WeakMap=="function"?WeakMap:Map;function ax(t,e,n){n=Mi(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Td||(Td=!0,Zm=i),Bm(t,e)},n}function lx(t,e,n){n=Mi(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Bm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Bm(t,e),typeof i!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function rw(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Y2;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=uA.bind(null,t,e,n),e.then(t,t))}function sw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ow(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mi(-1,1),e.tag=2,Sr(n,e,1))),n.lanes|=1),t)}var X2=Qi.ReactCurrentOwner,on=!1;function Gt(t,e,n,i){e.child=t===null?LS(e,null,n,i):Ho(e,t.child,n,i)}function aw(t,e,n,i,r){n=n.render;var s=e.ref;return Po(e,r),i=Oy(t,e,n,i,s,r),n=Ny(),t!==null&&!on?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,qi(t,e,r)):(Me&&n&&wy(e),e.flags|=1,Gt(t,e,i,r),e.child)}function lw(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!$y(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,cx(t,e,s,i,r)):(t=qu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Nl,n(o,i)&&t.ref===e.ref)return qi(t,e,r)}return e.flags|=1,t=Ir(s,i),t.ref=e.ref,t.return=e,e.child=t}function cx(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Nl(s,i)&&t.ref===e.ref)if(on=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(on=!0);else return e.lanes=t.lanes,qi(t,e,r)}return $m(t,e,n,i,r)}function ux(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(vo,pn),pn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(vo,pn),pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Ce(vo,pn),pn|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Ce(vo,pn),pn|=i;return Gt(t,e,r,n),e.child}function dx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $m(t,e,n,i,r){var s=ln(n)?bs:Vt.current;return s=Bo(e,s),Po(e,r),n=Oy(t,e,n,i,s,r),i=Ny(),t!==null&&!on?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,qi(t,e,r)):(Me&&i&&wy(e),e.flags|=1,Gt(t,e,n,r),e.child)}function cw(t,e,n,i,r){if(ln(n)){var s=!0;md(e)}else s=!1;if(Po(e,r),e.stateNode===null)Bu(t,e),ox(e,n,i),Um(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Nn(c):(c=ln(n)?bs:Vt.current,c=Bo(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&iw(e,o,i,c),ir=!1;var p=e.memoizedState;o.state=p,wd(e,i,o,r),l=e.memoizedState,a!==i||p!==l||an.current||ir?(typeof d=="function"&&(zm(e,n,d,i),l=e.memoizedState),(a=ir||nw(e,n,a,i,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,FS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Bn(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nn(l):(l=ln(n)?bs:Vt.current,l=Bo(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&iw(e,o,i,l),ir=!1,p=e.memoizedState,o.state=p,wd(e,i,o,r);var b=e.memoizedState;a!==f||p!==b||an.current||ir?(typeof g=="function"&&(zm(e,n,g,i),b=e.memoizedState),(c=ir||nw(e,n,c,i,p,b,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=b),o.props=i,o.state=b,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return Hm(t,e,n,i,s,r)}function Hm(t,e,n,i,r,s){dx(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&K_(e,n,!1),qi(t,e,s);i=e.stateNode,X2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Ho(e,t.child,null,s),e.child=Ho(e,null,a,s)):Gt(t,e,a,s),e.memoizedState=i.state,r&&K_(e,n,!0),e.child}function hx(t){var e=t.stateNode;e.pendingContext?G_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&G_(t,e.context,!1),Py(t,e.containerInfo)}function uw(t,e,n,i,r){return $o(),Ey(r),e.flags|=256,Gt(t,e,n,i),e.child}var qm={dehydrated:null,treeContext:null,retryLane:0};function Wm(t){return{baseLanes:t,cachePool:null,transitions:null}}function fx(t,e,n){var i=e.pendingProps,r=Be.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Ce(Be,r&1),t===null)return Vm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Th(o,i,0,null),t=gs(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Wm(n),e.memoizedState=qm,t):My(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return Z2(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Ir(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Ir(a,s):(s=gs(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Wm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=qm,i}return s=t.child,t=s.sibling,i=Ir(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function My(t,e){return e=Th({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function lu(t,e,n,i){return i!==null&&Ey(i),Ho(e,t.child,null,n),t=My(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Z2(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=gp(Error(W(422))),lu(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Th({mode:"visible",children:i.children},r,0,null),s=gs(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Ho(e,t.child,null,o),e.child.memoizedState=Wm(o),e.memoizedState=qm,s);if(!(e.mode&1))return lu(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(W(419)),i=gp(s,i,void 0),lu(t,e,o,i)}if(a=(o&t.childLanes)!==0,on||a){if(i=ht,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Hi(t,r),Zn(i,t,r,-1))}return By(),i=gp(Error(W(421))),lu(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=dA.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,mn=Er(r.nextSibling),wn=e,Me=!0,Wn=null,t!==null&&(Cn[Pn++]=ki,Cn[Pn++]=Ri,Cn[Pn++]=Es,ki=t.id,Ri=t.overflow,Es=e),e=My(e,i.children),e.flags|=4096,e)}function dw(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Fm(t.return,e,n)}function yp(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function px(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Gt(t,e,i.children,n),i=Be.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dw(t,n,e);else if(t.tag===19)dw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Ce(Be,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&bd(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),yp(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&bd(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}yp(e,!0,n,null,s);break;case"together":yp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Ir(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ir(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function J2(t,e,n){switch(e.tag){case 3:hx(e),$o();break;case 5:zS(e);break;case 1:ln(e.type)&&md(e);break;case 4:Py(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Ce(vd,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ce(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?fx(t,e,n):(Ce(Be,Be.current&1),t=qi(t,e,n),t!==null?t.sibling:null);Ce(Be,Be.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return px(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ce(Be,Be.current),i)break;return null;case 22:case 23:return e.lanes=0,ux(t,e,n)}return qi(t,e,n)}var mx,Gm,gx,yx;mx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gm=function(){};gx=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,cs(hi.current);var s=null;switch(n){case"input":r=mm(t,r),i=mm(t,i),s=[];break;case"select":r=He({},r,{value:void 0}),i=He({},i,{value:void 0}),s=[];break;case"textarea":r=vm(t,r),i=vm(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=fd)}wm(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Il.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Il.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Re("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};yx=function(t,e,n,i){n!==i&&(e.flags|=4)};function Wa(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function eA(t,e,n){var i=e.pendingProps;switch(by(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(e),null;case 1:return ln(e.type)&&pd(),kt(e),null;case 3:return i=e.stateNode,qo(),Oe(an),Oe(Vt),Ry(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(ou(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wn!==null&&(tg(Wn),Wn=null))),Gm(t,e),kt(e),null;case 5:ky(e);var r=cs(Vl.current);if(n=e.type,t!==null&&e.stateNode!=null)gx(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(W(166));return kt(e),null}if(t=cs(hi.current),ou(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[ci]=e,i[Ml]=s,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",i),Re("close",i);break;case"iframe":case"object":case"embed":Re("load",i);break;case"video":case"audio":for(r=0;r<nl.length;r++)Re(nl[r],i);break;case"source":Re("error",i);break;case"img":case"image":case"link":Re("error",i),Re("load",i);break;case"details":Re("toggle",i);break;case"input":w_(i,s),Re("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Re("invalid",i);break;case"textarea":E_(i,s),Re("invalid",i)}wm(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&su(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&su(i.textContent,a,t),r=["children",""+a]):Il.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Re("scroll",i)}switch(n){case"input":Xc(i),b_(i,s,!0);break;case"textarea":Xc(i),S_(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=fd)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[ci]=e,t[Ml]=i,mx(t,e,!1,!1),e.stateNode=t;e:{switch(o=bm(n,i),n){case"dialog":Re("cancel",t),Re("close",t),r=i;break;case"iframe":case"object":case"embed":Re("load",t),r=i;break;case"video":case"audio":for(r=0;r<nl.length;r++)Re(nl[r],t);r=i;break;case"source":Re("error",t),r=i;break;case"img":case"image":case"link":Re("error",t),Re("load",t),r=i;break;case"details":Re("toggle",t),r=i;break;case"input":w_(t,i),r=mm(t,i),Re("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=He({},i,{value:void 0}),Re("invalid",t);break;case"textarea":E_(t,i),r=vm(t,i),Re("invalid",t);break;default:r=i}wm(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?KE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&WE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Cl(t,l):typeof l=="number"&&Cl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Il.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Re("scroll",t):l!=null&&oy(t,s,l,o))}switch(n){case"input":Xc(t),b_(t,i,!1);break;case"textarea":Xc(t),S_(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Nr(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?xo(t,!!i.multiple,s,!1):i.defaultValue!=null&&xo(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=fd)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kt(e),null;case 6:if(t&&e.stateNode!=null)yx(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(W(166));if(n=cs(Vl.current),cs(hi.current),ou(e)){if(i=e.stateNode,n=e.memoizedProps,i[ci]=e,(s=i.nodeValue!==n)&&(t=wn,t!==null))switch(t.tag){case 3:su(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&su(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[ci]=e,e.stateNode=i}return kt(e),null;case 13:if(Oe(Be),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&mn!==null&&e.mode&1&&!(e.flags&128))jS(),$o(),e.flags|=98560,s=!1;else if(s=ou(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[ci]=e}else $o(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kt(e),s=!1}else Wn!==null&&(tg(Wn),Wn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?at===0&&(at=3):By())),e.updateQueue!==null&&(e.flags|=4),kt(e),null);case 4:return qo(),Gm(t,e),t===null&&Dl(e.stateNode.containerInfo),kt(e),null;case 10:return Ty(e.type._context),kt(e),null;case 17:return ln(e.type)&&pd(),kt(e),null;case 19:if(Oe(Be),s=e.memoizedState,s===null)return kt(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Wa(s,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bd(t),o!==null){for(e.flags|=128,Wa(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Be,Be.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ye()>Go&&(e.flags|=128,i=!0,Wa(s,!1),e.lanes=4194304)}else{if(!i)if(t=bd(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Me)return kt(e),null}else 2*Ye()-s.renderingStartTime>Go&&n!==1073741824&&(e.flags|=128,i=!0,Wa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ye(),e.sibling=null,n=Be.current,Ce(Be,i?n&1|2:n&1),e):(kt(e),null);case 22:case 23:return Uy(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?pn&1073741824&&(kt(e),e.subtreeFlags&6&&(e.flags|=8192)):kt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function tA(t,e){switch(by(e),e.tag){case 1:return ln(e.type)&&pd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qo(),Oe(an),Oe(Vt),Ry(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ky(e),null;case 13:if(Oe(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));$o()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(Be),null;case 4:return qo(),null;case 10:return Ty(e.type._context),null;case 22:case 23:return Uy(),null;case 24:return null;default:return null}}var cu=!1,Ot=!1,nA=typeof WeakSet=="function"?WeakSet:Set,X=null;function yo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Qe(t,e,i)}else n.current=null}function Km(t,e,n){try{n()}catch(i){Qe(t,e,i)}}var hw=!1;function iA(t,e){if(Am=ud,t=ES(),_y(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||r!==0&&f.nodeType!==3||(a=o+r),f!==s||i!==0&&f.nodeType!==3||(l=o+i),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++c===r&&(a=o),p===s&&++d===i&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Om={focusedElem:t,selectionRange:n},ud=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var _=b.memoizedProps,C=b.memoizedState,E=e.stateNode,y=E.getSnapshotBeforeUpdate(e.elementType===e.type?_:Bn(e.type,_),C);E.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(P){Qe(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return b=hw,hw=!1,b}function ml(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Km(e,n,s)}r=r.next}while(r!==i)}}function Sh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Qm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vx(t){var e=t.alternate;e!==null&&(t.alternate=null,vx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ci],delete e[Ml],delete e[jm],delete e[F2],delete e[z2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _x(t){return t.tag===5||t.tag===3||t.tag===4}function fw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_x(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ym(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fd));else if(i!==4&&(t=t.child,t!==null))for(Ym(t,e,n),t=t.sibling;t!==null;)Ym(t,e,n),t=t.sibling}function Xm(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Xm(t,e,n),t=t.sibling;t!==null;)Xm(t,e,n),t=t.sibling}var gt=null,qn=!1;function er(t,e,n){for(n=n.child;n!==null;)wx(t,e,n),n=n.sibling}function wx(t,e,n){if(di&&typeof di.onCommitFiberUnmount=="function")try{di.onCommitFiberUnmount(mh,n)}catch{}switch(n.tag){case 5:Ot||yo(n,e);case 6:var i=gt,r=qn;gt=null,er(t,e,n),gt=i,qn=r,gt!==null&&(qn?(t=gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(qn?(t=gt,n=n.stateNode,t.nodeType===8?up(t.parentNode,n):t.nodeType===1&&up(t,n),Al(t)):up(gt,n.stateNode));break;case 4:i=gt,r=qn,gt=n.stateNode.containerInfo,qn=!0,er(t,e,n),gt=i,qn=r;break;case 0:case 11:case 14:case 15:if(!Ot&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Km(n,e,o),r=r.next}while(r!==i)}er(t,e,n);break;case 1:if(!Ot&&(yo(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Qe(n,e,a)}er(t,e,n);break;case 21:er(t,e,n);break;case 22:n.mode&1?(Ot=(i=Ot)||n.memoizedState!==null,er(t,e,n),Ot=i):er(t,e,n);break;default:er(t,e,n)}}function pw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nA),e.forEach(function(i){var r=hA.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function zn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:gt=a.stateNode,qn=!1;break e;case 3:gt=a.stateNode.containerInfo,qn=!0;break e;case 4:gt=a.stateNode.containerInfo,qn=!0;break e}a=a.return}if(gt===null)throw Error(W(160));wx(s,o,r),gt=null,qn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Qe(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bx(e,t),e=e.sibling}function bx(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zn(e,t),si(t),i&4){try{ml(3,t,t.return),Sh(3,t)}catch(_){Qe(t,t.return,_)}try{ml(5,t,t.return)}catch(_){Qe(t,t.return,_)}}break;case 1:zn(e,t),si(t),i&512&&n!==null&&yo(n,n.return);break;case 5:if(zn(e,t),si(t),i&512&&n!==null&&yo(n,n.return),t.flags&32){var r=t.stateNode;try{Cl(r,"")}catch(_){Qe(t,t.return,_)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&$E(r,s),bm(a,o);var c=bm(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?KE(r,f):d==="dangerouslySetInnerHTML"?WE(r,f):d==="children"?Cl(r,f):oy(r,d,f,c)}switch(a){case"input":gm(r,s);break;case"textarea":HE(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?xo(r,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?xo(r,!!s.multiple,s.defaultValue,!0):xo(r,!!s.multiple,s.multiple?[]:"",!1))}r[Ml]=s}catch(_){Qe(t,t.return,_)}}break;case 6:if(zn(e,t),si(t),i&4){if(t.stateNode===null)throw Error(W(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(_){Qe(t,t.return,_)}}break;case 3:if(zn(e,t),si(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Al(e.containerInfo)}catch(_){Qe(t,t.return,_)}break;case 4:zn(e,t),si(t);break;case 13:zn(e,t),si(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Fy=Ye())),i&4&&pw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ot=(c=Ot)||d,zn(e,t),Ot=c):zn(e,t),si(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(X=t,d=t.child;d!==null;){for(f=X=d;X!==null;){switch(p=X,g=p.child,p.tag){case 0:case 11:case 14:case 15:ml(4,p,p.return);break;case 1:yo(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){i=p,n=p.return;try{e=i,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(_){Qe(i,n,_)}}break;case 5:yo(p,p.return);break;case 22:if(p.memoizedState!==null){gw(f);continue}}g!==null?(g.return=p,X=g):gw(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{r=f.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=GE("display",o))}catch(_){Qe(t,t.return,_)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(_){Qe(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:zn(e,t),si(t),i&4&&pw(t);break;case 21:break;default:zn(e,t),si(t)}}function si(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_x(n)){var i=n;break e}n=n.return}throw Error(W(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Cl(r,""),i.flags&=-33);var s=fw(t);Xm(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=fw(t);Ym(t,a,o);break;default:throw Error(W(161))}}catch(l){Qe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rA(t,e,n){X=t,Ex(t)}function Ex(t,e,n){for(var i=(t.mode&1)!==0;X!==null;){var r=X,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||cu;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Ot;a=cu;var c=Ot;if(cu=o,(Ot=l)&&!c)for(X=r;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?yw(r):l!==null?(l.return=o,X=l):yw(r);for(;s!==null;)X=s,Ex(s),s=s.sibling;X=r,cu=a,Ot=c}mw(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,X=s):mw(t)}}function mw(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ot||Sh(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Ot)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Bn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&J_(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}J_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Al(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Ot||e.flags&512&&Qm(e)}catch(p){Qe(e,e.return,p)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function gw(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function yw(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Sh(4,e)}catch(l){Qe(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Qe(e,r,l)}}var s=e.return;try{Qm(e)}catch(l){Qe(e,s,l)}break;case 5:var o=e.return;try{Qm(e)}catch(l){Qe(e,o,l)}}}catch(l){Qe(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var sA=Math.ceil,xd=Qi.ReactCurrentDispatcher,Ly=Qi.ReactCurrentOwner,On=Qi.ReactCurrentBatchConfig,we=0,ht=null,it=null,bt=0,pn=0,vo=Hr(0),at=0,Bl=null,xs=0,xh=0,Vy=0,gl=null,sn=null,Fy=0,Go=1/0,Ii=null,Td=!1,Zm=null,xr=null,uu=!1,pr=null,Id=0,yl=0,Jm=null,$u=-1,Hu=0;function Yt(){return we&6?Ye():$u!==-1?$u:$u=Ye()}function Tr(t){return t.mode&1?we&2&&bt!==0?bt&-bt:B2.transition!==null?(Hu===0&&(Hu=oS()),Hu):(t=xe,t!==0||(t=window.event,t=t===void 0?16:fS(t.type)),t):1}function Zn(t,e,n,i){if(50<yl)throw yl=0,Jm=null,Error(W(185));uc(t,n,i),(!(we&2)||t!==ht)&&(t===ht&&(!(we&2)&&(xh|=n),at===4&&or(t,bt)),cn(t,i),n===1&&we===0&&!(e.mode&1)&&(Go=Ye()+500,wh&&qr()))}function cn(t,e){var n=t.callbackNode;BR(t,e);var i=cd(t,t===ht?bt:0);if(i===0)n!==null&&I_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&I_(n),e===1)t.tag===0?U2(vw.bind(null,t)):OS(vw.bind(null,t)),L2(function(){!(we&6)&&qr()}),n=null;else{switch(aS(i)){case 1:n=dy;break;case 4:n=rS;break;case 16:n=ld;break;case 536870912:n=sS;break;default:n=ld}n=Rx(n,Sx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Sx(t,e){if($u=-1,Hu=0,we&6)throw Error(W(327));var n=t.callbackNode;if(ko()&&t.callbackNode!==n)return null;var i=cd(t,t===ht?bt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Cd(t,i);else{e=i;var r=we;we|=2;var s=Tx();(ht!==t||bt!==e)&&(Ii=null,Go=Ye()+500,ms(t,e));do try{lA();break}catch(a){xx(t,a)}while(!0);xy(),xd.current=s,we=r,it!==null?e=0:(ht=null,bt=0,e=at)}if(e!==0){if(e===2&&(r=Im(t),r!==0&&(i=r,e=eg(t,r))),e===1)throw n=Bl,ms(t,0),or(t,i),cn(t,Ye()),n;if(e===6)or(t,i);else{if(r=t.current.alternate,!(i&30)&&!oA(r)&&(e=Cd(t,i),e===2&&(s=Im(t),s!==0&&(i=s,e=eg(t,s))),e===1))throw n=Bl,ms(t,0),or(t,i),cn(t,Ye()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(W(345));case 2:rs(t,sn,Ii);break;case 3:if(or(t,i),(i&130023424)===i&&(e=Fy+500-Ye(),10<e)){if(cd(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Yt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Dm(rs.bind(null,t,sn,Ii),e);break}rs(t,sn,Ii);break;case 4:if(or(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-Xn(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Ye()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*sA(i/1960))-i,10<i){t.timeoutHandle=Dm(rs.bind(null,t,sn,Ii),i);break}rs(t,sn,Ii);break;case 5:rs(t,sn,Ii);break;default:throw Error(W(329))}}}return cn(t,Ye()),t.callbackNode===n?Sx.bind(null,t):null}function eg(t,e){var n=gl;return t.current.memoizedState.isDehydrated&&(ms(t,e).flags|=256),t=Cd(t,e),t!==2&&(e=sn,sn=n,e!==null&&tg(e)),t}function tg(t){sn===null?sn=t:sn.push.apply(sn,t)}function oA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ti(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function or(t,e){for(e&=~Vy,e&=~xh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xn(e),i=1<<n;t[n]=-1,e&=~i}}function vw(t){if(we&6)throw Error(W(327));ko();var e=cd(t,0);if(!(e&1))return cn(t,Ye()),null;var n=Cd(t,e);if(t.tag!==0&&n===2){var i=Im(t);i!==0&&(e=i,n=eg(t,i))}if(n===1)throw n=Bl,ms(t,0),or(t,e),cn(t,Ye()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rs(t,sn,Ii),cn(t,Ye()),null}function zy(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(Go=Ye()+500,wh&&qr())}}function Ts(t){pr!==null&&pr.tag===0&&!(we&6)&&ko();var e=we;we|=1;var n=On.transition,i=xe;try{if(On.transition=null,xe=1,t)return t()}finally{xe=i,On.transition=n,we=e,!(we&6)&&qr()}}function Uy(){pn=vo.current,Oe(vo)}function ms(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,M2(n)),it!==null)for(n=it.return;n!==null;){var i=n;switch(by(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&pd();break;case 3:qo(),Oe(an),Oe(Vt),Ry();break;case 5:ky(i);break;case 4:qo();break;case 13:Oe(Be);break;case 19:Oe(Be);break;case 10:Ty(i.type._context);break;case 22:case 23:Uy()}n=n.return}if(ht=t,it=t=Ir(t.current,null),bt=pn=e,at=0,Bl=null,Vy=xh=xs=0,sn=gl=null,ls!==null){for(e=0;e<ls.length;e++)if(n=ls[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}ls=null}return t}function xx(t,e){do{var n=it;try{if(xy(),zu.current=Sd,Ed){for(var i=$e.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ed=!1}if(Ss=0,ut=ot=$e=null,pl=!1,Fl=0,Ly.current=null,n===null||n.return===null){at=1,Bl=e,it=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=bt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=sw(o);if(g!==null){g.flags&=-257,ow(g,o,a,s,e),g.mode&1&&rw(s,c,e),e=g,l=c;var b=e.updateQueue;if(b===null){var _=new Set;_.add(l),e.updateQueue=_}else b.add(l);break e}else{if(!(e&1)){rw(s,c,e),By();break e}l=Error(W(426))}}else if(Me&&a.mode&1){var C=sw(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),ow(C,o,a,s,e),Ey(Wo(l,a));break e}}s=l=Wo(l,a),at!==4&&(at=2),gl===null?gl=[s]:gl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=ax(s,l,e);Z_(s,E);break e;case 1:a=l;var y=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(xr===null||!xr.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=lx(s,a,e);Z_(s,P);break e}}s=s.return}while(s!==null)}Cx(n)}catch(D){e=D,it===n&&n!==null&&(it=n=n.return);continue}break}while(!0)}function Tx(){var t=xd.current;return xd.current=Sd,t===null?Sd:t}function By(){(at===0||at===3||at===2)&&(at=4),ht===null||!(xs&268435455)&&!(xh&268435455)||or(ht,bt)}function Cd(t,e){var n=we;we|=2;var i=Tx();(ht!==t||bt!==e)&&(Ii=null,ms(t,e));do try{aA();break}catch(r){xx(t,r)}while(!0);if(xy(),we=n,xd.current=i,it!==null)throw Error(W(261));return ht=null,bt=0,at}function aA(){for(;it!==null;)Ix(it)}function lA(){for(;it!==null&&!NR();)Ix(it)}function Ix(t){var e=kx(t.alternate,t,pn);t.memoizedProps=t.pendingProps,e===null?Cx(t):it=e,Ly.current=null}function Cx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tA(n,e),n!==null){n.flags&=32767,it=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,it=null;return}}else if(n=eA(n,e,pn),n!==null){it=n;return}if(e=e.sibling,e!==null){it=e;return}it=e=t}while(e!==null);at===0&&(at=5)}function rs(t,e,n){var i=xe,r=On.transition;try{On.transition=null,xe=1,cA(t,e,n,i)}finally{On.transition=r,xe=i}return null}function cA(t,e,n,i){do ko();while(pr!==null);if(we&6)throw Error(W(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if($R(t,s),t===ht&&(it=ht=null,bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||uu||(uu=!0,Rx(ld,function(){return ko(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=On.transition,On.transition=null;var o=xe;xe=1;var a=we;we|=4,Ly.current=null,iA(t,n),bx(n,t),k2(Om),ud=!!Am,Om=Am=null,t.current=n,rA(n),DR(),we=a,xe=o,On.transition=s}else t.current=n;if(uu&&(uu=!1,pr=t,Id=r),s=t.pendingLanes,s===0&&(xr=null),LR(n.stateNode),cn(t,Ye()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Td)throw Td=!1,t=Zm,Zm=null,t;return Id&1&&t.tag!==0&&ko(),s=t.pendingLanes,s&1?t===Jm?yl++:(yl=0,Jm=t):yl=0,qr(),null}function ko(){if(pr!==null){var t=aS(Id),e=On.transition,n=xe;try{if(On.transition=null,xe=16>t?16:t,pr===null)var i=!1;else{if(t=pr,pr=null,Id=0,we&6)throw Error(W(331));var r=we;for(we|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(X=c;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:ml(8,d,s)}var f=d.child;if(f!==null)f.return=d,X=f;else for(;X!==null;){d=X;var p=d.sibling,g=d.return;if(vx(d),d===c){X=null;break}if(p!==null){p.return=g,X=p;break}X=g}}}var b=s.alternate;if(b!==null){var _=b.child;if(_!==null){b.child=null;do{var C=_.sibling;_.sibling=null,_=C}while(_!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ml(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,X=E;break e}X=s.return}}var y=t.current;for(X=y;X!==null;){o=X;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,X=x;else e:for(o=y;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sh(9,a)}}catch(D){Qe(a,a.return,D)}if(a===o){X=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,X=P;break e}X=a.return}}if(we=r,qr(),di&&typeof di.onPostCommitFiberRoot=="function")try{di.onPostCommitFiberRoot(mh,t)}catch{}i=!0}return i}finally{xe=n,On.transition=e}}return!1}function _w(t,e,n){e=Wo(n,e),e=ax(t,e,1),t=Sr(t,e,1),e=Yt(),t!==null&&(uc(t,1,e),cn(t,e))}function Qe(t,e,n){if(t.tag===3)_w(t,t,n);else for(;e!==null;){if(e.tag===3){_w(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(xr===null||!xr.has(i))){t=Wo(n,t),t=lx(e,t,1),e=Sr(e,t,1),t=Yt(),e!==null&&(uc(e,1,t),cn(e,t));break}}e=e.return}}function uA(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Yt(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(bt&n)===n&&(at===4||at===3&&(bt&130023424)===bt&&500>Ye()-Fy?ms(t,0):Vy|=n),cn(t,e)}function Px(t,e){e===0&&(t.mode&1?(e=eu,eu<<=1,!(eu&130023424)&&(eu=4194304)):e=1);var n=Yt();t=Hi(t,e),t!==null&&(uc(t,e,n),cn(t,n))}function dA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Px(t,n)}function hA(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(W(314))}i!==null&&i.delete(e),Px(t,n)}var kx;kx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||an.current)on=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return on=!1,J2(t,e,n);on=!!(t.flags&131072)}else on=!1,Me&&e.flags&1048576&&NS(e,yd,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Bu(t,e),t=e.pendingProps;var r=Bo(e,Vt.current);Po(e,n),r=Oy(null,e,i,t,r,n);var s=Ny();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ln(i)?(s=!0,md(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Cy(e),r.updater=Eh,e.stateNode=r,r._reactInternals=e,Um(e,i,t,n),e=Hm(null,e,i,!0,s,n)):(e.tag=0,Me&&s&&wy(e),Gt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Bu(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=pA(i),t=Bn(i,t),r){case 0:e=$m(null,e,i,t,n);break e;case 1:e=cw(null,e,i,t,n);break e;case 11:e=aw(null,e,i,t,n);break e;case 14:e=lw(null,e,i,Bn(i.type,t),n);break e}throw Error(W(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Bn(i,r),$m(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Bn(i,r),cw(t,e,i,r,n);case 3:e:{if(hx(e),t===null)throw Error(W(387));i=e.pendingProps,s=e.memoizedState,r=s.element,FS(t,e),wd(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Wo(Error(W(423)),e),e=uw(t,e,i,n,r);break e}else if(i!==r){r=Wo(Error(W(424)),e),e=uw(t,e,i,n,r);break e}else for(mn=Er(e.stateNode.containerInfo.firstChild),wn=e,Me=!0,Wn=null,n=LS(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($o(),i===r){e=qi(t,e,n);break e}Gt(t,e,i,n)}e=e.child}return e;case 5:return zS(e),t===null&&Vm(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,Nm(i,r)?o=null:s!==null&&Nm(i,s)&&(e.flags|=32),dx(t,e),Gt(t,e,o,n),e.child;case 6:return t===null&&Vm(e),null;case 13:return fx(t,e,n);case 4:return Py(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ho(e,null,i,n):Gt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Bn(i,r),aw(t,e,i,r,n);case 7:return Gt(t,e,e.pendingProps,n),e.child;case 8:return Gt(t,e,e.pendingProps.children,n),e.child;case 12:return Gt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Ce(vd,i._currentValue),i._currentValue=o,s!==null)if(ti(s.value,o)){if(s.children===r.children&&!an.current){e=qi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Mi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Fm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Fm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Po(e,n),r=Nn(r),i=i(r),e.flags|=1,Gt(t,e,i,n),e.child;case 14:return i=e.type,r=Bn(i,e.pendingProps),r=Bn(i.type,r),lw(t,e,i,r,n);case 15:return cx(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Bn(i,r),Bu(t,e),e.tag=1,ln(i)?(t=!0,md(e)):t=!1,Po(e,n),ox(e,i,r),Um(e,i,r,n),Hm(null,e,i,!0,t,n);case 19:return px(t,e,n);case 22:return ux(t,e,n)}throw Error(W(156,e.tag))};function Rx(t,e){return iS(t,e)}function fA(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,e,n,i){return new fA(t,e,n,i)}function $y(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pA(t){if(typeof t=="function")return $y(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ly)return 11;if(t===cy)return 14}return 2}function Ir(t,e){var n=t.alternate;return n===null?(n=An(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qu(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")$y(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ao:return gs(n.children,r,s,e);case ay:o=8,r|=8;break;case dm:return t=An(12,n,e,r|2),t.elementType=dm,t.lanes=s,t;case hm:return t=An(13,n,e,r),t.elementType=hm,t.lanes=s,t;case fm:return t=An(19,n,e,r),t.elementType=fm,t.lanes=s,t;case zE:return Th(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case VE:o=10;break e;case FE:o=9;break e;case ly:o=11;break e;case cy:o=14;break e;case nr:o=16,i=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=An(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function gs(t,e,n,i){return t=An(7,t,i,e),t.lanes=n,t}function Th(t,e,n,i){return t=An(22,t,i,e),t.elementType=zE,t.lanes=n,t.stateNode={isHidden:!1},t}function vp(t,e,n){return t=An(6,t,null,e),t.lanes=n,t}function _p(t,e,n){return e=An(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mA(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jf(0),this.expirationTimes=Jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jf(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Hy(t,e,n,i,r,s,o,a,l){return t=new mA(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=An(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cy(s),t}function gA(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oo,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function Ax(t){if(!t)return Dr;t=t._reactInternals;e:{if(Fs(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(ln(n))return AS(t,n,e)}return e}function Ox(t,e,n,i,r,s,o,a,l){return t=Hy(n,i,!0,t,r,s,o,a,l),t.context=Ax(null),n=t.current,i=Yt(),r=Tr(n),s=Mi(i,r),s.callback=e??null,Sr(n,s,r),t.current.lanes=r,uc(t,r,i),cn(t,i),t}function Ih(t,e,n,i){var r=e.current,s=Yt(),o=Tr(r);return n=Ax(n),e.context===null?e.context=n:e.pendingContext=n,e=Mi(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Sr(r,e,o),t!==null&&(Zn(t,r,o,s),Fu(t,r,o)),o}function Pd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ww(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qy(t,e){ww(t,e),(t=t.alternate)&&ww(t,e)}function yA(){return null}var Nx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wy(t){this._internalRoot=t}Ch.prototype.render=Wy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Ih(t,e,null,null)};Ch.prototype.unmount=Wy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ts(function(){Ih(null,t,null,null)}),e[$i]=null}};function Ch(t){this._internalRoot=t}Ch.prototype.unstable_scheduleHydration=function(t){if(t){var e=uS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sr.length&&e!==0&&e<sr[n].priority;n++);sr.splice(n,0,t),n===0&&hS(t)}};function Gy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ph(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bw(){}function vA(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Pd(o);s.call(c)}}var o=Ox(e,i,t,0,null,!1,!1,"",bw);return t._reactRootContainer=o,t[$i]=o.current,Dl(t.nodeType===8?t.parentNode:t),Ts(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Pd(l);a.call(c)}}var l=Hy(t,0,!1,null,null,!1,!1,"",bw);return t._reactRootContainer=l,t[$i]=l.current,Dl(t.nodeType===8?t.parentNode:t),Ts(function(){Ih(e,l,n,i)}),l}function kh(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Pd(o);a.call(l)}}Ih(e,o,t,r)}else o=vA(n,e,t,r,i);return Pd(o)}lS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=tl(e.pendingLanes);n!==0&&(hy(e,n|1),cn(e,Ye()),!(we&6)&&(Go=Ye()+500,qr()))}break;case 13:Ts(function(){var i=Hi(t,1);if(i!==null){var r=Yt();Zn(i,t,1,r)}}),qy(t,1)}};fy=function(t){if(t.tag===13){var e=Hi(t,134217728);if(e!==null){var n=Yt();Zn(e,t,134217728,n)}qy(t,134217728)}};cS=function(t){if(t.tag===13){var e=Tr(t),n=Hi(t,e);if(n!==null){var i=Yt();Zn(n,t,e,i)}qy(t,e)}};uS=function(){return xe};dS=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};Sm=function(t,e,n){switch(e){case"input":if(gm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=_h(i);if(!r)throw Error(W(90));BE(i),gm(i,r)}}}break;case"textarea":HE(t,n);break;case"select":e=n.value,e!=null&&xo(t,!!n.multiple,e,!1)}};XE=zy;ZE=Ts;var _A={usingClientEntryPoint:!1,Events:[hc,ho,_h,QE,YE,zy]},Ga={findFiberByHostInstance:as,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wA={bundleType:Ga.bundleType,version:Ga.version,rendererPackageName:Ga.rendererPackageName,rendererConfig:Ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tS(t),t===null?null:t.stateNode},findFiberByHostInstance:Ga.findFiberByHostInstance||yA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{mh=du.inject(wA),di=du}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_A;Sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gy(e))throw Error(W(200));return gA(t,e,null,n)};Sn.createRoot=function(t,e){if(!Gy(t))throw Error(W(299));var n=!1,i="",r=Nx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Hy(t,1,!1,null,null,n,!1,i,r),t[$i]=e.current,Dl(t.nodeType===8?t.parentNode:t),new Wy(e)};Sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=tS(e),t=t===null?null:t.stateNode,t};Sn.flushSync=function(t){return Ts(t)};Sn.hydrate=function(t,e,n){if(!Ph(e))throw Error(W(200));return kh(null,t,e,!0,n)};Sn.hydrateRoot=function(t,e,n){if(!Gy(t))throw Error(W(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=Nx;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ox(e,null,t,1,n??null,r,!1,s,o),t[$i]=e.current,Dl(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Ch(e)};Sn.render=function(t,e,n){if(!Ph(e))throw Error(W(200));return kh(null,t,e,!1,n)};Sn.unmountComponentAtNode=function(t){if(!Ph(t))throw Error(W(40));return t._reactRootContainer?(Ts(function(){kh(null,null,t,!1,function(){t._reactRootContainer=null,t[$i]=null})}),!0):!1};Sn.unstable_batchedUpdates=zy;Sn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Ph(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return kh(t,e,n,!1,i)};Sn.version="18.3.1-next-f1338f8080-20240426";function Dx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dx)}catch(t){console.error(t)}}Dx(),DE.exports=Sn;var bA=DE.exports,Ew=bA;cm.createRoot=Ew.createRoot,cm.hydrateRoot=Ew.hydrateRoot;/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $l(){return $l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},$l.apply(this,arguments)}var mr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(mr||(mr={}));const Sw="popstate";function EA(t){t===void 0&&(t={});function e(r,s){let{pathname:o="/",search:a="",hash:l=""}=zs(r.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),ng("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:kd(s))}function i(r,s){Ky(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return xA(e,n,i,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ky(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SA(){return Math.random().toString(36).substr(2,8)}function xw(t,e){return{usr:t.state,key:t.key,idx:e}}function ng(t,e,n,i){return n===void 0&&(n=null),$l({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zs(e):e,{state:n,key:e&&e.key||i||SA()})}function kd(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function zs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function xA(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=mr.Pop,l=null,c=d();c==null&&(c=0,o.replaceState($l({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=mr.Pop;let C=d(),E=C==null?null:C-c;c=C,l&&l({action:a,location:_.location,delta:E})}function p(C,E){a=mr.Push;let y=ng(_.location,C,E);n&&n(y,C),c=d()+1;let x=xw(y,c),P=_.createHref(y);try{o.pushState(x,"",P)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(P)}s&&l&&l({action:a,location:_.location,delta:1})}function g(C,E){a=mr.Replace;let y=ng(_.location,C,E);n&&n(y,C),c=d();let x=xw(y,c),P=_.createHref(y);o.replaceState(x,"",P),s&&l&&l({action:a,location:_.location,delta:0})}function b(C){let E=r.location.origin!=="null"?r.location.origin:r.location.href,y=typeof C=="string"?C:kd(C);return y=y.replace(/ $/,"%20"),Ze(E,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,E)}let _={get action(){return a},get location(){return t(r,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Sw,f),l=C,()=>{r.removeEventListener(Sw,f),l=null}},createHref(C){return e(r,C)},createURL:b,encodeLocation(C){let E=b(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:g,go(C){return o.go(C)}};return _}var Tw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Tw||(Tw={}));function TA(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?zs(e):e,r=Qy(i.pathname||"/",n);if(r==null)return null;let s=jx(t);IA(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=VA(r);o=jA(s[a],l)}return o}function jx(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ze(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Cr([i,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),jx(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:NA(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of Mx(s.path))r(s,o,l)}),e}function Mx(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=Mx(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function IA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DA(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const CA=/^:[\w-]+$/,PA=3,kA=2,RA=1,AA=10,OA=-2,Iw=t=>t==="*";function NA(t,e){let n=t.split("/"),i=n.length;return n.some(Iw)&&(i+=OA),e&&(i+=kA),n.filter(r=>!Iw(r)).reduce((r,s)=>r+(CA.test(s)?PA:s===""?RA:AA),i)}function DA(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function jA(t,e){let{routesMeta:n}=t,i={},r="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=r==="/"?e:e.slice(r.length)||"/",d=MA({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(i,d.params);let f=a.route;s.push({params:i,pathname:Cr([r,d.pathname]),pathnameBase:BA(Cr([r,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(r=Cr([r,d.pathnameBase]))}return s}function MA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=LA(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let _=a[f]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const b=a[f];return g&&!b?c[p]=void 0:c[p]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function LA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ky(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function VA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ky(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Qy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function FA(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?zs(t):t;return{pathname:n?n.startsWith("/")?n:zA(n,e):e,search:$A(i),hash:HA(r)}}function zA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function wp(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Yy(t,e){let n=UA(t);return e?n.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Xy(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=zs(t):(r=$l({},t),Ze(!r.pathname||!r.pathname.includes("?"),wp("?","pathname","search",r)),Ze(!r.pathname||!r.pathname.includes("#"),wp("#","pathname","hash",r)),Ze(!r.search||!r.search.includes("#"),wp("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;r.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=FA(r,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Cr=t=>t.join("/").replace(/\/\/+/g,"/"),BA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$A=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Lx=["post","put","patch","delete"];new Set(Lx);const WA=["get",...Lx];new Set(WA);/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Hl.apply(this,arguments)}const Zy=j.createContext(null),GA=j.createContext(null),Wr=j.createContext(null),Rh=j.createContext(null),Yi=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Vx=j.createContext(null);function KA(t,e){let{relative:n}=e===void 0?{}:e;ya()||Ze(!1);let{basename:i,navigator:r}=j.useContext(Wr),{hash:s,pathname:o,search:a}=zx(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:Cr([i,o])),r.createHref({pathname:l,search:a,hash:s})}function ya(){return j.useContext(Rh)!=null}function _i(){return ya()||Ze(!1),j.useContext(Rh).location}function Fx(t){j.useContext(Wr).static||j.useLayoutEffect(t)}function Ln(){let{isDataRoute:t}=j.useContext(Yi);return t?aO():QA()}function QA(){ya()||Ze(!1);let t=j.useContext(Zy),{basename:e,future:n,navigator:i}=j.useContext(Wr),{matches:r}=j.useContext(Yi),{pathname:s}=_i(),o=JSON.stringify(Yy(r,n.v7_relativeSplatPath)),a=j.useRef(!1);return Fx(()=>{a.current=!0}),j.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let f=Xy(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Cr([e,f.pathname])),(d.replace?i.replace:i.push)(f,d.state,d)},[e,i,o,s,t])}function Ah(){let{matches:t}=j.useContext(Yi),e=t[t.length-1];return e?e.params:{}}function zx(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=j.useContext(Wr),{matches:r}=j.useContext(Yi),{pathname:s}=_i(),o=JSON.stringify(Yy(r,i.v7_relativeSplatPath));return j.useMemo(()=>Xy(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function YA(t,e){return XA(t,e)}function XA(t,e,n,i){ya()||Ze(!1);let{navigator:r}=j.useContext(Wr),{matches:s}=j.useContext(Yi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=_i(),d;if(e){var f;let C=typeof e=="string"?zs(e):e;l==="/"||(f=C.pathname)!=null&&f.startsWith(l)||Ze(!1),d=C}else d=c;let p=d.pathname||"/",g=p;if(l!=="/"){let C=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(C.length).join("/")}let b=TA(t,{pathname:g}),_=nO(b&&b.map(C=>Object.assign({},C,{params:Object.assign({},a,C.params),pathname:Cr([l,r.encodeLocation?r.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?l:Cr([l,r.encodeLocation?r.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,i);return e&&_?j.createElement(Rh.Provider,{value:{location:Hl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:mr.Pop}},_):_}function ZA(){let t=oO(),e=qA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:r},n):null,null)}const JA=j.createElement(ZA,null);class eO extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(Yi.Provider,{value:this.props.routeContext},j.createElement(Vx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tO(t){let{routeContext:e,match:n,children:i}=t,r=j.useContext(Zy);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Yi.Provider,{value:e},i)}function nO(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Ze(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:g}=n,b=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||b){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let g,b=!1,_=null,C=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,_=f.route.errorElement||JA,l&&(c<0&&p===0?(b=!0,C=null):c===p&&(b=!0,C=f.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,p+1)),y=()=>{let x;return g?x=_:b?x=C:f.route.Component?x=j.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,j.createElement(tO,{match:f,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?j.createElement(eO,{location:n.location,revalidation:n.revalidation,component:_,error:g,children:y(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):y()},null)}var Ux=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ux||{}),Rd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rd||{});function iO(t){let e=j.useContext(Zy);return e||Ze(!1),e}function rO(t){let e=j.useContext(GA);return e||Ze(!1),e}function sO(t){let e=j.useContext(Yi);return e||Ze(!1),e}function Bx(t){let e=sO(),n=e.matches[e.matches.length-1];return n.route.id||Ze(!1),n.route.id}function oO(){var t;let e=j.useContext(Vx),n=rO(Rd.UseRouteError),i=Bx(Rd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function aO(){let{router:t}=iO(Ux.UseNavigateStable),e=Bx(Rd.UseNavigateStable),n=j.useRef(!1);return Fx(()=>{n.current=!0}),j.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Hl({fromRouteId:e},s)))},[t,e])}function $x(t){let{to:e,replace:n,state:i,relative:r}=t;ya()||Ze(!1);let{future:s,static:o}=j.useContext(Wr),{matches:a}=j.useContext(Yi),{pathname:l}=_i(),c=Ln(),d=Xy(e,Yy(a,s.v7_relativeSplatPath),l,r==="path"),f=JSON.stringify(d);return j.useEffect(()=>c(JSON.parse(f),{replace:n,state:i,relative:r}),[c,f,r,n,i]),null}function Wt(t){Ze(!1)}function lO(t){let{basename:e="/",children:n=null,location:i,navigationType:r=mr.Pop,navigator:s,static:o=!1,future:a}=t;ya()&&Ze(!1);let l=e.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:l,navigator:s,static:o,future:Hl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=zs(i));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:b="default"}=i,_=j.useMemo(()=>{let C=Qy(d,l);return C==null?null:{location:{pathname:C,search:f,hash:p,state:g,key:b},navigationType:r}},[l,d,f,p,g,b,r]);return _==null?null:j.createElement(Wr.Provider,{value:c},j.createElement(Rh.Provider,{children:n,value:_}))}function cO(t){let{children:e,location:n}=t;return YA(ig(e),n)}new Promise(()=>{});function ig(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(i,r)=>{if(!j.isValidElement(i))return;let s=[...e,r];if(i.type===j.Fragment){n.push.apply(n,ig(i.props.children,s));return}i.type!==Wt&&Ze(!1),!i.props.index||!i.props.children||Ze(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=ig(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rg(){return rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},rg.apply(this,arguments)}function uO(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function dO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hO(t,e){return t.button===0&&(!e||e==="_self")&&!dO(t)}const fO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],pO="6";try{window.__reactRouterVersion=pO}catch{}const mO="startTransition",Cw=uR[mO];function gO(t){let{basename:e,children:n,future:i,window:r}=t,s=j.useRef();s.current==null&&(s.current=EA({window:r,v5Compat:!0}));let o=s.current,[a,l]=j.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},d=j.useCallback(f=>{c&&Cw?Cw(()=>l(f)):l(f)},[l,c]);return j.useLayoutEffect(()=>o.listen(d),[o,d]),j.createElement(lO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:i})}const yO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ze=j.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,unstable_viewTransition:f}=e,p=uO(e,fO),{basename:g}=j.useContext(Wr),b,_=!1;if(typeof c=="string"&&vO.test(c)&&(b=c,yO))try{let x=new URL(window.location.href),P=c.startsWith("//")?new URL(x.protocol+c):new URL(c),D=Qy(P.pathname,g);P.origin===x.origin&&D!=null?c=D+P.search+P.hash:_=!0}catch{}let C=KA(c,{relative:r}),E=_O(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:r,unstable_viewTransition:f});function y(x){i&&i(x),x.defaultPrevented||E(x)}return j.createElement("a",rg({},p,{href:b||C,onClick:_||s?i:y,ref:n,target:l}))});var Pw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Pw||(Pw={}));var kw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(kw||(kw={}));function _O(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Ln(),c=_i(),d=zx(t,{relative:o});return j.useCallback(f=>{if(hO(f,n)){f.preventDefault();let p=i!==void 0?i:kd(c)===kd(d);l(t,{replace:p,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,d,i,r,n,t,s,o,a])}var Hx={},qx={},Wx={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];if(typeof window<"u"){var a;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(a=window).gtag.apply(a,s)}},n=e;t.default=n})(Wx);var Gx={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(a){return a.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(l,c,d){return c>0&&c+l.length!==d.length&&l.search(e)>-1&&d.charAt(c-2)!==":"&&(d.charAt(c+l.length)!=="-"||d.charAt(c-1)==="-")&&d.charAt(c-1).search(/[^\s-]/)<0?l.toLowerCase():l.substr(1).search(/[A-Z]|\../)>-1?l:l.charAt(0).toUpperCase()+l.substr(1)})}function i(a){return typeof a=="string"&&a.indexOf("@")!==-1}var r="REDACTED (Potential Email Address)";function s(a){return i(a)?(console.warn("This arg looks like an email address, redacting."),r):a}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,d=a||"";return l&&(d=n(a)),c&&(d=s(d)),d}})(Gx);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GA4=void 0;var e=o(Wx),n=o(Gx),i=["eventCategory","eventAction","eventLabel","eventValue","hitType"],r=["title","location"],s=["page","hitType"];function o(M){return M&&M.__esModule?M:{default:M}}function a(M,L){if(M==null)return{};var z=l(M,L),U,F;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(M);for(F=0;F<$.length;F++)U=$[F],!(L.indexOf(U)>=0)&&Object.prototype.propertyIsEnumerable.call(M,U)&&(z[U]=M[U])}return z}function l(M,L){if(M==null)return{};var z={},U=Object.keys(M),F,$;for($=0;$<U.length;$++)F=U[$],!(L.indexOf(F)>=0)&&(z[F]=M[F]);return z}function c(M){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},c(M)}function d(M){return g(M)||p(M)||y(M)||f()}function f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(M){if(typeof Symbol<"u"&&M[Symbol.iterator]!=null||M["@@iterator"]!=null)return Array.from(M)}function g(M){if(Array.isArray(M))return x(M)}function b(M,L){var z=Object.keys(M);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(M);L&&(U=U.filter(function(F){return Object.getOwnPropertyDescriptor(M,F).enumerable})),z.push.apply(z,U)}return z}function _(M){for(var L=1;L<arguments.length;L++){var z=arguments[L]!=null?arguments[L]:{};L%2?b(Object(z),!0).forEach(function(U){w(M,U,z[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(z)):b(Object(z)).forEach(function(U){Object.defineProperty(M,U,Object.getOwnPropertyDescriptor(z,U))})}return M}function C(M,L){return D(M)||P(M,L)||y(M,L)||E()}function E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(M,L){if(M){if(typeof M=="string")return x(M,L);var z=Object.prototype.toString.call(M).slice(8,-1);if(z==="Object"&&M.constructor&&(z=M.constructor.name),z==="Map"||z==="Set")return Array.from(M);if(z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z))return x(M,L)}}function x(M,L){(L==null||L>M.length)&&(L=M.length);for(var z=0,U=new Array(L);z<L;z++)U[z]=M[z];return U}function P(M,L){var z=M==null?null:typeof Symbol<"u"&&M[Symbol.iterator]||M["@@iterator"];if(z!=null){var U,F,$,G,J=[],ee=!0,Y=!1;try{if($=(z=z.call(M)).next,L!==0)for(;!(ee=(U=$.call(z)).done)&&(J.push(U.value),J.length!==L);ee=!0);}catch(le){Y=!0,F=le}finally{try{if(!ee&&z.return!=null&&(G=z.return(),Object(G)!==G))return}finally{if(Y)throw F}}return J}}function D(M){if(Array.isArray(M))return M}function O(M,L){if(!(M instanceof L))throw new TypeError("Cannot call a class as a function")}function T(M,L){for(var z=0;z<L.length;z++){var U=L[z];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(M,I(U.key),U)}}function S(M,L,z){return L&&T(M.prototype,L),Object.defineProperty(M,"prototype",{writable:!1}),M}function w(M,L,z){return L=I(L),L in M?Object.defineProperty(M,L,{value:z,enumerable:!0,configurable:!0,writable:!0}):M[L]=z,M}function I(M){var L=A(M,"string");return c(L)==="symbol"?L:String(L)}function A(M,L){if(c(M)!=="object"||M===null)return M;var z=M[Symbol.toPrimitive];if(z!==void 0){var U=z.call(M,L||"default");if(c(U)!=="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(M)}var N=function(){function M(){var L=this;O(this,M),w(this,"reset",function(){L.isInitialized=!1,L._testMode=!1,L._currentMeasurementId,L._hasLoadedGA=!1,L._isQueuing=!1,L._queueGtag=[]}),w(this,"_gtag",function(){for(var z=arguments.length,U=new Array(z),F=0;F<z;F++)U[F]=arguments[F];L._testMode||L._isQueuing?L._queueGtag.push(U):e.default.apply(void 0,U)}),w(this,"_loadGA",function(z,U){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!L._hasLoadedGA){var $=document.createElement("script");$.async=!0,$.src="".concat(F,"?id=").concat(z),U&&$.setAttribute("nonce",U),document.body.appendChild($),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},L._hasLoadedGA=!0}}),w(this,"_toGtagOptions",function(z){if(z){var U={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},F=Object.entries(z).reduce(function($,G){var J=C(G,2),ee=J[0],Y=J[1];return U[ee]?$[U[ee]]=Y:$[ee]=Y,$},{});return F}}),w(this,"initialize",function(z){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!z)throw new Error("Require GA_MEASUREMENT_ID");var F=typeof z=="string"?[{trackingId:z}]:z;L._currentMeasurementId=F[0].trackingId;var $=U.gaOptions,G=U.gtagOptions,J=U.nonce,ee=U.testMode,Y=ee===void 0?!1:ee,le=U.gtagUrl;if(L._testMode=Y,Y||L._loadGA(L._currentMeasurementId,J,le),L.isInitialized||(L._gtag("js",new Date),F.forEach(function(Fe){var Gs=_(_(_({},L._toGtagOptions(_(_({},$),Fe.gaOptions))),G),Fe.gtagOptions);Object.keys(Gs).length?L._gtag("config",Fe.trackingId,Gs):L._gtag("config",Fe.trackingId)})),L.isInitialized=!0,!Y){var ve=d(L._queueGtag);for(L._queueGtag=[],L._isQueuing=!1;ve.length;){var Ve=ve.shift();L._gtag.apply(L,d(Ve)),Ve[0]==="get"&&(L._isQueuing=!0)}}}),w(this,"set",function(z){if(!z){console.warn("`fieldsObject` is required in .set()");return}if(c(z)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(z).length===0&&console.warn("empty `fieldsObject` given to .set()"),L._gaCommand("set",z)}),w(this,"_gaCommandSendEvent",function(z,U,F,$,G){L._gtag("event",U,_(_({event_category:z,event_label:F,value:$},G&&{non_interaction:G.nonInteraction}),L._toGtagOptions(G)))}),w(this,"_gaCommandSendEventParameters",function(){for(var z=arguments.length,U=new Array(z),F=0;F<z;F++)U[F]=arguments[F];if(typeof U[0]=="string")L._gaCommandSendEvent.apply(L,d(U.slice(1)));else{var $=U[0],G=$.eventCategory,J=$.eventAction,ee=$.eventLabel,Y=$.eventValue;$.hitType;var le=a($,i);L._gaCommandSendEvent(G,J,ee,Y,le)}}),w(this,"_gaCommandSendTiming",function(z,U,F,$){L._gtag("event","timing_complete",{name:U,value:F,event_category:z,event_label:$})}),w(this,"_gaCommandSendPageview",function(z,U){if(U&&Object.keys(U).length){var F=L._toGtagOptions(U),$=F.title,G=F.location,J=a(F,r);L._gtag("event","page_view",_(_(_(_({},z&&{page_path:z}),$&&{page_title:$}),G&&{page_location:G}),J))}else z?L._gtag("event","page_view",{page_path:z}):L._gtag("event","page_view")}),w(this,"_gaCommandSendPageviewParameters",function(){for(var z=arguments.length,U=new Array(z),F=0;F<z;F++)U[F]=arguments[F];if(typeof U[0]=="string")L._gaCommandSendPageview.apply(L,d(U.slice(1)));else{var $=U[0],G=$.page;$.hitType;var J=a($,s);L._gaCommandSendPageview(G,J)}}),w(this,"_gaCommandSend",function(){for(var z=arguments.length,U=new Array(z),F=0;F<z;F++)U[F]=arguments[F];var $=typeof U[0]=="string"?U[0]:U[0].hitType;switch($){case"event":L._gaCommandSendEventParameters.apply(L,U);break;case"pageview":L._gaCommandSendPageviewParameters.apply(L,U);break;case"timing":L._gaCommandSendTiming.apply(L,d(U.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat($));break;default:console.warn("Send command doesn't exist: ".concat($))}}),w(this,"_gaCommandSet",function(){for(var z=arguments.length,U=new Array(z),F=0;F<z;F++)U[F]=arguments[F];typeof U[0]=="string"&&(U[0]=w({},U[0],U[1])),L._gtag("set",L._toGtagOptions(U[0]))}),w(this,"_gaCommand",function(z){for(var U=arguments.length,F=new Array(U>1?U-1:0),$=1;$<U;$++)F[$-1]=arguments[$];switch(z){case"send":L._gaCommandSend.apply(L,F);break;case"set":L._gaCommandSet.apply(L,F);break;default:console.warn("Command doesn't exist: ".concat(z))}}),w(this,"ga",function(){for(var z=arguments.length,U=new Array(z),F=0;F<z;F++)U[F]=arguments[F];if(typeof U[0]=="string")L._gaCommand.apply(L,U);else{var $=U[0];L._gtag("get",L._currentMeasurementId,"client_id",function(G){L._isQueuing=!1;var J=L._queueGtag;for($({get:function(le){return le==="clientId"?G:le==="trackingId"?L._currentMeasurementId:le==="apiVersion"?"1":void 0}});J.length;){var ee=J.shift();L._gtag.apply(L,d(ee))}}),L._isQueuing=!0}return L.ga}),w(this,"event",function(z,U){if(typeof z=="string")L._gtag("event",z,L._toGtagOptions(U));else{var F=z.action,$=z.category,G=z.label,J=z.value,ee=z.nonInteraction,Y=z.transport;if(!$||!F){console.warn("args.category AND args.action are required in event()");return}var le={hitType:"event",eventCategory:(0,n.default)($),eventAction:(0,n.default)(F)};G&&(le.eventLabel=(0,n.default)(G)),typeof J<"u"&&(typeof J!="number"?console.warn("Expected `args.value` arg to be a Number."):le.eventValue=J),typeof ee<"u"&&(typeof ee!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):le.nonInteraction=ee),typeof Y<"u"&&(typeof Y!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(Y)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),le.transport=Y)),L._gaCommand("send",le)}}),w(this,"send",function(z){L._gaCommand("send",z)}),this.reset()}return S(M,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),M}();t.GA4=N;var k=new N;t.default=k})(qx);(function(t){function e(a){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},e(a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReactGAImplementation=void 0;var n=r(qx);function i(a){if(typeof WeakMap!="function")return null;var l=new WeakMap,c=new WeakMap;return(i=function(f){return f?c:l})(a)}function r(a,l){if(a&&a.__esModule)return a;if(a===null||e(a)!=="object"&&typeof a!="function")return{default:a};var c=i(l);if(c&&c.has(a))return c.get(a);var d={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in a)if(p!=="default"&&Object.prototype.hasOwnProperty.call(a,p)){var g=f?Object.getOwnPropertyDescriptor(a,p):null;g&&(g.get||g.set)?Object.defineProperty(d,p,g):d[p]=a[p]}return d.default=a,c&&c.set(a,d),d}var s=n.GA4;t.ReactGAImplementation=s;var o=n.default;t.default=o})(Hx);const bp=lc(Hx),wO="/BelmacsConstruction/assets/about-hero-Bo7KNXvl.mp4";function bO(){return h.jsxs("div",{className:"hero",children:[h.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,id:"hero-video",children:h.jsx("source",{src:wO,type:"video/mp4"})}),h.jsx("div",{className:"video-overlay"})," ",h.jsxs("div",{className:"video-text",children:[h.jsx("p",{className:"video-header",children:"Belmacs Consulting Engineers"}),h.jsx("p",{className:"video-desc",children:"Possibilities Through Design"})]})]})}var Rw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},EO=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Qx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),i.push(n[d],n[f],n[p],n[g])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Kx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const f=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||f==null)throw new SO;const p=s<<2|a>>4;if(i.push(p),c!==64){const g=a<<4&240|c>>2;if(i.push(g),f!==64){const b=c<<6&192|f;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xO=function(t){const e=Kx(t);return Qx.encodeByteArray(e,!0)},Ad=function(t){return xO(t).replace(/\./g,"")},Yx=function(t){try{return Qx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=()=>TO().__FIREBASE_DEFAULTS__,CO=()=>{if(typeof process>"u"||typeof Rw>"u")return;const t=Rw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Yx(t[1]);return e&&JSON.parse(e)},Oh=()=>{try{return IO()||CO()||PO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Xx=t=>{var e,n;return(n=(e=Oh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Zx=t=>{const e=Xx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Jx=()=>{var t;return(t=Oh())===null||t===void 0?void 0:t.config},eT=t=>{var e;return(e=Oh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ad(JSON.stringify(n)),Ad(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function AO(){var t;const e=(t=Oh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function NO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DO(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jO(){return!AO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MO(){try{return typeof indexedDB=="object"}catch{return!1}}function LO(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="FirebaseError";class bi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=VO,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pc.prototype.create)}}class pc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?FO(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new bi(r,a,i)}}function FO(t,e){return t.replace(zO,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const zO=/\{\$([^}]+)}/g;function UO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Od(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(Aw(s)&&Aw(o)){if(!Od(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Aw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function il(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function rl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function BO(t,e){const n=new $O(t,e);return n.subscribe.bind(n)}class $O{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");HO(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Ep),r.error===void 0&&(r.error=Ep),r.complete===void 0&&(r.complete=Ep);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ep(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t){return t&&t._delegate?t._delegate:t}class jr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new kO;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GO(e))try{this.getOrInitializeService({instanceIdentifier:ss})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ss){return this.instances.has(e)}getOptions(e=ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:WO(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ss){return this.component?this.component.multipleInstances?e:ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WO(t){return t===ss?void 0:t}function GO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const QO={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},YO=ye.INFO,XO={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},ZO=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=XO[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jy{constructor(e){this.name=e,this._logLevel=YO,this._logHandler=ZO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const JO=(t,e)=>e.some(n=>t instanceof n);let Ow,Nw;function eN(){return Ow||(Ow=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tN(){return Nw||(Nw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nT=new WeakMap,sg=new WeakMap,iT=new WeakMap,Sp=new WeakMap,ev=new WeakMap;function nN(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Pr(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&nT.set(n,t)}).catch(()=>{}),ev.set(e,t),e}function iN(t){if(sg.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});sg.set(t,e)}let og={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rN(t){og=t(og)}function sN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(xp(this),e,...n);return iT.set(i,e.sort?e.sort():[e]),Pr(i)}:tN().includes(t)?function(...e){return t.apply(xp(this),e),Pr(nT.get(this))}:function(...e){return Pr(t.apply(xp(this),e))}}function oN(t){return typeof t=="function"?sN(t):(t instanceof IDBTransaction&&iN(t),JO(t,eN())?new Proxy(t,og):t)}function Pr(t){if(t instanceof IDBRequest)return nN(t);if(Sp.has(t))return Sp.get(t);const e=oN(t);return e!==t&&(Sp.set(t,e),ev.set(e,t)),e}const xp=t=>ev.get(t);function aN(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=Pr(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Pr(o.result),l.oldVersion,l.newVersion,Pr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const lN=["get","getKey","getAll","getAllKeys","count"],cN=["put","add","delete","clear"],Tp=new Map;function Dw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tp.get(e))return Tp.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=cN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||lN.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return Tp.set(e,s),s}rN(t=>({...t,get:(e,n,i)=>Dw(e,n)||t.get(e,n,i),has:(e,n)=>!!Dw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dN(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function dN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ag="@firebase/app",jw="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new Jy("@firebase/app"),hN="@firebase/app-compat",fN="@firebase/analytics-compat",pN="@firebase/analytics",mN="@firebase/app-check-compat",gN="@firebase/app-check",yN="@firebase/auth",vN="@firebase/auth-compat",_N="@firebase/database",wN="@firebase/database-compat",bN="@firebase/functions",EN="@firebase/functions-compat",SN="@firebase/installations",xN="@firebase/installations-compat",TN="@firebase/messaging",IN="@firebase/messaging-compat",CN="@firebase/performance",PN="@firebase/performance-compat",kN="@firebase/remote-config",RN="@firebase/remote-config-compat",AN="@firebase/storage",ON="@firebase/storage-compat",NN="@firebase/firestore",DN="@firebase/vertexai-preview",jN="@firebase/firestore-compat",MN="firebase",LN="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="[DEFAULT]",VN={[ag]:"fire-core",[hN]:"fire-core-compat",[pN]:"fire-analytics",[fN]:"fire-analytics-compat",[gN]:"fire-app-check",[mN]:"fire-app-check-compat",[yN]:"fire-auth",[vN]:"fire-auth-compat",[_N]:"fire-rtdb",[wN]:"fire-rtdb-compat",[bN]:"fire-fn",[EN]:"fire-fn-compat",[SN]:"fire-iid",[xN]:"fire-iid-compat",[TN]:"fire-fcm",[IN]:"fire-fcm-compat",[CN]:"fire-perf",[PN]:"fire-perf-compat",[kN]:"fire-rc",[RN]:"fire-rc-compat",[AN]:"fire-gcs",[ON]:"fire-gcs-compat",[NN]:"fire-fst",[jN]:"fire-fst-compat",[DN]:"fire-vertex","fire-js":"fire-js",[MN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=new Map,FN=new Map,cg=new Map;function Mw(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cs(t){const e=t.name;if(cg.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;cg.set(e,t);for(const n of Nd.values())Mw(n,t);for(const n of FN.values())Mw(n,t);return!0}function Nh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ai(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new pc("app","Firebase",zN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=LN;function rT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:lg,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw kr.create("bad-app-name",{appName:String(r)});if(n||(n=Jx()),!n)throw kr.create("no-options");const s=Nd.get(r);if(s){if(Od(n,s.options)&&Od(i,s.config))return s;throw kr.create("duplicate-app",{appName:r})}const o=new KO(r);for(const l of cg.values())o.addComponent(l);const a=new UN(n,i,o);return Nd.set(r,a),a}function tv(t=lg){const e=Nd.get(t);if(!e&&t===lg&&Jx())return rT();if(!e)throw kr.create("no-app",{appName:t});return e}function fi(t,e,n){var i;let r=(i=VN[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(a.join(" "));return}Cs(new jr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="firebase-heartbeat-database",$N=1,ql="firebase-heartbeat-store";let Ip=null;function sT(){return Ip||(Ip=aN(BN,$N,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(t=>{throw kr.create("idb-open",{originalErrorMessage:t.message})})),Ip}async function HN(t){try{const n=(await sT()).transaction(ql),i=await n.objectStore(ql).get(oT(t));return await n.done,i}catch(e){if(e instanceof bi)Is.warn(e.message);else{const n=kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Is.warn(n.message)}}}async function Lw(t,e){try{const i=(await sT()).transaction(ql,"readwrite");await i.objectStore(ql).put(e,oT(t)),await i.done}catch(n){if(n instanceof bi)Is.warn(n.message);else{const i=kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Is.warn(i.message)}}}function oT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=1024,WN=30*24*60*60*1e3;class GN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Vw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=WN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vw(),{heartbeatsToSend:i,unsentEntries:r}=KN(this._heartbeatsCache.heartbeats),s=Ad(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Vw(){return new Date().toISOString().substring(0,10)}function KN(t,e=qN){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Fw(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Fw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class QN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MO()?LO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await HN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Lw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Lw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Fw(t){return Ad(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t){Cs(new jr("platform-logger",e=>new uN(e),"PRIVATE")),Cs(new jr("heartbeat",e=>new GN(e),"PRIVATE")),fi(ag,jw,t),fi(ag,jw,"esm2017"),fi("fire-js","")}YN("");var XN="firebase",ZN="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fi(XN,ZN,"app");var zw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ys,aT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,S){function w(){}w.prototype=S.prototype,T.D=S.prototype,T.prototype=new w,T.prototype.constructor=T,T.C=function(I,A,N){for(var k=Array(arguments.length-2),M=2;M<arguments.length;M++)k[M-2]=arguments[M];return S.prototype[A].apply(I,k)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(T,S,w){w||(w=0);var I=Array(16);if(typeof S=="string")for(var A=0;16>A;++A)I[A]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(A=0;16>A;++A)I[A]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=T.g[0],w=T.g[1],A=T.g[2];var N=T.g[3],k=S+(N^w&(A^N))+I[0]+3614090360&4294967295;S=w+(k<<7&4294967295|k>>>25),k=N+(A^S&(w^A))+I[1]+3905402710&4294967295,N=S+(k<<12&4294967295|k>>>20),k=A+(w^N&(S^w))+I[2]+606105819&4294967295,A=N+(k<<17&4294967295|k>>>15),k=w+(S^A&(N^S))+I[3]+3250441966&4294967295,w=A+(k<<22&4294967295|k>>>10),k=S+(N^w&(A^N))+I[4]+4118548399&4294967295,S=w+(k<<7&4294967295|k>>>25),k=N+(A^S&(w^A))+I[5]+1200080426&4294967295,N=S+(k<<12&4294967295|k>>>20),k=A+(w^N&(S^w))+I[6]+2821735955&4294967295,A=N+(k<<17&4294967295|k>>>15),k=w+(S^A&(N^S))+I[7]+4249261313&4294967295,w=A+(k<<22&4294967295|k>>>10),k=S+(N^w&(A^N))+I[8]+1770035416&4294967295,S=w+(k<<7&4294967295|k>>>25),k=N+(A^S&(w^A))+I[9]+2336552879&4294967295,N=S+(k<<12&4294967295|k>>>20),k=A+(w^N&(S^w))+I[10]+4294925233&4294967295,A=N+(k<<17&4294967295|k>>>15),k=w+(S^A&(N^S))+I[11]+2304563134&4294967295,w=A+(k<<22&4294967295|k>>>10),k=S+(N^w&(A^N))+I[12]+1804603682&4294967295,S=w+(k<<7&4294967295|k>>>25),k=N+(A^S&(w^A))+I[13]+4254626195&4294967295,N=S+(k<<12&4294967295|k>>>20),k=A+(w^N&(S^w))+I[14]+2792965006&4294967295,A=N+(k<<17&4294967295|k>>>15),k=w+(S^A&(N^S))+I[15]+1236535329&4294967295,w=A+(k<<22&4294967295|k>>>10),k=S+(A^N&(w^A))+I[1]+4129170786&4294967295,S=w+(k<<5&4294967295|k>>>27),k=N+(w^A&(S^w))+I[6]+3225465664&4294967295,N=S+(k<<9&4294967295|k>>>23),k=A+(S^w&(N^S))+I[11]+643717713&4294967295,A=N+(k<<14&4294967295|k>>>18),k=w+(N^S&(A^N))+I[0]+3921069994&4294967295,w=A+(k<<20&4294967295|k>>>12),k=S+(A^N&(w^A))+I[5]+3593408605&4294967295,S=w+(k<<5&4294967295|k>>>27),k=N+(w^A&(S^w))+I[10]+38016083&4294967295,N=S+(k<<9&4294967295|k>>>23),k=A+(S^w&(N^S))+I[15]+3634488961&4294967295,A=N+(k<<14&4294967295|k>>>18),k=w+(N^S&(A^N))+I[4]+3889429448&4294967295,w=A+(k<<20&4294967295|k>>>12),k=S+(A^N&(w^A))+I[9]+568446438&4294967295,S=w+(k<<5&4294967295|k>>>27),k=N+(w^A&(S^w))+I[14]+3275163606&4294967295,N=S+(k<<9&4294967295|k>>>23),k=A+(S^w&(N^S))+I[3]+4107603335&4294967295,A=N+(k<<14&4294967295|k>>>18),k=w+(N^S&(A^N))+I[8]+1163531501&4294967295,w=A+(k<<20&4294967295|k>>>12),k=S+(A^N&(w^A))+I[13]+2850285829&4294967295,S=w+(k<<5&4294967295|k>>>27),k=N+(w^A&(S^w))+I[2]+4243563512&4294967295,N=S+(k<<9&4294967295|k>>>23),k=A+(S^w&(N^S))+I[7]+1735328473&4294967295,A=N+(k<<14&4294967295|k>>>18),k=w+(N^S&(A^N))+I[12]+2368359562&4294967295,w=A+(k<<20&4294967295|k>>>12),k=S+(w^A^N)+I[5]+4294588738&4294967295,S=w+(k<<4&4294967295|k>>>28),k=N+(S^w^A)+I[8]+2272392833&4294967295,N=S+(k<<11&4294967295|k>>>21),k=A+(N^S^w)+I[11]+1839030562&4294967295,A=N+(k<<16&4294967295|k>>>16),k=w+(A^N^S)+I[14]+4259657740&4294967295,w=A+(k<<23&4294967295|k>>>9),k=S+(w^A^N)+I[1]+2763975236&4294967295,S=w+(k<<4&4294967295|k>>>28),k=N+(S^w^A)+I[4]+1272893353&4294967295,N=S+(k<<11&4294967295|k>>>21),k=A+(N^S^w)+I[7]+4139469664&4294967295,A=N+(k<<16&4294967295|k>>>16),k=w+(A^N^S)+I[10]+3200236656&4294967295,w=A+(k<<23&4294967295|k>>>9),k=S+(w^A^N)+I[13]+681279174&4294967295,S=w+(k<<4&4294967295|k>>>28),k=N+(S^w^A)+I[0]+3936430074&4294967295,N=S+(k<<11&4294967295|k>>>21),k=A+(N^S^w)+I[3]+3572445317&4294967295,A=N+(k<<16&4294967295|k>>>16),k=w+(A^N^S)+I[6]+76029189&4294967295,w=A+(k<<23&4294967295|k>>>9),k=S+(w^A^N)+I[9]+3654602809&4294967295,S=w+(k<<4&4294967295|k>>>28),k=N+(S^w^A)+I[12]+3873151461&4294967295,N=S+(k<<11&4294967295|k>>>21),k=A+(N^S^w)+I[15]+530742520&4294967295,A=N+(k<<16&4294967295|k>>>16),k=w+(A^N^S)+I[2]+3299628645&4294967295,w=A+(k<<23&4294967295|k>>>9),k=S+(A^(w|~N))+I[0]+4096336452&4294967295,S=w+(k<<6&4294967295|k>>>26),k=N+(w^(S|~A))+I[7]+1126891415&4294967295,N=S+(k<<10&4294967295|k>>>22),k=A+(S^(N|~w))+I[14]+2878612391&4294967295,A=N+(k<<15&4294967295|k>>>17),k=w+(N^(A|~S))+I[5]+4237533241&4294967295,w=A+(k<<21&4294967295|k>>>11),k=S+(A^(w|~N))+I[12]+1700485571&4294967295,S=w+(k<<6&4294967295|k>>>26),k=N+(w^(S|~A))+I[3]+2399980690&4294967295,N=S+(k<<10&4294967295|k>>>22),k=A+(S^(N|~w))+I[10]+4293915773&4294967295,A=N+(k<<15&4294967295|k>>>17),k=w+(N^(A|~S))+I[1]+2240044497&4294967295,w=A+(k<<21&4294967295|k>>>11),k=S+(A^(w|~N))+I[8]+1873313359&4294967295,S=w+(k<<6&4294967295|k>>>26),k=N+(w^(S|~A))+I[15]+4264355552&4294967295,N=S+(k<<10&4294967295|k>>>22),k=A+(S^(N|~w))+I[6]+2734768916&4294967295,A=N+(k<<15&4294967295|k>>>17),k=w+(N^(A|~S))+I[13]+1309151649&4294967295,w=A+(k<<21&4294967295|k>>>11),k=S+(A^(w|~N))+I[4]+4149444226&4294967295,S=w+(k<<6&4294967295|k>>>26),k=N+(w^(S|~A))+I[11]+3174756917&4294967295,N=S+(k<<10&4294967295|k>>>22),k=A+(S^(N|~w))+I[2]+718787259&4294967295,A=N+(k<<15&4294967295|k>>>17),k=w+(N^(A|~S))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+S&4294967295,T.g[1]=T.g[1]+(A+(k<<21&4294967295|k>>>11))&4294967295,T.g[2]=T.g[2]+A&4294967295,T.g[3]=T.g[3]+N&4294967295}i.prototype.u=function(T,S){S===void 0&&(S=T.length);for(var w=S-this.blockSize,I=this.B,A=this.h,N=0;N<S;){if(A==0)for(;N<=w;)r(this,T,N),N+=this.blockSize;if(typeof T=="string"){for(;N<S;)if(I[A++]=T.charCodeAt(N++),A==this.blockSize){r(this,I),A=0;break}}else for(;N<S;)if(I[A++]=T[N++],A==this.blockSize){r(this,I),A=0;break}}this.h=A,this.o+=S},i.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var S=1;S<T.length-8;++S)T[S]=0;var w=8*this.o;for(S=T.length-8;S<T.length;++S)T[S]=w&255,w/=256;for(this.u(T),T=Array(16),S=w=0;4>S;++S)for(var I=0;32>I;I+=8)T[w++]=this.g[S]>>>I&255;return T};function s(T,S){var w=a;return Object.prototype.hasOwnProperty.call(w,T)?w[T]:w[T]=S(T)}function o(T,S){this.h=S;for(var w=[],I=!0,A=T.length-1;0<=A;A--){var N=T[A]|0;I&&N==S||(w[A]=N,I=!1)}this.g=w}var a={};function l(T){return-128<=T&&128>T?s(T,function(S){return new o([S|0],0>S?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return C(c(-T));for(var S=[],w=1,I=0;T>=w;I++)S[I]=T/w|0,w*=4294967296;return new o(S,0)}function d(T,S){if(T.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T.charAt(0)=="-")return C(d(T.substring(1),S));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=c(Math.pow(S,8)),I=f,A=0;A<T.length;A+=8){var N=Math.min(8,T.length-A),k=parseInt(T.substring(A,A+N),S);8>N?(N=c(Math.pow(S,N)),I=I.j(N).add(c(k))):(I=I.j(w),I=I.add(c(k)))}return I}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-C(this).m();for(var T=0,S=1,w=0;w<this.g.length;w++){var I=this.i(w);T+=(0<=I?I:4294967296+I)*S,S*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(b(this))return"0";if(_(this))return"-"+C(this).toString(T);for(var S=c(Math.pow(T,6)),w=this,I="";;){var A=P(w,S).g;w=E(w,A.j(S));var N=((0<w.g.length?w.g[0]:w.h)>>>0).toString(T);if(w=A,b(w))return N+I;for(;6>N.length;)N="0"+N;I=N+I}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function b(T){if(T.h!=0)return!1;for(var S=0;S<T.g.length;S++)if(T.g[S]!=0)return!1;return!0}function _(T){return T.h==-1}t.l=function(T){return T=E(this,T),_(T)?-1:b(T)?0:1};function C(T){for(var S=T.g.length,w=[],I=0;I<S;I++)w[I]=~T.g[I];return new o(w,~T.h).add(p)}t.abs=function(){return _(this)?C(this):this},t.add=function(T){for(var S=Math.max(this.g.length,T.g.length),w=[],I=0,A=0;A<=S;A++){var N=I+(this.i(A)&65535)+(T.i(A)&65535),k=(N>>>16)+(this.i(A)>>>16)+(T.i(A)>>>16);I=k>>>16,N&=65535,k&=65535,w[A]=k<<16|N}return new o(w,w[w.length-1]&-2147483648?-1:0)};function E(T,S){return T.add(C(S))}t.j=function(T){if(b(this)||b(T))return f;if(_(this))return _(T)?C(this).j(C(T)):C(C(this).j(T));if(_(T))return C(this.j(C(T)));if(0>this.l(g)&&0>T.l(g))return c(this.m()*T.m());for(var S=this.g.length+T.g.length,w=[],I=0;I<2*S;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var A=0;A<T.g.length;A++){var N=this.i(I)>>>16,k=this.i(I)&65535,M=T.i(A)>>>16,L=T.i(A)&65535;w[2*I+2*A]+=k*L,y(w,2*I+2*A),w[2*I+2*A+1]+=N*L,y(w,2*I+2*A+1),w[2*I+2*A+1]+=k*M,y(w,2*I+2*A+1),w[2*I+2*A+2]+=N*M,y(w,2*I+2*A+2)}for(I=0;I<S;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=S;I<2*S;I++)w[I]=0;return new o(w,0)};function y(T,S){for(;(T[S]&65535)!=T[S];)T[S+1]+=T[S]>>>16,T[S]&=65535,S++}function x(T,S){this.g=T,this.h=S}function P(T,S){if(b(S))throw Error("division by zero");if(b(T))return new x(f,f);if(_(T))return S=P(C(T),S),new x(C(S.g),C(S.h));if(_(S))return S=P(T,C(S)),new x(C(S.g),S.h);if(30<T.g.length){if(_(T)||_(S))throw Error("slowDivide_ only works with positive integers.");for(var w=p,I=S;0>=I.l(T);)w=D(w),I=D(I);var A=O(w,1),N=O(I,1);for(I=O(I,2),w=O(w,2);!b(I);){var k=N.add(I);0>=k.l(T)&&(A=A.add(w),N=k),I=O(I,1),w=O(w,1)}return S=E(T,A.j(S)),new x(A,S)}for(A=f;0<=T.l(S);){for(w=Math.max(1,Math.floor(T.m()/S.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),N=c(w),k=N.j(S);_(k)||0<k.l(T);)w-=I,N=c(w),k=N.j(S);b(N)&&(N=p),A=A.add(N),T=E(T,k)}return new x(A,T)}t.A=function(T){return P(this,T).h},t.and=function(T){for(var S=Math.max(this.g.length,T.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)&T.i(I);return new o(w,this.h&T.h)},t.or=function(T){for(var S=Math.max(this.g.length,T.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)|T.i(I);return new o(w,this.h|T.h)},t.xor=function(T){for(var S=Math.max(this.g.length,T.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)^T.i(I);return new o(w,this.h^T.h)};function D(T){for(var S=T.g.length+1,w=[],I=0;I<S;I++)w[I]=T.i(I)<<1|T.i(I-1)>>>31;return new o(w,T.h)}function O(T,S){var w=S>>5;S%=32;for(var I=T.g.length-w,A=[],N=0;N<I;N++)A[N]=0<S?T.i(N+w)>>>S|T.i(N+w+1)<<32-S:T.i(N+w);return new o(A,T.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,aT=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,ys=o}).apply(typeof zw<"u"?zw:typeof self<"u"?self:typeof window<"u"?window:{});var hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lT,cT,sl,uT,Wu,ug,dT,hT,fT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof hu=="object"&&hu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=n(this);function r(u,m){if(m)e:{var v=i;u=u.split(".");for(var R=0;R<u.length-1;R++){var V=u[R];if(!(V in v))break e;v=v[V]}u=u[u.length-1],R=v[u],m=m(R),m!=R&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function s(u,m){u instanceof String&&(u+="");var v=0,R=!1,V={next:function(){if(!R&&v<u.length){var B=v++;return{value:m(B,u[B]),done:!1}}return R=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}r("Array.prototype.values",function(u){return u||function(){return s(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function c(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function d(u,m,v){return u.call.apply(u.bind,arguments)}function f(u,m,v){if(!u)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,R),u.apply(m,V)}}return function(){return u.apply(m,arguments)}}function p(u,m,v){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function g(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var R=v.slice();return R.push.apply(R,arguments),u.apply(this,R)}}function b(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(R,V,B){for(var K=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)K[Ie-2]=arguments[Ie];return m.prototype[V].apply(R,K)}}function _(u){const m=u.length;if(0<m){const v=Array(m);for(let R=0;R<m;R++)v[R]=u[R];return v}return[]}function C(u,m){for(let v=1;v<arguments.length;v++){const R=arguments[v];if(l(R)){const V=u.length||0,B=R.length||0;u.length=V+B;for(let K=0;K<B;K++)u[V+K]=R[K]}else u.push(R)}}class E{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function y(u){return/^[\s\xa0]*$/.test(u)}function x(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function P(u){return P[" "](u),u}P[" "]=function(){};var D=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function O(u,m,v){for(const R in u)m.call(v,u[R],R,u)}function T(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function S(u){const m={};for(const v in u)m[v]=u[v];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,m){let v,R;for(let V=1;V<arguments.length;V++){R=arguments[V];for(v in R)u[v]=R[v];for(let B=0;B<w.length;B++)v=w[B],Object.prototype.hasOwnProperty.call(R,v)&&(u[v]=R[v])}}function A(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function N(u){a.setTimeout(()=>{throw u},0)}function k(){var u=$;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class M{constructor(){this.h=this.g=null}add(m,v){const R=L.get();R.set(m,v),this.h?this.h.next=R:this.g=R,this.h=R}}var L=new E(()=>new z,u=>u.reset());class z{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let U,F=!1,$=new M,G=()=>{const u=a.Promise.resolve(void 0);U=()=>{u.then(J)}};var J=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(v){N(v)}var m=L;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}F=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};a.addEventListener("test",v,m),a.removeEventListener("test",v,m)}catch{}return u}();function ve(u,m){if(Y.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,R=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(D){e:{try{P(m.nodeName);var V=!0;break e}catch{}V=!1}V||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ve[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ve.aa.h.call(this)}}b(ve,Y);var Ve={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Gs=0;function vk(u,m,v,R,V){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!R,this.ha=V,this.key=++Gs,this.da=this.fa=!1}function Ac(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Oc(u){this.src=u,this.g={},this.h=0}Oc.prototype.add=function(u,m,v,R,V){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var K=If(u,m,R,V);return-1<K?(m=u[K],v||(m.fa=!1)):(m=new vk(m,this.src,B,!!R,V),m.fa=v,u.push(m)),m};function Tf(u,m){var v=m.type;if(v in u.g){var R=u.g[v],V=Array.prototype.indexOf.call(R,m,void 0),B;(B=0<=V)&&Array.prototype.splice.call(R,V,1),B&&(Ac(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function If(u,m,v,R){for(var V=0;V<u.length;++V){var B=u[V];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==R)return V}return-1}var Cf="closure_lm_"+(1e6*Math.random()|0),Pf={};function m0(u,m,v,R,V){if(Array.isArray(m)){for(var B=0;B<m.length;B++)m0(u,m[B],v,R,V);return null}return v=v0(v),u&&u[Fe]?u.K(m,v,c(R)?!!R.capture:!!R,V):_k(u,m,v,!1,R,V)}function _k(u,m,v,R,V,B){if(!m)throw Error("Invalid event type");var K=c(V)?!!V.capture:!!V,Ie=Rf(u);if(Ie||(u[Cf]=Ie=new Oc(u)),v=Ie.add(m,v,R,K,B),v.proxy)return v;if(R=wk(),v.proxy=R,R.src=u,R.listener=v,u.addEventListener)le||(V=K),V===void 0&&(V=!1),u.addEventListener(m.toString(),R,V);else if(u.attachEvent)u.attachEvent(y0(m.toString()),R);else if(u.addListener&&u.removeListener)u.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return v}function wk(){function u(v){return m.call(u.src,u.listener,v)}const m=bk;return u}function g0(u,m,v,R,V){if(Array.isArray(m))for(var B=0;B<m.length;B++)g0(u,m[B],v,R,V);else R=c(R)?!!R.capture:!!R,v=v0(v),u&&u[Fe]?(u=u.i,m=String(m).toString(),m in u.g&&(B=u.g[m],v=If(B,v,R,V),-1<v&&(Ac(B[v]),Array.prototype.splice.call(B,v,1),B.length==0&&(delete u.g[m],u.h--)))):u&&(u=Rf(u))&&(m=u.g[m.toString()],u=-1,m&&(u=If(m,v,R,V)),(v=-1<u?m[u]:null)&&kf(v))}function kf(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Fe])Tf(m.i,u);else{var v=u.type,R=u.proxy;m.removeEventListener?m.removeEventListener(v,R,u.capture):m.detachEvent?m.detachEvent(y0(v),R):m.addListener&&m.removeListener&&m.removeListener(R),(v=Rf(m))?(Tf(v,u),v.h==0&&(v.src=null,m[Cf]=null)):Ac(u)}}}function y0(u){return u in Pf?Pf[u]:Pf[u]="on"+u}function bk(u,m){if(u.da)u=!0;else{m=new ve(m,this);var v=u.listener,R=u.ha||u.src;u.fa&&kf(u),u=v.call(R,m)}return u}function Rf(u){return u=u[Cf],u instanceof Oc?u:null}var Af="__closure_events_fn_"+(1e9*Math.random()>>>0);function v0(u){return typeof u=="function"?u:(u[Af]||(u[Af]=function(m){return u.handleEvent(m)}),u[Af])}function Tt(){ee.call(this),this.i=new Oc(this),this.M=this,this.F=null}b(Tt,ee),Tt.prototype[Fe]=!0,Tt.prototype.removeEventListener=function(u,m,v,R){g0(this,u,m,v,R)};function Bt(u,m){var v,R=u.F;if(R)for(v=[];R;R=R.F)v.push(R);if(u=u.M,R=m.type||m,typeof m=="string")m=new Y(m,u);else if(m instanceof Y)m.target=m.target||u;else{var V=m;m=new Y(R,u),I(m,V)}if(V=!0,v)for(var B=v.length-1;0<=B;B--){var K=m.g=v[B];V=Nc(K,R,!0,m)&&V}if(K=m.g=u,V=Nc(K,R,!0,m)&&V,V=Nc(K,R,!1,m)&&V,v)for(B=0;B<v.length;B++)K=m.g=v[B],V=Nc(K,R,!1,m)&&V}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],R=0;R<v.length;R++)Ac(v[R]);delete u.g[m],u.h--}}this.F=null},Tt.prototype.K=function(u,m,v,R){return this.i.add(String(u),m,!1,v,R)},Tt.prototype.L=function(u,m,v,R){return this.i.add(String(u),m,!0,v,R)};function Nc(u,m,v,R){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var V=!0,B=0;B<m.length;++B){var K=m[B];if(K&&!K.da&&K.capture==v){var Ie=K.listener,mt=K.ha||K.src;K.fa&&Tf(u.i,K),V=Ie.call(mt,R)!==!1&&V}}return V&&!R.defaultPrevented}function _0(u,m,v){if(typeof u=="function")v&&(u=p(u,v));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function w0(u){u.g=_0(()=>{u.g=null,u.i&&(u.i=!1,w0(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ek extends ee{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:w0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ia(u){ee.call(this),this.h=u,this.g={}}b(Ia,ee);var b0=[];function E0(u){O(u.g,function(m,v){this.g.hasOwnProperty(v)&&kf(m)},u),u.g={}}Ia.prototype.N=function(){Ia.aa.N.call(this),E0(this)},Ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Of=a.JSON.stringify,Sk=a.JSON.parse,xk=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Nf(){}Nf.prototype.h=null;function S0(u){return u.h||(u.h=u.i())}function x0(){}var Ca={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Df(){Y.call(this,"d")}b(Df,Y);function jf(){Y.call(this,"c")}b(jf,Y);var Kr={},T0=null;function Dc(){return T0=T0||new Tt}Kr.La="serverreachability";function I0(u){Y.call(this,Kr.La,u)}b(I0,Y);function Pa(u){const m=Dc();Bt(m,new I0(m))}Kr.STAT_EVENT="statevent";function C0(u,m){Y.call(this,Kr.STAT_EVENT,u),this.stat=m}b(C0,Y);function $t(u){const m=Dc();Bt(m,new C0(m,u))}Kr.Ma="timingevent";function P0(u,m){Y.call(this,Kr.Ma,u),this.size=m}b(P0,Y);function ka(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function Ra(){this.g=!0}Ra.prototype.xa=function(){this.g=!1};function Tk(u,m,v,R,V,B){u.info(function(){if(u.g)if(B)for(var K="",Ie=B.split("&"),mt=0;mt<Ie.length;mt++){var be=Ie[mt].split("=");if(1<be.length){var It=be[0];be=be[1];var Ct=It.split("_");K=2<=Ct.length&&Ct[1]=="type"?K+(It+"="+be+"&"):K+(It+"=redacted&")}}else K=null;else K=B;return"XMLHTTP REQ ("+R+") [attempt "+V+"]: "+m+`
`+v+`
`+K})}function Ik(u,m,v,R,V,B,K){u.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+V+"]: "+m+`
`+v+`
`+B+" "+K})}function Ks(u,m,v,R){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Pk(u,v)+(R?" "+R:"")})}function Ck(u,m){u.info(function(){return"TIMEOUT: "+m})}Ra.prototype.info=function(){};function Pk(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var R=v[u];if(!(2>R.length)){var V=R[1];if(Array.isArray(V)&&!(1>V.length)){var B=V[0];if(B!="noop"&&B!="stop"&&B!="close")for(var K=1;K<V.length;K++)V[K]=""}}}}return Of(v)}catch{return m}}var jc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},k0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mf;function Mc(){}b(Mc,Nf),Mc.prototype.g=function(){return new XMLHttpRequest},Mc.prototype.i=function(){return{}},Mf=new Mc;function Xi(u,m,v,R){this.j=u,this.i=m,this.l=v,this.R=R||1,this.U=new Ia(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new R0}function R0(){this.i=null,this.g="",this.h=!1}var A0={},Lf={};function Vf(u,m,v){u.L=1,u.v=zc(xi(m)),u.m=v,u.P=!0,O0(u,null)}function O0(u,m){u.F=Date.now(),Lc(u),u.A=xi(u.v);var v=u.A,R=u.R;Array.isArray(R)||(R=[String(R)]),W0(v.i,"t",R),u.C=0,v=u.j.J,u.h=new R0,u.g=u_(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Ek(p(u.Y,u,u.g),u.O)),m=u.U,v=u.g,R=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(b0[0]=V.toString()),V=b0);for(var B=0;B<V.length;B++){var K=m0(v,V[B],R||m.handleEvent,!1,m.h||m);if(!K)break;m.g[K.key]=K}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Pa(),Tk(u.i,u.u,u.A,u.l,u.R,u.m)}Xi.prototype.ca=function(u){u=u.target;const m=this.M;m&&Ti(u)==3?m.j():this.Y(u)},Xi.prototype.Y=function(u){try{if(u==this.g)e:{const Ct=Ti(this.g);var m=this.g.Ba();const Xs=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||J0(this.g)))){this.J||Ct!=4||m==7||(m==8||0>=Xs?Pa(3):Pa(2)),Ff(this);var v=this.g.Z();this.X=v;t:if(N0(this)){var R=J0(this.g);u="";var V=R.length,B=Ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qr(this),Aa(this);var K="";break t}this.h.i=new a.TextDecoder}for(m=0;m<V;m++)this.h.h=!0,u+=this.h.i.decode(R[m],{stream:!(B&&m==V-1)});R.length=0,this.h.g+=u,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=v==200,Ik(this.i,this.u,this.A,this.l,this.R,Ct,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,mt=this.g;if((Ie=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ie)){var be=Ie;break t}}be=null}if(v=be)Ks(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zf(this,v);else{this.o=!1,this.s=3,$t(12),Qr(this),Aa(this);break e}}if(this.P){v=!0;let Fn;for(;!this.J&&this.C<K.length;)if(Fn=kk(this,K),Fn==Lf){Ct==4&&(this.s=4,$t(14),v=!1),Ks(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==A0){this.s=4,$t(15),Ks(this.i,this.l,K,"[Invalid Chunk]"),v=!1;break}else Ks(this.i,this.l,Fn,null),zf(this,Fn);if(N0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||K.length!=0||this.h.h||(this.s=1,$t(16),v=!1),this.o=this.o&&v,!v)Ks(this.i,this.l,K,"[Invalid Chunked Response]"),Qr(this),Aa(this);else if(0<K.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Wf(It),It.M=!0,$t(11))}}else Ks(this.i,this.l,K,null),zf(this,K);Ct==4&&Qr(this),this.o&&!this.J&&(Ct==4?o_(this.j,this):(this.o=!1,Lc(this)))}else Wk(this.g),v==400&&0<K.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),Qr(this),Aa(this)}}}catch{}finally{}};function N0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function kk(u,m){var v=u.C,R=m.indexOf(`
`,v);return R==-1?Lf:(v=Number(m.substring(v,R)),isNaN(v)?A0:(R+=1,R+v>m.length?Lf:(m=m.slice(R,R+v),u.C=R+v,m)))}Xi.prototype.cancel=function(){this.J=!0,Qr(this)};function Lc(u){u.S=Date.now()+u.I,D0(u,u.I)}function D0(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ka(p(u.ba,u),m)}function Ff(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Xi.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ck(this.i,this.A),this.L!=2&&(Pa(),$t(17)),Qr(this),this.s=2,Aa(this)):D0(this,this.S-u)};function Aa(u){u.j.G==0||u.J||o_(u.j,u)}function Qr(u){Ff(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,E0(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function zf(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Uf(v.h,u))){if(!u.K&&Uf(v.h,u)&&v.G==3){try{var R=v.Da.g.parse(m)}catch{R=null}if(Array.isArray(R)&&R.length==3){var V=R;if(V[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)qc(v),$c(v);else break e;qf(v),$t(18)}}else v.za=V[1],0<v.za-v.T&&37500>V[2]&&v.F&&v.v==0&&!v.C&&(v.C=ka(p(v.Za,v),6e3));if(1>=L0(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Xr(v,11)}else if((u.K||v.g==u)&&qc(v),!y(m))for(V=v.Da.g.parse(m),m=0;m<V.length;m++){let be=V[m];if(v.T=be[0],be=be[1],v.G==2)if(be[0]=="c"){v.K=be[1],v.ia=be[2];const It=be[3];It!=null&&(v.la=It,v.j.info("VER="+v.la));const Ct=be[4];Ct!=null&&(v.Aa=Ct,v.j.info("SVER="+v.Aa));const Xs=be[5];Xs!=null&&typeof Xs=="number"&&0<Xs&&(R=1.5*Xs,v.L=R,v.j.info("backChannelRequestTimeoutMs_="+R)),R=v;const Fn=u.g;if(Fn){const Gc=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gc){var B=R.h;B.g||Gc.indexOf("spdy")==-1&&Gc.indexOf("quic")==-1&&Gc.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Bf(B,B.h),B.h=null))}if(R.D){const Gf=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Gf&&(R.ya=Gf,ke(R.I,R.D,Gf))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),R=v;var K=u;if(R.qa=c_(R,R.J?R.ia:null,R.W),K.K){V0(R.h,K);var Ie=K,mt=R.L;mt&&(Ie.I=mt),Ie.B&&(Ff(Ie),Lc(Ie)),R.g=K}else r_(R);0<v.i.length&&Hc(v)}else be[0]!="stop"&&be[0]!="close"||Xr(v,7);else v.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Xr(v,7):Hf(v):be[0]!="noop"&&v.l&&v.l.ta(be),v.v=0)}}Pa(4)}catch{}}var Rk=class{constructor(u,m){this.g=u,this.map=m}};function j0(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function M0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function L0(u){return u.h?1:u.g?u.g.size:0}function Uf(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Bf(u,m){u.g?u.g.add(m):u.h=m}function V0(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}j0.prototype.cancel=function(){if(this.i=F0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function F0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return _(u.i)}function Ak(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],v=u.length,R=0;R<v;R++)m.push(u[R]);return m}m=[],v=0;for(R in u)m[v++]=u[R];return m}function Ok(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const R in u)m[v++]=R;return m}}}function z0(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Ok(u),R=Ak(u),V=R.length,B=0;B<V;B++)m.call(void 0,R[B],v&&v[B],u)}var U0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nk(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var R=u[v].indexOf("="),V=null;if(0<=R){var B=u[v].substring(0,R);V=u[v].substring(R+1)}else B=u[v];m(B,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Yr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Yr){this.h=u.h,Vc(this,u.j),this.o=u.o,this.g=u.g,Fc(this,u.s),this.l=u.l;var m=u.i,v=new Da;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),B0(this,v),this.m=u.m}else u&&(m=String(u).match(U0))?(this.h=!1,Vc(this,m[1]||"",!0),this.o=Oa(m[2]||""),this.g=Oa(m[3]||"",!0),Fc(this,m[4]),this.l=Oa(m[5]||"",!0),B0(this,m[6]||"",!0),this.m=Oa(m[7]||"")):(this.h=!1,this.i=new Da(null,this.h))}Yr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Na(m,$0,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Na(m,$0,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Na(v,v.charAt(0)=="/"?Mk:jk,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Na(v,Vk)),u.join("")};function xi(u){return new Yr(u)}function Vc(u,m,v){u.j=v?Oa(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Fc(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function B0(u,m,v){m instanceof Da?(u.i=m,Fk(u.i,u.h)):(v||(m=Na(m,Lk)),u.i=new Da(m,u.h))}function ke(u,m,v){u.i.set(m,v)}function zc(u){return ke(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Oa(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Na(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Dk),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Dk(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $0=/[#\/\?@]/g,jk=/[#\?:]/g,Mk=/[#\?]/g,Lk=/[#\?@]/g,Vk=/#/g;function Da(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Zi(u){u.g||(u.g=new Map,u.h=0,u.i&&Nk(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}t=Da.prototype,t.add=function(u,m){Zi(this),this.i=null,u=Qs(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function H0(u,m){Zi(u),m=Qs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function q0(u,m){return Zi(u),m=Qs(u,m),u.g.has(m)}t.forEach=function(u,m){Zi(this),this.g.forEach(function(v,R){v.forEach(function(V){u.call(m,V,R,this)},this)},this)},t.na=function(){Zi(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let R=0;R<m.length;R++){const V=u[R];for(let B=0;B<V.length;B++)v.push(m[R])}return v},t.V=function(u){Zi(this);let m=[];if(typeof u=="string")q0(this,u)&&(m=m.concat(this.g.get(Qs(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},t.set=function(u,m){return Zi(this),this.i=null,u=Qs(this,u),q0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function W0(u,m,v){H0(u,m),0<v.length&&(u.i=null,u.g.set(Qs(u,m),_(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var R=m[v];const B=encodeURIComponent(String(R)),K=this.V(R);for(R=0;R<K.length;R++){var V=B;K[R]!==""&&(V+="="+encodeURIComponent(String(K[R]))),u.push(V)}}return this.i=u.join("&")};function Qs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Fk(u,m){m&&!u.j&&(Zi(u),u.i=null,u.g.forEach(function(v,R){var V=R.toLowerCase();R!=V&&(H0(this,R),W0(this,V,v))},u)),u.j=m}function zk(u,m){const v=new Ra;if(a.Image){const R=new Image;R.onload=g(Ji,v,"TestLoadImage: loaded",!0,m,R),R.onerror=g(Ji,v,"TestLoadImage: error",!1,m,R),R.onabort=g(Ji,v,"TestLoadImage: abort",!1,m,R),R.ontimeout=g(Ji,v,"TestLoadImage: timeout",!1,m,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=u}else m(!1)}function Uk(u,m){const v=new Ra,R=new AbortController,V=setTimeout(()=>{R.abort(),Ji(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:R.signal}).then(B=>{clearTimeout(V),B.ok?Ji(v,"TestPingServer: ok",!0,m):Ji(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(V),Ji(v,"TestPingServer: error",!1,m)})}function Ji(u,m,v,R,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),R(v)}catch{}}function Bk(){this.g=new xk}function $k(u,m,v){const R=v||"";try{z0(u,function(V,B){let K=V;c(V)&&(K=Of(V)),m.push(R+B+"="+encodeURIComponent(K))})}catch(V){throw m.push(R+"type="+encodeURIComponent("_badmap")),V}}function ja(u){this.l=u.Ub||null,this.j=u.eb||!1}b(ja,Nf),ja.prototype.g=function(){return new Uc(this.l,this.j)},ja.prototype.i=function(u){return function(){return u}}({});function Uc(u,m){Tt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Uc,Tt),t=Uc.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,La(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ma(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,La(this)),this.g&&(this.readyState=3,La(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;G0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function G0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ma(this):La(this),this.readyState==3&&G0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ma(this))},t.Qa=function(u){this.g&&(this.response=u,Ma(this))},t.ga=function(){this.g&&Ma(this)};function Ma(u){u.readyState=4,u.l=null,u.j=null,u.v=null,La(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function La(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Uc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function K0(u){let m="";return O(u,function(v,R){m+=R,m+=":",m+=v,m+=`\r
`}),m}function $f(u,m,v){e:{for(R in v){var R=!1;break e}R=!0}R||(v=K0(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):ke(u,m,v))}function Ge(u){Tt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Ge,Tt);var Hk=/^https?$/i,qk=["POST","PUT"];t=Ge.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,v,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mf.g(),this.v=this.o?S0(this.o):S0(Mf),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Q0(this,B);return}if(u=v||"",v=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var V in R)v.set(V,R[V]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const B of R.keys())v.set(B,R.get(B));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(qk,m,void 0))||R||V||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,K]of v)this.g.setRequestHeader(B,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Z0(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){Q0(this,B)}};function Q0(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Y0(u),Bc(u)}function Y0(u){u.A||(u.A=!0,Bt(u,"complete"),Bt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Bt(this,"complete"),Bt(this,"abort"),Bc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bc(this,!0)),Ge.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?X0(this):this.bb())},t.bb=function(){X0(this)};function X0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Ti(u)!=4||u.Z()!=2)){if(u.u&&Ti(u)==4)_0(u.Ea,0,u);else if(Bt(u,"readystatechange"),Ti(u)==4){u.h=!1;try{const K=u.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var R;if(R=K===0){var V=String(u.D).match(U0)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),R=!Hk.test(V?V.toLowerCase():"")}v=R}if(v)Bt(u,"complete"),Bt(u,"success");else{u.m=6;try{var B=2<Ti(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",Y0(u)}}finally{Bc(u)}}}}function Bc(u,m){if(u.g){Z0(u);const v=u.g,R=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Bt(u,"ready");try{v.onreadystatechange=R}catch{}}}function Z0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Ti(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Ti(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Sk(m)}};function J0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Wk(u){const m={};u=(u.g&&2<=Ti(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<u.length;R++){if(y(u[R]))continue;var v=A(u[R]);const V=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[V]||[];m[V]=B,B.push(v)}T(m,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Va(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function e_(u){this.Aa=0,this.i=[],this.j=new Ra,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Va("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Va("baseRetryDelayMs",5e3,u),this.cb=Va("retryDelaySeedMs",1e4,u),this.Wa=Va("forwardChannelMaxRetries",2,u),this.wa=Va("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new j0(u&&u.concurrentRequestLimit),this.Da=new Bk,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=e_.prototype,t.la=8,t.G=1,t.connect=function(u,m,v,R){$t(0),this.W=u,this.H=m||{},v&&R!==void 0&&(this.H.OSID=v,this.H.OAID=R),this.F=this.X,this.I=c_(this,null,this.W),Hc(this)};function Hf(u){if(t_(u),u.G==3){var m=u.U++,v=xi(u.I);if(ke(v,"SID",u.K),ke(v,"RID",m),ke(v,"TYPE","terminate"),Fa(u,v),m=new Xi(u,u.j,m),m.L=2,m.v=zc(xi(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=m.v,v=!0),v||(m.g=u_(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Lc(m)}l_(u)}function $c(u){u.g&&(Wf(u),u.g.cancel(),u.g=null)}function t_(u){$c(u),u.u&&(a.clearTimeout(u.u),u.u=null),qc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Hc(u){if(!M0(u.h)&&!u.s){u.s=!0;var m=u.Ga;U||G(),F||(U(),F=!0),$.add(m,u),u.B=0}}function Gk(u,m){return L0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ka(p(u.Ga,u,m),a_(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new Xi(this,this.j,u);let B=this.o;if(this.S&&(B?(B=S(B),I(B,this.S)):B=this.S),this.m!==null||this.O||(V.H=B,B=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var R=this.i[v];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(m+=R,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=i_(this,V,m),v=xi(this.I),ke(v,"RID",u),ke(v,"CVER",22),this.D&&ke(v,"X-HTTP-Session-Id",this.D),Fa(this,v),B&&(this.O?m="headers="+encodeURIComponent(String(K0(B)))+"&"+m:this.m&&$f(v,this.m,B)),Bf(this.h,V),this.Ua&&ke(v,"TYPE","init"),this.P?(ke(v,"$req",m),ke(v,"SID","null"),V.T=!0,Vf(V,v,null)):Vf(V,v,m),this.G=2}}else this.G==3&&(u?n_(this,u):this.i.length==0||M0(this.h)||n_(this))};function n_(u,m){var v;m?v=m.l:v=u.U++;const R=xi(u.I);ke(R,"SID",u.K),ke(R,"RID",v),ke(R,"AID",u.T),Fa(u,R),u.m&&u.o&&$f(R,u.m,u.o),v=new Xi(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=i_(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Bf(u.h,v),Vf(v,R,m)}function Fa(u,m){u.H&&O(u.H,function(v,R){ke(m,R,v)}),u.l&&z0({},function(v,R){ke(m,R,v)})}function i_(u,m,v){v=Math.min(u.i.length,v);var R=u.l?p(u.l.Na,u.l,u):null;e:{var V=u.i;let B=-1;for(;;){const K=["count="+v];B==-1?0<v?(B=V[0].g,K.push("ofs="+B)):B=0:K.push("ofs="+B);let Ie=!0;for(let mt=0;mt<v;mt++){let be=V[mt].g;const It=V[mt].map;if(be-=B,0>be)B=Math.max(0,V[mt].g-100),Ie=!1;else try{$k(It,K,"req"+be+"_")}catch{R&&R(It)}}if(Ie){R=K.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,R}function r_(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;U||G(),F||(U(),F=!0),$.add(m,u),u.v=0}}function qf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ka(p(u.Fa,u),a_(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,s_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ka(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),$c(this),s_(this))};function Wf(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function s_(u){u.g=new Xi(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=xi(u.qa);ke(m,"RID","rpc"),ke(m,"SID",u.K),ke(m,"AID",u.T),ke(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&ke(m,"TO",u.ja),ke(m,"TYPE","xmlhttp"),Fa(u,m),u.m&&u.o&&$f(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=zc(xi(m)),v.m=null,v.P=!0,O0(v,u)}t.Za=function(){this.C!=null&&(this.C=null,$c(this),qf(this),$t(19))};function qc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function o_(u,m){var v=null;if(u.g==m){qc(u),Wf(u),u.g=null;var R=2}else if(Uf(u.h,m))v=m.D,V0(u.h,m),R=1;else return;if(u.G!=0){if(m.o)if(R==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var V=u.B;R=Dc(),Bt(R,new P0(R,v)),Hc(u)}else r_(u);else if(V=m.s,V==3||V==0&&0<m.X||!(R==1&&Gk(u,m)||R==2&&qf(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),V){case 1:Xr(u,5);break;case 4:Xr(u,10);break;case 3:Xr(u,6);break;default:Xr(u,2)}}}function a_(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Xr(u,m){if(u.j.info("Error code "+m),m==2){var v=p(u.fb,u),R=u.Xa;const V=!R;R=new Yr(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Vc(R,"https"),zc(R),V?zk(R.toString(),v):Uk(R.toString(),v)}else $t(2);u.G=0,u.l&&u.l.sa(m),l_(u),t_(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function l_(u){if(u.G=0,u.ka=[],u.l){const m=F0(u.h);(m.length!=0||u.i.length!=0)&&(C(u.ka,m),C(u.ka,u.i),u.h.i.length=0,_(u.i),u.i.length=0),u.l.ra()}}function c_(u,m,v){var R=v instanceof Yr?xi(v):new Yr(v);if(R.g!="")m&&(R.g=m+"."+R.g),Fc(R,R.s);else{var V=a.location;R=V.protocol,m=m?m+"."+V.hostname:V.hostname,V=+V.port;var B=new Yr(null);R&&Vc(B,R),m&&(B.g=m),V&&Fc(B,V),v&&(B.l=v),R=B}return v=u.D,m=u.ya,v&&m&&ke(R,v,m),ke(R,"VER",u.la),Fa(u,R),R}function u_(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ge(new ja({eb:v})):new Ge(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function d_(){}t=d_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wc(){}Wc.prototype.g=function(u,m){return new hn(u,m)};function hn(u,m){Tt.call(this),this.g=new e_(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!y(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!y(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ys(this)}b(hn,Tt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Hf(this.g)},hn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Of(u),u=v);m.i.push(new Rk(m.Ya++,u)),m.G==3&&Hc(m)},hn.prototype.N=function(){this.g.l=null,delete this.j,Hf(this.g),delete this.g,hn.aa.N.call(this)};function h_(u){Df.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(h_,Df);function f_(){jf.call(this),this.status=1}b(f_,jf);function Ys(u){this.g=u}b(Ys,d_),Ys.prototype.ua=function(){Bt(this.g,"a")},Ys.prototype.ta=function(u){Bt(this.g,new h_(u))},Ys.prototype.sa=function(u){Bt(this.g,new f_)},Ys.prototype.ra=function(){Bt(this.g,"b")},Wc.prototype.createWebChannel=Wc.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,fT=function(){return new Wc},hT=function(){return Dc()},dT=Kr,ug={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jc.NO_ERROR=0,jc.TIMEOUT=8,jc.HTTP_ERROR=6,Wu=jc,k0.COMPLETE="complete",uT=k0,x0.EventType=Ca,Ca.OPEN="a",Ca.CLOSE="b",Ca.ERROR="c",Ca.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,sl=x0,cT=ja,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,lT=Ge}).apply(typeof hu<"u"?hu:typeof self<"u"?self:typeof window<"u"?window:{});const Uw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let va="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Jy("@firebase/firestore");function Ka(){return Ps.logLevel}function te(t,...e){if(Ps.logLevel<=ye.DEBUG){const n=e.map(nv);Ps.debug(`Firestore (${va}): ${t}`,...n)}}function Wi(t,...e){if(Ps.logLevel<=ye.ERROR){const n=e.map(nv);Ps.error(`Firestore (${va}): ${t}`,...n)}}function Ko(t,...e){if(Ps.logLevel<=ye.WARN){const n=e.map(nv);Ps.warn(`Firestore (${va}): ${t}`,...n)}}function nv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t="Unexpected state"){const e=`FIRESTORE (${va}) INTERNAL ASSERTION FAILED: `+t;throw Wi(e),new Error(e)}function Pe(t,e){t||oe()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(At.UNAUTHENTICATED))}shutdown(){}}class eD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tD{constructor(e){this.t=e,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Li,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Li)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Pe(typeof i.accessToken=="string"),new pT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string"),new At(e)}}class nD{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=At.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class iD{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new nD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe(typeof n.token=="string"),this.R=n.token,new rD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=oD(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function Se(t,e){return t<e?-1:t>e?1:0}function Qo(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new lt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new lt(0,0))}static max(){return new ce(new lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n,i){n===void 0?n=0:n>e.length&&oe(),i===void 0?i=e.length-n:i>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Wl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wl?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ae extends Wl{construct(e,n,i){return new Ae(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Z(H.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const aD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends Wl{construct(e,n,i){return new wt(e,n,i)}static isValidIdentifier(e){return aD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wt(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new Z(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new Z(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new Z(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Ae.fromString(e))}static fromName(e){return new ie(Ae.fromString(e).popFirst(5))}static empty(){return new ie(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Ae(e.slice()))}}function lD(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=ce.fromTimestamp(i===1e9?new lt(n+1,0):new lt(n,i));return new Mr(r,ie.empty(),e)}function cD(t){return new Mr(t.readTime,t.key,-1)}class Mr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Mr(ce.min(),ie.empty(),-1)}static max(){return new Mr(ce.max(),ie.empty(),-1)}}function uD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==dD)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,i)=>{n(e)})}static reject(e){return new q((n,i)=>{i(e)})}static waitFor(e){return new q((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=q.resolve(!1);for(const i of e)n=n.next(r=>r?q.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new q((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&i(o)},d=>r(d))}})}static doWhile(e,n){return new q((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function fD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}iv.oe=-1;function Dh(t){return t==null}function Dd(t){return t===0&&1/t==-1/0}function pD(t){return typeof t=="number"&&Number.isInteger(t)&&!Dd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _a(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){this.comparator=e,this.root=n||vt.EMPTY}insert(e,n){return new qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vt.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fu(this.root,e,this.comparator,!0)}}class fu{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??vt.RED,this.left=r??vt.EMPTY,this.right=s??vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new vt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return vt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}}vt.EMPTY=null,vt.RED=!0,vt.BLACK=!1;vt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,i,r,s){return this}insert(e,n,i){return new vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $w(this.data.getIterator())}getIteratorFrom(e){return new $w(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class $w{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Et(wt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new yT("Invalid base64 string: "+s):s}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const mD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(t){if(Pe(!!t),typeof t=="string"){let e=0;const n=mD.exec(t);if(Pe(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ks(t){return typeof t=="string"?Ft.fromBase64String(t):Ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function sv(t){const e=t.mapValue.fields.__previous_value__;return rv(e)?sv(e):e}function Gl(t){const e=Lr(t.mapValue.fields.__local_write_time__.timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,n,i,r,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Kl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Rs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rv(t)?4:yD(t)?9007199254740991:10:oe()}function wi(t,e){if(t===e)return!0;const n=Rs(t);if(n!==Rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gl(t).isEqual(Gl(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Lr(r.timestampValue),a=Lr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return ks(r.bytesValue).isEqual(ks(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return tt(r.geoPointValue.latitude)===tt(s.geoPointValue.latitude)&&tt(r.geoPointValue.longitude)===tt(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return tt(r.integerValue)===tt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=tt(r.doubleValue),a=tt(s.doubleValue);return o===a?Dd(o)===Dd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Qo(t.arrayValue.values||[],e.arrayValue.values||[],wi);case 10:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(Bw(o)!==Bw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!wi(o[l],a[l])))return!1;return!0}(t,e);default:return oe()}}function Ql(t,e){return(t.values||[]).find(n=>wi(n,e))!==void 0}function Yo(t,e){if(t===e)return 0;const n=Rs(t),i=Rs(e);if(n!==i)return Se(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=tt(s.integerValue||s.doubleValue),l=tt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Hw(t.timestampValue,e.timestampValue);case 4:return Hw(Gl(t),Gl(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ks(s),l=ks(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Se(a[c],l[c]);if(d!==0)return d}return Se(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Se(tt(s.latitude),tt(o.latitude));return a!==0?a:Se(tt(s.longitude),tt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const d=Yo(a[c],l[c]);if(d)return d}return Se(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===pu.mapValue&&o===pu.mapValue)return 0;if(s===pu.mapValue)return 1;if(o===pu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=Se(l[f],d[f]);if(p!==0)return p;const g=Yo(a[l[f]],c[d[f]]);if(g!==0)return g}return Se(l.length,d.length)}(t.mapValue,e.mapValue);default:throw oe()}}function Hw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=Lr(t),i=Lr(e),r=Se(n.seconds,i.seconds);return r!==0?r:Se(n.nanos,i.nanos)}function Xo(t){return dg(t)}function dg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Lr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ks(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=dg(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${dg(n.fields[o])}`;return r+"}"}(t.mapValue):oe()}function qw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hg(t){return!!t&&"integerValue"in t}function ov(t){return!!t&&"arrayValue"in t}function Ww(t){return!!t&&"nullValue"in t}function Gw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gu(t){return!!t&&"mapValue"in t}function vl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _a(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=vl(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function yD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Gu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vl(n)}setAll(e){let n=wt.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=vl(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Gu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Gu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){_a(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new kn(vl(this.value))}}function vT(t){const e=[];return _a(t.fields,(n,i)=>{const r=new wt([n]);if(Gu(i)){const s=vT(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Nt(e,0,ce.min(),ce.min(),ce.min(),kn.empty(),0)}static newFoundDocument(e,n,i,r){return new Nt(e,1,n,ce.min(),i,r,0)}static newNoDocument(e,n){return new Nt(e,2,n,ce.min(),ce.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new Nt(e,3,n,ce.min(),ce.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n){this.position=e,this.inclusive=n}}function Kw(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=ie.comparator(ie.fromName(o.referenceValue),n.key):i=Yo(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Qw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n="asc"){this.field=e,this.dir=n}}function vD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{}class rt extends _T{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new wD(e,n,i):n==="array-contains"?new SD(e,i):n==="in"?new xD(e,i):n==="not-in"?new TD(e,i):n==="array-contains-any"?new ID(e,i):new rt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new bD(e,i):new ED(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Yo(n,this.value)):n!==null&&Rs(this.value)===Rs(n)&&this.matchesComparison(Yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends _T{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ni(e,n)}matches(e){return wT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function wT(t){return t.op==="and"}function bT(t){return _D(t)&&wT(t)}function _D(t){for(const e of t.filters)if(e instanceof ni)return!1;return!0}function fg(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+Xo(t.value);if(bT(t))return t.filters.map(e=>fg(e)).join(",");{const e=t.filters.map(n=>fg(n)).join(",");return`${t.op}(${e})`}}function ET(t,e){return t instanceof rt?function(i,r){return r instanceof rt&&i.op===r.op&&i.field.isEqual(r.field)&&wi(i.value,r.value)}(t,e):t instanceof ni?function(i,r){return r instanceof ni&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&ET(o,r.filters[a]),!0):!1}(t,e):void oe()}function ST(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${Xo(n.value)}`}(t):t instanceof ni?function(n){return n.op.toString()+" {"+n.getFilters().map(ST).join(" ,")+"}"}(t):"Filter"}class wD extends rt{constructor(e,n,i){super(e,n,i),this.key=ie.fromName(i.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class bD extends rt{constructor(e,n){super(e,"in",n),this.keys=xT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ED extends rt{constructor(e,n){super(e,"not-in",n),this.keys=xT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ie.fromName(i.referenceValue))}class SD extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ov(n)&&Ql(n.arrayValue,this.value)}}class xD extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ql(this.value.arrayValue,n)}}class TD extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ql(this.value.arrayValue,n)}}class ID extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ov(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ql(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Yw(t,e=null,n=[],i=[],r=null,s=null,o=null){return new CD(t,e,n,i,r,s,o)}function av(t){const e=ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>fg(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Xo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Xo(i)).join(",")),e.ue=n}return e.ue}function lv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ET(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qw(t.startAt,e.startAt)&&Qw(t.endAt,e.endAt)}function pg(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function PD(t,e,n,i,r,s,o,a){return new vc(t,e,n,i,r,s,o,a)}function cv(t){return new vc(t)}function Xw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TT(t){return t.collectionGroup!==null}function _l(t){const e=ue(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Et(wt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Md(s,i))}),n.has(wt.keyField().canonicalString())||e.ce.push(new Md(wt.keyField(),i))}return e.ce}function pi(t){const e=ue(t);return e.le||(e.le=kD(e,_l(t))),e.le}function kD(t,e){if(t.limitType==="F")return Yw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Md(r.field,s)});const n=t.endAt?new jd(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new jd(t.startAt.position,t.startAt.inclusive):null;return Yw(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function mg(t,e){const n=t.filters.concat([e]);return new vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gg(t,e,n){return new vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jh(t,e){return lv(pi(t),pi(e))&&t.limitType===e.limitType}function IT(t){return`${av(pi(t))}|lt:${t.limitType}`}function io(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>ST(r)).join(", ")}]`),Dh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Xo(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Xo(r)).join(",")),`Target(${i})`}(pi(t))}; limitType=${t.limitType})`}function Mh(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):ie.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of _l(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){const c=Kw(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,_l(i),r)||i.endAt&&!function(o,a,l){const c=Kw(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,_l(i),r))}(t,e)}function RD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CT(t){return(e,n)=>{let i=!1;for(const r of _l(t)){const s=AD(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function AD(t,e,n){const i=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Yo(l,c):oe()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){_a(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return gT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new qe(ie.comparator);function Gi(){return OD}const PT=new qe(ie.comparator);function ol(...t){let e=PT;for(const n of t)e=e.insert(n.key,n);return e}function kT(t){let e=PT;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function us(){return wl()}function RT(){return wl()}function wl(){return new wa(t=>t.toString(),(t,e)=>t.isEqual(e))}const ND=new qe(ie.comparator),DD=new Et(ie.comparator);function ge(...t){let e=DD;for(const n of t)e=e.add(n);return e}const jD=new Et(Se);function MD(){return jD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dd(e)?"-0":e}}function OT(t){return{integerValue:""+t}}function LD(t,e){return pD(e)?OT(e):AT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this._=void 0}}function VD(t,e,n){return t instanceof Ld?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&rv(s)&&(s=sv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Yl?DT(t,e):t instanceof Xl?jT(t,e):function(r,s){const o=NT(r,s),a=Zw(o)+Zw(r.Pe);return hg(o)&&hg(r.Pe)?OT(a):AT(r.serializer,a)}(t,e)}function FD(t,e,n){return t instanceof Yl?DT(t,e):t instanceof Xl?jT(t,e):n}function NT(t,e){return t instanceof Vd?function(i){return hg(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Ld extends Lh{}class Yl extends Lh{constructor(e){super(),this.elements=e}}function DT(t,e){const n=MT(e);for(const i of t.elements)n.some(r=>wi(r,i))||n.push(i);return{arrayValue:{values:n}}}class Xl extends Lh{constructor(e){super(),this.elements=e}}function jT(t,e){let n=MT(e);for(const i of t.elements)n=n.filter(r=>!wi(r,i));return{arrayValue:{values:n}}}class Vd extends Lh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Zw(t){return tt(t.integerValue||t.doubleValue)}function MT(t){return ov(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function zD(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Yl&&r instanceof Yl||i instanceof Xl&&r instanceof Xl?Qo(i.elements,r.elements,wi):i instanceof Vd&&r instanceof Vd?wi(i.Pe,r.Pe):i instanceof Ld&&r instanceof Ld}(t.transform,e.transform)}class UD{constructor(e,n){this.version=e,this.transformResults=n}}class mi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ku(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vh{}function LT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new uv(t.key,mi.none()):new _c(t.key,t.data,mi.none());{const n=t.data,i=kn.empty();let r=new Et(wt.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Bs(t.key,i,new Gn(r.toArray()),mi.none())}}function BD(t,e,n){t instanceof _c?function(r,s,o){const a=r.value.clone(),l=e1(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Bs?function(r,s,o){if(!Ku(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=e1(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(VT(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function bl(t,e,n,i){return t instanceof _c?function(s,o,a,l){if(!Ku(s.precondition,o))return a;const c=s.value.clone(),d=t1(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Bs?function(s,o,a,l){if(!Ku(s.precondition,o))return a;const c=t1(s.fieldTransforms,l,o),d=o.data;return d.setAll(VT(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,i):function(s,o,a){return Ku(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function $D(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=NT(i.transform,r||null);s!=null&&(n===null&&(n=kn.empty()),n.set(i.field,s))}return n||null}function Jw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Qo(i,r,(s,o)=>zD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _c extends Vh{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Bs extends Vh{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function VT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function e1(t,e,n){const i=new Map;Pe(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,FD(o,a,n[r]))}return i}function t1(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,VD(s,o,e))}return i}class uv extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HD extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&BD(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=bl(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=bl(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=RT();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=LT(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,(n,i)=>Jw(n,i))&&Qo(this.baseMutations,e.baseMutations,(n,i)=>Jw(n,i))}}class dv{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Pe(e.mutations.length===i.length);let r=function(){return ND}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new dv(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,_e;function KD(t){switch(t){default:return oe();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function FT(t){if(t===void 0)return Wi("GRPC error has no .code"),H.UNKNOWN;switch(t){case et.OK:return H.OK;case et.CANCELLED:return H.CANCELLED;case et.UNKNOWN:return H.UNKNOWN;case et.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case et.INTERNAL:return H.INTERNAL;case et.UNAVAILABLE:return H.UNAVAILABLE;case et.UNAUTHENTICATED:return H.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case et.NOT_FOUND:return H.NOT_FOUND;case et.ALREADY_EXISTS:return H.ALREADY_EXISTS;case et.PERMISSION_DENIED:return H.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case et.ABORTED:return H.ABORTED;case et.OUT_OF_RANGE:return H.OUT_OF_RANGE;case et.UNIMPLEMENTED:return H.UNIMPLEMENTED;case et.DATA_LOSS:return H.DATA_LOSS;default:return oe()}}(_e=et||(et={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new ys([4294967295,4294967295],0);function n1(t){const e=QD().encode(t),n=new aT;return n.update(e),new Uint8Array(n.digest())}function i1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ys([n,i],0),new ys([r,s],0)]}class hv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new al(`Invalid padding: ${n}`);if(i<0)throw new al(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new al(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new al(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ys.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(ys.fromNumber(i)));return r.compare(YD)===1&&(r=new ys([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=n1(e),[i,r]=i1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new hv(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=n1(e),[i,r]=i1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,wc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Fh(ce.min(),r,new qe(Se),Gi(),ge())}}class wc{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new wc(i,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}}class zT{constructor(e,n){this.targetId=e,this.me=n}}class UT{constructor(e,n,i=Ft.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class r1{constructor(){this.fe=0,this.ge=o1(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ge(),n=ge(),i=ge();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:oe()}}),new wc(this.pe,this.ye,e,n,i)}ve(){this.we=!1,this.ge=o1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Pe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class XD{constructor(e){this.Le=e,this.Be=new Map,this.ke=Gi(),this.qe=s1(),this.Qe=new qe(Se)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){const n=e.targetId,i=e.me.count,r=this.Je(n);if(r){const s=r.target;if(pg(s))if(i===0){const o=new ie(s.path);this.Ue(n,o,Nt.newNoDocument(o,ce.min()))}else Pe(i===1);else{const o=this.Ye(n);if(o!==i){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=ks(i).toUint8Array()}catch(l){if(l instanceof yT)return Ko("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new hv(o,r,s)}catch(l){return Ko(l instanceof al?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&pg(a.target)){const l=new ie(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Nt.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let i=ge();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const r=new Fh(e,n,this.Qe,this.ke,i);return this.ke=Gi(),this.qe=s1(),this.Qe=new qe(Se),r}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new r1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Et(Se),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new r1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function s1(){return new qe(ie.comparator)}function o1(){return new qe(ie.comparator)}const ZD={asc:"ASCENDING",desc:"DESCENDING"},JD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ej={and:"AND",or:"OR"};class tj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yg(t,e){return t.useProto3Json||Dh(e)?e:{value:e}}function Fd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nj(t,e){return Fd(t,e.toTimestamp())}function gi(t){return Pe(!!t),ce.fromTimestamp(function(n){const i=Lr(n);return new lt(i.seconds,i.nanos)}(t))}function fv(t,e){return vg(t,e).canonicalString()}function vg(t,e){const n=function(r){return new Ae(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $T(t){const e=Ae.fromString(t);return Pe(KT(e)),e}function _g(t,e){return fv(t.databaseId,e.path)}function Cp(t,e){const n=$T(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(qT(n))}function HT(t,e){return fv(t.databaseId,e)}function ij(t){const e=$T(t);return e.length===4?Ae.emptyPath():qT(e)}function wg(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qT(t){return Pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function a1(t,e,n){return{name:_g(t,e),fields:n.value.mapValue.fields}}function rj(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Pe(d===void 0||typeof d=="string"),Ft.fromBase64String(d||"")):(Pe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Ft.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?H.UNKNOWN:FT(c.code);return new Z(d,c.message||"")}(o);n=new UT(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Cp(t,i.document.name),s=gi(i.document.updateTime),o=i.document.createTime?gi(i.document.createTime):ce.min(),a=new kn({mapValue:{fields:i.document.fields}}),l=Nt.newFoundDocument(r,s,o,a),c=i.targetIds||[],d=i.removedTargetIds||[];n=new Qu(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Cp(t,i.document),s=i.readTime?gi(i.readTime):ce.min(),o=Nt.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Qu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Cp(t,i.document),s=i.removedTargetIds||[];n=new Qu([],s,r,null)}else{if(!("filter"in e))return oe();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new GD(r,s),a=i.targetId;n=new zT(a,o)}}return n}function sj(t,e){let n;if(e instanceof _c)n={update:a1(t,e.key,e.value)};else if(e instanceof uv)n={delete:_g(t,e.key)};else if(e instanceof Bs)n={update:a1(t,e.key,e.data),updateMask:pj(e.fieldMask)};else{if(!(e instanceof HD))return oe();n={verify:_g(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof Ld)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Yl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Xl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Vd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw oe()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:nj(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:oe()}(t,e.precondition)),n}function oj(t,e){return t&&t.length>0?(Pe(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?gi(r.updateTime):gi(s);return o.isEqual(ce.min())&&(o=gi(s)),new UD(o,r.transformResults||[])}(n,e))):[]}function aj(t,e){return{documents:[HT(t,e.path)]}}function lj(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=HT(t,r);const s=function(c){if(c.length!==0)return GT(ni.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:ro(p.field),direction:dj(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=yg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:r}}function cj(t){let e=ij(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Pe(i===1);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const p=WT(f);return p instanceof ni&&bT(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(b){return new Md(so(b.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Dh(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new jd(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new jd(g,p)}(n.endAt)),PD(e,r,o,s,a,"F",l,c)}function uj(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=so(n.unaryFilter.field);return rt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=so(n.unaryFilter.field);return rt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=so(n.unaryFilter.field);return rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=so(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return rt.create(so(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ni.create(n.compositeFilter.filters.map(i=>WT(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function dj(t){return ZD[t]}function hj(t){return JD[t]}function fj(t){return ej[t]}function ro(t){return{fieldPath:t.canonicalString()}}function so(t){return wt.fromServerFormat(t.fieldPath)}function GT(t){return t instanceof rt?function(n){if(n.op==="=="){if(Gw(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NAN"}};if(Ww(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Gw(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NAN"}};if(Ww(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(n.field),op:hj(n.op),value:n.value}}}(t):t instanceof ni?function(n){const i=n.getFilters().map(r=>GT(r));return i.length===1?i[0]:{compositeFilter:{op:fj(n.op),filters:i}}}(t):oe()}function pj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n,i,r,s=ce.min(),o=ce.min(),a=Ft.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new gr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e){this.ct=e}}function gj(t){const e=cj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(){this._n=new vj}addToCollectionParentIndex(e,n){return this._n.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(Mr.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(Mr.min())}updateCollectionGroup(e,n,i){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class vj{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Et(Ae.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Et(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Zo(0)}static Ln(){return new Zo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(){this.changes=new wa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?q.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&bl(i.mutation,r,Gn.empty(),lt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ge()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ge()){const r=us();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=ol();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=us();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ge()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=Gi();const o=wl(),a=function(){return wl()}();return n.forEach((l,c)=>{const d=i.get(c.key);r.has(c.key)&&(d===void 0||d.mutation instanceof Bs)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),bl(d.mutation,c,d.mutation.getFieldMask(),lt.now())):o.set(c.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new wj(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const i=wl();let r=new qe((o,a)=>o-a),s=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=i.get(l)||Gn.empty();d=a.applyToLocalView(c,d),i.set(l,d);const f=(r.get(a.batchId)||ge()).add(l);r=r.insert(a.batchId,f)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=RT();d.forEach(p=>{if(!s.has(p)){const g=LT(n.get(p),i.get(p));g!==null&&f.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return q.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):q.resolve(us());let a=-1,l=s;return o.next(c=>q.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?q.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ge())).next(d=>({batchId:a,changes:kT(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(i=>{let r=ol();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=ol();return this.indexManager.getCollectionParents(e,s).next(a=>q.forEach(a,l=>{const c=function(f,p){return new vc(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Nt.newInvalidDocument(d)))});let a=ol();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&bl(d.mutation,c,Gn.empty(),lt.now()),Mh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return q.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:gi(r.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:gj(r.bundledQuery),readTime:gi(r.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(){this.overlays=new qe(ie.comparator),this.hr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const i=us();return q.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),q.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.hr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(i)),q.resolve()}getOverlaysForCollection(e,n,i){const r=us(),s=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return q.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new qe((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let d=s.get(c.largestBatchId);d===null&&(d=us(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=us(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=r)););return q.resolve(a)}ht(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new WD(n,i));let s=this.hr.get(n);s===void 0&&(s=ge(),this.hr.set(n,s)),this.hr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(){this.Pr=new Et(ct.Ir),this.Tr=new Et(ct.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const i=new ct(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new ct(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){const n=new ie(new Ae([])),i=new ct(n,e),r=new ct(n,e+1),s=[];return this.Tr.forEachInRange([i,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ie(new Ae([])),i=new ct(n,e),r=new ct(n,e+1);let s=ge();return this.Tr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class ct{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ie.comparator(e.key,n.key)||Se(e.pr,n.pr)}static Er(e,n){return Se(e.pr,n.pr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Et(ct.Ir)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new qD(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.wr=this.wr.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.br(i),s=r<0?0:r;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new ct(n,0),r=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([i,r],o=>{const a=this.Sr(o.pr);s.push(a)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Et(Se);return n.forEach(r=>{const s=new ct(r,0),o=new ct(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{i=i.add(a.pr)})}),q.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;ie.isDocumentKey(s)||(s=s.child(""));const o=new ct(new ie(s),0);let a=new Et(Se);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.pr)),!0)},o),q.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(i=>{const r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Pe(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return q.forEach(n.mutations,r=>{const s=new ct(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){const i=new ct(n,0),r=this.wr.firstAfterOrEqual(i);return q.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e){this.vr=e,this.docs=function(){return new qe(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return q.resolve(i?i.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(e,n){let i=Gi();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Nt.newInvalidDocument(r))}),q.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Gi();const o=n.path,a=new ie(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||uD(cD(d),i)<=0||(r.has(d.key)||Mh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(e,n,i,r){oe()}Fr(e,n){return q.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new Ij(this)}getSize(e){return q.resolve(this.size)}}class Ij extends _j{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),q.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.persistence=e,this.Mr=new wa(n=>av(n),lv),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Or=0,this.Nr=new pv,this.targetCount=0,this.Lr=Zo.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),q.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Zo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.qn(n),q.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),q.waitFor(s).next(()=>r)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const i=this.Mr.get(n)||null;return q.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),q.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Nr.gr(n);return q.resolve(i)}containsKey(e,n){return q.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n){this.Br={},this.overlays={},this.kr=new iv(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Cj(this),this.indexManager=new yj,this.remoteDocumentCache=function(r){return new Tj(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new mj(n),this.$r=new Ej(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Sj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new xj(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){te("MemoryPersistence","Starting transaction:",e);const r=new kj(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(e,n){return q.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class kj extends hD{constructor(e){super(),this.currentSequenceNumber=e}}class mv{constructor(e){this.persistence=e,this.zr=new pv,this.jr=null}static Hr(e){return new mv(e)}get Jr(){if(this.jr)return this.jr;throw oe()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),q.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),q.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Jr,i=>{const r=ie.fromPath(i);return this.Yr(e,r).next(s=>{s||n.removeEntry(r,ce.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return q.or([()=>q.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=ge(),r=ge();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new gv(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return jO()?8:fD(xt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Rj;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(Ka()<=ye.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),q.resolve()):(Ka()<=ye.DEBUG&&te("QueryEngine","Query:",io(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(Ka()<=ye.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(n))):q.resolve())}ji(e,n){if(Xw(n))return q.resolve(null);let i=pi(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=gg(n,null,"F"),i=pi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=ge(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,gg(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,i,r){return Xw(n)||r.isEqual(ce.min())?q.resolve(null):this.zi.getDocuments(e,i).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,i,r)?q.resolve(null):(Ka()<=ye.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),io(n)),this.es(e,o,n,lD(r,-1)).next(a=>a))})}Zi(e,n){let i=new Et(CT(e));return n.forEach((r,s)=>{Mh(e,s)&&(i=i.add(s))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(e,n,i){return Ka()<=ye.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",io(n)),this.zi.getDocumentsMatchingQuery(e,n,Mr.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new qe(Se),this.rs=new wa(s=>av(s),lv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bj(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function Nj(t,e,n,i){return new Oj(t,e,n,i)}async function QT(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=ge();for(const c of r){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(i,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function Dj(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,p=f.keys();let g=q.resolve();return p.forEach(b=>{g=g.next(()=>d.getEntry(l,b)).next(_=>{const C=c.docVersions.get(b);Pe(C!==null),_.version.compareTo(C)<0&&(f.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),d.addEntry(_)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=ge();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function YT(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function jj(t,e){const n=ue(t),i=e.snapshotVersion;let r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;const a=[];e.targetChanges.forEach((d,f)=>{const p=r.get(f);if(!p)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,f)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Ft.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,i)),r=r.insert(f,g),function(_,C,E){return _.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,g,d)&&a.push(n.Qr.updateTargetData(s,g))});let l=Gi(),c=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(Mj(s,o,e.documentUpdates).next(d=>{l=d.cs,c=d.ls})),!i.isEqual(ce.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(d)}return q.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=r,s))}function Mj(t,e,n){let i=ge(),r=ge();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=Gi();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:r}})}function Lj(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Vj(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(s=>s?(r=s,q.resolve(r)):n.Qr.allocateTargetId(i).next(o=>(r=new gr(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}async function bg(t,e,n){const i=ue(t),r=i.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!yc(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)}function l1(t,e,n){const i=ue(t);let r=ce.min(),s=ge();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=ue(l),p=f.rs.get(d);return p!==void 0?q.resolve(f.ns.get(p)):f.Qr.getTargetData(c,d)}(i,o,pi(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ts.getDocumentsMatchingQuery(o,e,n?r:ce.min(),n?s:ge())).next(a=>(Fj(i,RD(e),a),{documents:a,hs:s})))}function Fj(t,e,n){let i=t.ss.get(e)||ce.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.ss.set(e,i)}class c1{constructor(){this.activeTargetIds=MD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zj{constructor(){this.no=new c1,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new c1,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu=null;function Pp(){return mu===null?mu=function(){return 268435456+Math.round(2147483648*Math.random())}():mu++,"0x"+mu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class Hj extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+n.host,this.So=`projects/${r}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Do(){return!1}Co(n,i,r,s,o){const a=Pp(),l=this.vo(n,i.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,l,c,r).then(d=>(te("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Ko("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",r),d})}xo(n,i,r,s,o,a){return this.Co(n,i,r,s,o)}Fo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+va}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}vo(n,i){const r=Bj[n];return`${this.wo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,i,r){const s=Pp();return new Promise((o,a)=>{const l=new lT;l.setWithCredentials(!0),l.listenOnce(uT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Wu.NO_ERROR:const d=l.getResponseJson();te(Rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Wu.TIMEOUT:te(Rt,`RPC '${e}' ${s} timed out`),a(new Z(H.DEADLINE_EXCEEDED,"Request time out"));break;case Wu.HTTP_ERROR:const f=l.getStatus();if(te(Rt,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const b=function(C){const E=C.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(E)>=0?E:H.UNKNOWN}(g.status);a(new Z(b,g.message))}else a(new Z(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Z(H.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{te(Rt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(r);te(Rt,`RPC '${e}' ${s} sending request:`,r),l.send(n,"POST",c,i,15)})}Oo(e,n,i){const r=Pp(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fT(),a=hT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new cT({})),this.Fo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const d=s.join("");te(Rt,`Creating RPC '${e}' stream ${r}: ${d}`,l);const f=o.createWebChannel(d,l);let p=!1,g=!1;const b=new $j({lo:C=>{g?te(Rt,`Not sending because RPC '${e}' stream ${r} is closed:`,C):(p||(te(Rt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),p=!0),te(Rt,`RPC '${e}' stream ${r} sending:`,C),f.send(C))},ho:()=>f.close()}),_=(C,E,y)=>{C.listen(E,x=>{try{y(x)}catch(P){setTimeout(()=>{throw P},0)}})};return _(f,sl.EventType.OPEN,()=>{g||(te(Rt,`RPC '${e}' stream ${r} transport opened.`),b.mo())}),_(f,sl.EventType.CLOSE,()=>{g||(g=!0,te(Rt,`RPC '${e}' stream ${r} transport closed`),b.po())}),_(f,sl.EventType.ERROR,C=>{g||(g=!0,Ko(Rt,`RPC '${e}' stream ${r} transport errored:`,C),b.po(new Z(H.UNAVAILABLE,"The operation could not be completed")))}),_(f,sl.EventType.MESSAGE,C=>{var E;if(!g){const y=C.data[0];Pe(!!y);const x=y,P=x.error||((E=x[0])===null||E===void 0?void 0:E.error);if(P){te(Rt,`RPC '${e}' stream ${r} received error:`,P);const D=P.status;let O=function(w){const I=et[w];if(I!==void 0)return FT(I)}(D),T=P.message;O===void 0&&(O=H.INTERNAL,T="Unknown error status: "+D+" with message "+P.message),g=!0,b.po(new Z(O,T)),f.close()}else te(Rt,`RPC '${e}' stream ${r} received:`,y),b.yo(y)}}),_(a,dT.STAT_EVENT,C=>{C.stat===ug.PROXY?te(Rt,`RPC '${e}' stream ${r} detected buffering proxy`):C.stat===ug.NOPROXY&&te(Rt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.fo()},0),b}}function kp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(t){return new tj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n,i=1e3,r=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=i,this.Lo=r,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,n-i);r>0&&te("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,i,r,s,o,a,l){this.oi=e,this.Go=i,this.zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new XT(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Wi(n.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===n&&this.u_(i,r)},i=>{e(()=>{const r=new Z(H.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(e,n){const i=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qj extends ZT{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=rj(this.serializer,e),i=function(s){if(!("targetChange"in s))return ce.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?gi(o.readTime):ce.min()}(e);return this.listener.h_(n,i)}P_(e){const n={};n.database=wg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=pg(l)?{documents:aj(s,l)}:{query:lj(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=BT(s,o.resumeToken);const c=yg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=Fd(s,o.snapshotVersion.toTimestamp());const c=yg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const i=uj(this.serializer,e);i&&(n.labels=i),this.i_(n)}I_(e){const n={};n.database=wg(this.serializer),n.removeTarget=e,this.i_(n)}}class Wj extends ZT{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=oj(e.writeResults,e.commitTime),i=gi(e.commitTime);return this.listener.A_(i,n)}return Pe(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=wg(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>sj(this.serializer,i))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new Z(H.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,vg(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(H.UNKNOWN,s.toString())})}xo(e,n,i,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,vg(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(H.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Kj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Wi(n),this.y_=!1):te("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{i.enqueueAndForget(async()=>{$s(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ue(l);c.M_.add(4),await bc(c),c.N_.set("Unknown"),c.M_.delete(4),await Uh(c)}(this))})}),this.N_=new Kj(i,r)}}async function Uh(t){if($s(t))for(const e of t.x_)await e(!0)}async function bc(t){for(const e of t.x_)await e(!1)}function JT(t,e){const n=ue(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),wv(n)?_v(n):ba(n).Xo()&&vv(n,e))}function yv(t,e){const n=ue(t),i=ba(n);n.F_.delete(e),i.Xo()&&eI(n,e),n.F_.size===0&&(i.Xo()?i.n_():$s(n)&&n.N_.set("Unknown"))}function vv(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ba(t).P_(e)}function eI(t,e){t.L_.xe(e),ba(t).I_(e)}function _v(t){t.L_=new XD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ba(t).start(),t.N_.w_()}function wv(t){return $s(t)&&!ba(t).Zo()&&t.F_.size>0}function $s(t){return ue(t).M_.size===0}function tI(t){t.L_=void 0}async function Yj(t){t.N_.set("Online")}async function Xj(t){t.F_.forEach((e,n)=>{vv(t,e)})}async function Zj(t,e){tI(t),wv(t)?(t.N_.D_(e),_v(t)):t.N_.set("Unknown")}async function Jj(t,e,n){if(t.N_.set("Online"),e instanceof UT&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.F_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.F_.delete(a),r.L_.removeTarget(a))}(t,e)}catch(i){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await zd(t,i)}else if(e instanceof Qu?t.L_.Ke(e):e instanceof zT?t.L_.He(e):t.L_.We(e),!n.isEqual(ce.min()))try{const i=await YT(t.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.F_.get(c);d&&s.F_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.F_.get(l);if(!d)return;s.F_.set(l,d.withResumeToken(Ft.EMPTY_BYTE_STRING,d.snapshotVersion)),eI(s,l);const f=new gr(d.target,l,c,d.sequenceNumber);vv(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){te("RemoteStore","Failed to raise snapshot:",i),await zd(t,i)}}async function zd(t,e,n){if(!yc(e))throw e;t.M_.add(1),await bc(t),t.N_.set("Offline"),n||(n=()=>YT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Uh(t)})}function nI(t,e){return e().catch(n=>zd(t,n,e))}async function Bh(t){const e=ue(t),n=Vr(e);let i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;eM(e);)try{const r=await Lj(e.localStore,i);if(r===null){e.v_.length===0&&n.n_();break}i=r.batchId,tM(e,r)}catch(r){await zd(e,r)}iI(e)&&rI(e)}function eM(t){return $s(t)&&t.v_.length<10}function tM(t,e){t.v_.push(e);const n=Vr(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function iI(t){return $s(t)&&!Vr(t).Zo()&&t.v_.length>0}function rI(t){Vr(t).start()}async function nM(t){Vr(t).V_()}async function iM(t){const e=Vr(t);for(const n of t.v_)e.d_(n.mutations)}async function rM(t,e,n){const i=t.v_.shift(),r=dv.from(i,e,n);await nI(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Bh(t)}async function sM(t,e){e&&Vr(t).E_&&await async function(i,r){if(function(o){return KD(o)&&o!==H.ABORTED}(r.code)){const s=i.v_.shift();Vr(i).t_(),await nI(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Bh(i)}}(t,e),iI(t)&&rI(t)}async function d1(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const i=$s(n);n.M_.add(3),await bc(n),i&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Uh(n)}async function oM(t,e){const n=ue(t);e?(n.M_.delete(2),await Uh(n)):e||(n.M_.add(2),await bc(n),n.N_.set("Unknown"))}function ba(t){return t.B_||(t.B_=function(n,i,r){const s=ue(n);return s.f_(),new qj(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:Yj.bind(null,t),To:Xj.bind(null,t),Ao:Zj.bind(null,t),h_:Jj.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),wv(t)?_v(t):t.N_.set("Unknown")):(await t.B_.stop(),tI(t))})),t.B_}function Vr(t){return t.k_||(t.k_=function(n,i,r){const s=ue(n);return s.f_(),new Wj(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:nM.bind(null,t),Ao:sM.bind(null,t),R_:iM.bind(null,t),A_:rM.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Bh(t)):(await t.k_.stop(),t.v_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new bv(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ev(t,e){if(Wi("AsyncQueue",`${e}: ${t}`),yc(t))return new Z(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.comparator=e?(n,i)=>e(n,i)||ie.comparator(n.key,i.key):(n,i)=>ie.comparator(n.key,i.key),this.keyedMap=ol(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new Ro(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Ro;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.q_=new qe(ie.comparator)}track(e){const n=e.doc.key,i=this.q_.get(n);i?e.type!==0&&i.type===3?this.q_=this.q_.insert(n,e):e.type===3&&i.type!==1?this.q_=this.q_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.q_=this.q_.remove(n):e.type===1&&i.type===2?this.q_=this.q_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):oe():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Jo{constructor(e,n,i,r,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Jo(e,n,Ro.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class lM{constructor(){this.queries=new wa(e=>IT(e),jh),this.onlineState="Unknown",this.z_=new Set}}async function sI(t,e){const n=ue(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.W_()&&e.G_()&&(i=2):(s=new aM,i=e.G_()?0:1);try{switch(i){case 0:s.K_=await n.onListen(r,!0);break;case 1:s.K_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=Ev(o,`Initialization of query '${io(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&Sv(n)}async function oI(t,e){const n=ue(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?r=e.G_()?0:1:!s.W_()&&e.G_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function cM(t,e){const n=ue(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(r)&&(i=!0);o.K_=r}}i&&Sv(n)}function uM(t,e,n){const i=ue(t),r=i.queries.get(e);if(r)for(const s of r.U_)s.onError(n);i.queries.delete(e)}function Sv(t){t.z_.forEach(e=>{e.next()})}var Eg,f1;(f1=Eg||(Eg={})).J_="default",f1.Cache="cache";class aI{constructor(e,n,i){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Jo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const i=n!=="Offline";return(!this.options.ra||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Eg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.key=e}}class cI{constructor(e){this.key=e}}class dM{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ge(),this.mutatedKeys=ge(),this.Ia=CT(e),this.Ta=new Ro(this.Ia)}get Ea(){return this.la}da(e,n){const i=n?n.Aa:new h1,r=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,f)=>{const p=r.get(d),g=Mh(this.query,f)?f:null,b=!!p&&this.mutatedKeys.has(p.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let C=!1;p&&g?p.data.isEqual(g.data)?b!==_&&(i.track({type:3,doc:g}),C=!0):this.Ra(p,g)||(i.track({type:2,doc:g}),C=!0,(l&&this.Ia(g,l)>0||c&&this.Ia(g,c)<0)&&(a=!0)):!p&&g?(i.track({type:0,doc:g}),C=!0):p&&!g&&(i.track({type:1,doc:p}),C=!0,(l||c)&&(a=!0)),C&&(g?(o=o.add(g),s=_?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Ta:o,Aa:i,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((d,f)=>function(g,b){const _=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return _(g)-_(b)}(d.type,f.type)||this.Ia(d.doc,f.doc)),this.Va(i),r=r!=null&&r;const a=n&&!r?this.ma():[],l=this.Pa.size===0&&this.current&&!r?1:0,c=l!==this.ha;return this.ha=l,o.length!==0||c?{snapshot:new Jo(this.query,e.Ta,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new h1,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ge(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});const n=[];return e.forEach(i=>{this.Pa.has(i)||n.push(new cI(i))}),this.Pa.forEach(i=>{e.has(i)||n.push(new lI(i))}),n}pa(e){this.la=e.hs,this.Pa=ge();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Jo.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class hM{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class fM{constructor(e){this.key=e,this.wa=!1}}class pM{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new wa(a=>IT(a),jh),this.Da=new Map,this.Ca=new Set,this.va=new qe(ie.comparator),this.Fa=new Map,this.Ma=new pv,this.xa={},this.Oa=new Map,this.Na=Zo.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function mM(t,e,n=!0){const i=mI(t);let r;const s=i.ba.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ya()):r=await uI(i,e,n,!0),r}async function gM(t,e){const n=mI(t);await uI(n,e,!0,!1)}async function uI(t,e,n,i){const r=await Vj(t.localStore,pi(e)),s=r.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return i&&(a=await yM(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&JT(t.remoteStore,r),a}async function yM(t,e,n,i,r){t.Ba=(f,p,g)=>async function(_,C,E,y){let x=C.view.da(E);x.Xi&&(x=await l1(_.localStore,C.query,!1).then(({documents:T})=>C.view.da(T,x)));const P=y&&y.targetChanges.get(C.targetId),D=y&&y.targetMismatches.get(C.targetId)!=null,O=C.view.applyChanges(x,_.isPrimaryClient,P,D);return m1(_,C.targetId,O.fa),O.snapshot}(t,f,p,g);const s=await l1(t.localStore,e,!0),o=new dM(e,s.hs),a=o.da(s.documents),l=wc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);m1(t,n,c.fa);const d=new hM(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function vM(t,e,n){const i=ue(t),r=i.ba.get(e),s=i.Da.get(r.targetId);if(s.length>1)return i.Da.set(r.targetId,s.filter(o=>!jh(o,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await bg(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&yv(i.remoteStore,r.targetId),Sg(i,r.targetId)}).catch(gc)):(Sg(i,r.targetId),await bg(i.localStore,r.targetId,!0))}async function _M(t,e){const n=ue(t),i=n.ba.get(e),r=n.Da.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),yv(n.remoteStore,i.targetId))}async function wM(t,e,n){const i=CM(t);try{const r=await function(o,a){const l=ue(o),c=lt.now(),d=a.reduce((g,b)=>g.add(b.key),ge());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=Gi(),_=ge();return l.os.getEntries(g,d).next(C=>{b=C,b.forEach((E,y)=>{y.isValidDocument()||(_=_.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,b)).next(C=>{f=C;const E=[];for(const y of a){const x=$D(y,f.get(y.key).overlayedDocument);x!=null&&E.push(new Bs(y.key,x,vT(x.value.mapValue),mi.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,E,a)}).next(C=>{p=C;const E=C.applyToLocalDocumentSet(f,_);return l.documentOverlayCache.saveOverlays(g,C.batchId,E)})}).then(()=>({batchId:p.batchId,changes:kT(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.xa[o.currentUser.toKey()];c||(c=new qe(Se)),c=c.insert(a,l),o.xa[o.currentUser.toKey()]=c}(i,r.batchId,n),await Ec(i,r.changes),await Bh(i.remoteStore)}catch(r){const s=Ev(r,"Failed to persist write");n.reject(s)}}async function dI(t,e){const n=ue(t);try{const i=await jj(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.Fa.get(s);o&&(Pe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.wa=!0:r.modifiedDocuments.size>0?Pe(o.wa):r.removedDocuments.size>0&&(Pe(o.wa),o.wa=!1))}),await Ec(n,i,e)}catch(i){await gc(i)}}function p1(t,e,n){const i=ue(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=ue(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const p of f.U_)p.j_(a)&&(c=!0)}),c&&Sv(l)}(i.eventManager,e),r.length&&i.Sa.h_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function bM(t,e,n){const i=ue(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Fa.get(e),s=r&&r.key;if(s){let o=new qe(ie.comparator);o=o.insert(s,Nt.newNoDocument(s,ce.min()));const a=ge().add(s),l=new Fh(ce.min(),new Map,new qe(Se),o,a);await dI(i,l),i.va=i.va.remove(s),i.Fa.delete(e),xv(i)}else await bg(i.localStore,e,!1).then(()=>Sg(i,e,n)).catch(gc)}async function EM(t,e){const n=ue(t),i=e.batch.batchId;try{const r=await Dj(n.localStore,e);fI(n,i,null),hI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ec(n,r)}catch(r){await gc(r)}}async function SM(t,e,n){const i=ue(t);try{const r=await function(o,a){const l=ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Pe(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(i.localStore,e);fI(i,e,n),hI(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Ec(i,r)}catch(r){await gc(r)}}function hI(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function fI(t,e,n){const i=ue(t);let r=i.xa[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.xa[i.currentUser.toKey()]=r}}function Sg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Da.get(e))t.ba.delete(i),n&&t.Sa.ka(i,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(i=>{t.Ma.containsKey(i)||pI(t,i)})}function pI(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(yv(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),xv(t))}function m1(t,e,n){for(const i of n)i instanceof lI?(t.Ma.addReference(i.key,e),xM(t,i)):i instanceof cI?(te("SyncEngine","Document no longer in limbo: "+i.key),t.Ma.removeReference(i.key,e),t.Ma.containsKey(i.key)||pI(t,i.key)):oe()}function xM(t,e){const n=e.key,i=n.path.canonicalString();t.va.get(n)||t.Ca.has(i)||(te("SyncEngine","New document in limbo: "+n),t.Ca.add(i),xv(t))}function xv(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new ie(Ae.fromString(e)),i=t.Na.next();t.Fa.set(i,new fM(n)),t.va=t.va.insert(n,i),JT(t.remoteStore,new gr(pi(cv(n.path)),i,"TargetPurposeLimboResolution",iv.oe))}}async function Ec(t,e,n){const i=ue(t),r=[],s=[],o=[];i.ba.isEmpty()||(i.ba.forEach((a,l)=>{o.push(i.Ba(l,e,n).then(c=>{if((c||n)&&i.isPrimaryClient){const d=c&&!c.fromCache;i.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){r.push(c);const d=gv.Ki(l.targetId,c);s.push(d)}}))}),await Promise.all(o),i.Sa.h_(r),await async function(l,c){const d=ue(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>q.forEach(c,p=>q.forEach(p.qi,g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>q.forEach(p.Qi,g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!yc(f))throw f;te("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=d.ns.get(p),b=g.snapshotVersion,_=g.withLastLimboFreeSnapshotVersion(b);d.ns=d.ns.insert(p,_)}}}(i.localStore,s))}async function TM(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const i=await QT(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new Z(H.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ec(n,i.us)}}function IM(t,e){const n=ue(t),i=n.Fa.get(e);if(i&&i.wa)return ge().add(i.key);{let r=ge();const s=n.Da.get(e);if(!s)return r;for(const o of s){const a=n.ba.get(o);r=r.unionWith(a.view.Ea)}return r}}function mI(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bM.bind(null,e),e.Sa.h_=cM.bind(null,e.eventManager),e.Sa.ka=uM.bind(null,e.eventManager),e}function CM(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SM.bind(null,e),e}class g1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=zh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Nj(this.persistence,new Aj,e.initialUser,this.serializer)}createPersistence(e){return new Pj(mv.Hr,this.serializer)}createSharedClientState(e){return new zj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class PM{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>p1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=TM.bind(null,this.syncEngine),await oM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lM}()}createDatastore(e){const n=zh(e.databaseInfo.databaseId),i=function(s){return new Hj(s)}(e.databaseInfo);return function(s,o,a,l){return new Gj(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new Qj(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>p1(this.syncEngine,n,0),function(){return u1.D()?new u1:new Uj}())}createSyncEngine(e,n){return function(r,s,o,a,l,c,d){const f=new pM(r,s,o,a,l,c);return d&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(i){const r=ue(i);te("RemoteStore","RemoteStore shutting down."),r.M_.add(5),await bc(r),r.O_.shutdown(),r.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=At.UNAUTHENTICATED,this.clientId=mT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{te("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(te("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Ev(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Rp(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await QT(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function y1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await AM(t);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>d1(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>d1(e.remoteStore,r)),t._onlineComponents=e}function RM(t){return t.name==="FirebaseError"?t.code===H.FAILED_PRECONDITION||t.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function AM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await Rp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!RM(n))throw n;Ko("Error using user provided cache. Falling back to memory cache: "+n),await Rp(t,new g1)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await Rp(t,new g1);return t._offlineComponents}async function yI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await y1(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await y1(t,new PM))),t._onlineComponents}function OM(t){return yI(t).then(e=>e.syncEngine)}async function vI(t){const e=await yI(t),n=e.eventManager;return n.onListen=mM.bind(null,e.syncEngine),n.onUnlisten=vM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_M.bind(null,e.syncEngine),n}function NM(t,e,n={}){const i=new Li;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new gI({next:p=>{o.enqueueAndForget(()=>oI(s,f));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new Z(H.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new Z(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new aI(cv(a.path),d,{includeMetadataChanges:!0,ra:!0});return sI(s,f)}(await vI(t),t.asyncQueue,e,n,i)),i.promise}function DM(t,e,n={}){const i=new Li;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new gI({next:p=>{o.enqueueAndForget(()=>oI(s,f)),p.fromCache&&l.source==="server"?c.reject(new Z(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new aI(a,d,{includeMetadataChanges:!0,ra:!0});return sI(s,f)}(await vI(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t,e,n){if(!n)throw new Z(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jM(t,e,n,i){if(e===!0&&i===!0)throw new Z(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _1(t){if(!ie.isDocumentKey(t))throw new Z(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function w1(t){if(ie.isDocumentKey(t))throw new Z(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $h(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function Fr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$h(t);throw new Z(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_I((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Z(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Z(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Z(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Z(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b1(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new JN;switch(i.type){case"firstParty":return new iD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Z(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=v1.get(n);i&&(te("ComponentProvider","Removing Datastore"),v1.delete(n),i.terminate())}(this),Promise.resolve()}}function MM(t,e,n,i={}){var r;const s=(t=Fr(t,Hh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=At.MOCK_USER;else{a=tT(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Z(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new At(c)}t._authCredentials=new eD(new pT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ea(this.firestore,e,this._query)}}class un{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}}class Rr extends Ea{constructor(e,n,i){super(e,n,cv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new ie(e))}withConverter(e){return new Rr(this.firestore,e,this._path)}}function Mt(t,e,...n){if(t=Je(t),wI("collection","path",e),t instanceof Hh){const i=Ae.fromString(e,...n);return w1(i),new Rr(t,null,i)}{if(!(t instanceof un||t instanceof Rr))throw new Z(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ae.fromString(e,...n));return w1(i),new Rr(t.firestore,null,i)}}function Dt(t,e,...n){if(t=Je(t),arguments.length===1&&(e=mT.newId()),wI("doc","path",e),t instanceof Hh){const i=Ae.fromString(e,...n);return _1(i),new un(t,null,new ie(i))}{if(!(t instanceof un||t instanceof Rr))throw new Z(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ae.fromString(e,...n));return _1(i),new un(t.firestore,t instanceof Rr?t.converter:null,new ie(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new XT(this,"async_queue_retry"),this.hu=()=>{const n=kp();n&&te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=kp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=kp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Li;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!yc(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(i=>{this.au=i,this.uu=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Wi("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=n,n}enqueueAfterDelay(e,n,i){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const r=bv.createAndSchedule(this,e,n,i,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&oe()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Sc extends Hh{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new LM}(),this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||bI(this),this._firestoreClient.terminate()}}function VM(t,e){const n=typeof t=="object"?t:tv(),i=typeof t=="string"?t:"(default)",r=Nh(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=Zx("firestore");s&&MM(r,...s)}return r}function Tv(t){return t._firestoreClient||bI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function bI(t){var e,n,i;const r=t._freezeSettings(),s=function(a,l,c,d){return new gD(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,_I(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new kM(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ea(Ft.fromBase64String(e))}catch(n){throw new Z(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ea(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=/^__.*__$/;class zM{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Bs(e,this.data,this.fieldMask,n,this.fieldTransforms):new _c(e,this.data,n,this.fieldTransforms)}}function SI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}class Pv{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Pv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.wu(e),r}Su(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Ud(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(SI(this.fu)&&FM.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class UM{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||zh(e)}Fu(e,n,i,r=!1){return new Pv({fu:e,methodName:n,vu:i,path:wt.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xI(t){const e=t._freezeSettings(),n=zh(t._databaseId);return new UM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function BM(t,e,n,i,r,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,r);CI("Data must be an object, but it was:",o,i);const a=TI(i,o);let l,c;if(s.merge)l=new Gn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const p=HM(e,f,n);if(!o.contains(p))throw new Z(H.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);WM(d,p)||d.push(p)}l=new Gn(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new zM(new kn(a),l,c)}function $M(t,e,n,i=!1){return kv(n,t.Fu(i?4:3,e))}function kv(t,e){if(II(t=Je(t)))return CI("Unsupported field value:",e,t),TI(t,e);if(t instanceof EI)return function(i,r){if(!SI(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=kv(a,r.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Je(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return LD(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=lt.fromDate(i);return{timestampValue:Fd(r.serializer,s)}}if(i instanceof lt){const s=new lt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Fd(r.serializer,s)}}if(i instanceof Cv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ea)return{bytesValue:BT(r.serializer,i._byteString)};if(i instanceof un){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:fv(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${$h(i)}`)}(t,e)}function TI(t,e){const n={};return gT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_a(t,(i,r)=>{const s=kv(r,e.pu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function II(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof Cv||t instanceof ea||t instanceof un||t instanceof EI)}function CI(t,e,n){if(!II(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=$h(n);throw i==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+i)}}function HM(t,e,n){if((e=Je(e))instanceof Iv)return e._internalPath;if(typeof e=="string")return PI(t,e);throw Ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const qM=new RegExp("[~\\*/\\[\\]]");function PI(t,e,n){if(e.search(qM)>=0)throw Ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Iv(...e.split("."))._internalPath}catch{throw Ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ud(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new Z(H.INVALID_ARGUMENT,a+t+l)}function WM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GM extends kI{data(){return super.data()}}function Rv(t,e){return typeof e=="string"?PI(t,e):e instanceof Iv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Av{}class QM extends Av{}function YM(t,e,...n){let i=[];e instanceof Av&&i.push(e),i=i.concat(n),function(s){const o=s.filter(l=>l instanceof Ov).length,a=s.filter(l=>l instanceof qh).length;if(o>1||o>0&&a>0)throw new Z(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class qh extends QM{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new qh(e,n,i)}_apply(e){const n=this._parse(e);return RI(e._query,n),new Ea(e.firestore,e.converter,mg(e._query,n))}_parse(e){const n=xI(e.firestore);return function(s,o,a,l,c,d,f){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Z(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){S1(f,d);const g=[];for(const b of f)g.push(E1(l,s,b));p={arrayValue:{values:g}}}else p=E1(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||S1(f,d),p=$M(a,o,f,d==="in"||d==="not-in");return rt.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function XM(t,e,n){const i=e,r=Rv("where",t);return qh._create(r,i,n)}class Ov extends Av{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ov(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)RI(o,l),o=mg(o,l)}(e._query,n),new Ea(e.firestore,e.converter,mg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function E1(t,e,n){if(typeof(n=Je(n))=="string"){if(n==="")throw new Z(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TT(e)&&n.indexOf("/")!==-1)throw new Z(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ae.fromString(n));if(!ie.isDocumentKey(i))throw new Z(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return qw(t,new ie(i))}if(n instanceof un)return qw(t,n._key);throw new Z(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(n)}.`)}function S1(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RI(t,e){const n=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ZM{convertValue(e,n="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return _a(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new Cv(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=sv(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const n=Lr(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ae.fromString(e);Pe(KT(i));const r=new Kl(i.get(1),i.get(3)),s=new ie(i.popFirst(5));return r.isEqual(n)||Wi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class AI extends kI{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Rv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Yu extends AI{data(e={}){return super.data(e)}}class eL{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new ll(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Yu(this._firestore,this._userDataWriter,i.key,i,new ll(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new Yu(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ll(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Yu(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ll(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:tL(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function tL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(t){t=Fr(t,un);const e=Fr(t.firestore,Sc);return NM(Tv(e),t._key).then(n=>nL(e,t,n))}class OI extends ZM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ea(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,n)}}function dn(t){t=Fr(t,Ea);const e=Fr(t.firestore,Sc),n=Tv(e),i=new OI(e);return KM(t._query),DM(n,t._query).then(r=>new eL(e,i,t,r))}function zr(t,e,n){t=Fr(t,un);const i=Fr(t.firestore,Sc),r=JM(t.converter,e);return NI(i,[BM(xI(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,mi.none())])}function ta(t){return NI(Fr(t.firestore,Sc),[new uv(t._key,mi.none())])}function NI(t,e){return function(i,r){const s=new Li;return i.asyncQueue.enqueueAndForget(async()=>wM(await OM(i),r,s)),s.promise}(Tv(t),e)}function nL(t,e,n){const i=n.docs.get(e._key),r=new OI(t);return new AI(t,r,e._key,i,new ll(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){va=r})(Us),Cs(new jr("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Sc(new tD(i.getProvider("auth-internal")),new sD(i.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Z(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(c.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),fi(Uw,"4.6.3",e),fi(Uw,"4.6.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="firebasestorage.googleapis.com",jI="storageBucket",iL=2*60*1e3,rL=10*60*1e3,sL=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We extends bi{constructor(e,n,i=0){super(Ap(e),`Firebase Storage: ${n} (${Ap(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,We.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ap(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var De;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(De||(De={}));function Ap(t){return"storage/"+t}function Nv(){const t="An unknown error occurred, please check the error payload for server response.";return new We(De.UNKNOWN,t)}function oL(t){return new We(De.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function aL(t){return new We(De.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function lL(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new We(De.UNAUTHENTICATED,t)}function cL(){return new We(De.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function uL(t){return new We(De.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function MI(){return new We(De.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LI(){return new We(De.CANCELED,"User canceled the upload/download.")}function dL(t){return new We(De.INVALID_URL,"Invalid URL '"+t+"'.")}function hL(t){return new We(De.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function fL(){return new We(De.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jI+"' property when initializing the app?")}function VI(){return new We(De.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pL(){return new We(De.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function mL(){return new We(De.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gL(t){return new We(De.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xg(t){return new We(De.INVALID_ARGUMENT,t)}function FI(){return new We(De.APP_DELETED,"The Firebase app was deleted.")}function yL(t){return new We(De.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function El(t,e){return new We(De.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Qa(t){throw new We(De.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=gn.makeFromUrl(e,n)}catch{return new gn(e,"")}if(i.path==="")return i;throw hL(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function c(P){P.path_=decodeURIComponent(P.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${d}/b/${r}/o${p}`,"i"),b={bucket:1,path:3},_=n===DI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",E=new RegExp(`^https?://${_}/${r}/${C}`,"i"),x=[{regex:a,indices:l,postModify:s},{regex:g,indices:b,postModify:c},{regex:E,indices:{bucket:1,path:2},postModify:c}];for(let P=0;P<x.length;P++){const D=x[P],O=D.regex.exec(e);if(O){const T=O[D.indices.bucket];let S=O[D.indices.path];S||(S=""),i=new gn(T,S),D.postModify(i);break}}if(i==null)throw dL(e);return i}}class vL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t,e,n){let i=1,r=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...C){c||(c=!0,e.apply(null,C))}function f(C){r=setTimeout(()=>{r=null,t(g,l())},C)}function p(){s&&clearTimeout(s)}function g(C,...E){if(c){p();return}if(C){p(),d.call(null,C,...E);return}if(l()||o){p(),d.call(null,C,...E);return}i<64&&(i*=2);let x;a===1?(a=2,x=0):x=(i+Math.random())*1e3,f(x)}let b=!1;function _(C){b||(b=!0,p(),!c&&(r!==null?(C||(a=2),clearTimeout(r),f(0)):C||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,_(!0)},n),_}function wL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t){return t!==void 0}function EL(t){return typeof t=="function"}function SL(t){return typeof t=="object"&&!Array.isArray(t)}function Gh(t){return typeof t=="string"||t instanceof String}function x1(t){return Dv()&&t instanceof Blob}function Dv(){return typeof Blob<"u"}function T1(t,e,n,i){if(i<e)throw xg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw xg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function zI(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(vs||(vs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n,i,r,s,o,a,l,c,d,f,p=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,b)=>{this.resolve_=g,this.reject_=b,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new gu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===vs.NO_ERROR,l=s.getStatus();if(!a||UI(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===vs.ABORT;i(!1,new gu(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;i(!0,new gu(c,s))})},n=(i,r)=>{const s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());bL(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Nv();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(r.canceled){const l=this.appDelete_?FI():LI();o(l)}else{const l=MI();o(l)}};this.canceled_?n(!1,new gu(!1,null,!0)):this.backoffId_=_L(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gu{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function TL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function IL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function CL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function PL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function kL(t,e,n,i,r,s,o=!0){const a=zI(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return CL(c,e),TL(c,n),IL(c,s),PL(c,i),new xL(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function AL(...t){const e=RL();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(Dv())return new Blob(t);throw new We(De.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function OL(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){if(typeof atob>"u")throw gL("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Op{constructor(e,n){this.data=e,this.contentType=n||null}}function DL(t,e){switch(t){case ui.RAW:return new Op(BI(e));case ui.BASE64:case ui.BASE64URL:return new Op($I(t,e));case ui.DATA_URL:return new Op(ML(e),LL(e))}throw Nv()}function BI(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=i,o=t.charCodeAt(++n);i=65536|(s&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function jL(t){let e;try{e=decodeURIComponent(t)}catch{throw El(ui.DATA_URL,"Malformed data URL.")}return BI(e)}function $I(t,e){switch(t){case ui.BASE64:{const r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw El(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case ui.BASE64URL:{const r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw El(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=NL(e)}catch(r){throw r.message.includes("polyfill")?r:El(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class HI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw El(ui.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=VL(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function ML(t){const e=new HI(t);return e.base64?$I(ui.BASE64,e.rest):jL(e.rest)}function LL(t){return new HI(t).contentType}function VL(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n){let i=0,r="";x1(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(x1(this.data_)){const i=this.data_,r=OL(i,e,n);return r===null?null:new Pi(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Pi(i,!0)}}static getBlob(...e){if(Dv()){const n=e.map(i=>i instanceof Pi?i.data_:i);return new Pi(AL.apply(null,n))}else{const n=e.map(o=>Gh(o)?DL(ui.RAW,o).data:o.data_);let i=0;n.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)r[s++]=o[a]}),new Pi(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t){let e;try{e=JSON.parse(t)}catch{return null}return SL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function zL(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function WI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t,e){return e}class Ht{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||UL}}let yu=null;function BL(t){return!Gh(t)||t.length<2?t:WI(t)}function jv(){if(yu)return yu;const t=[];t.push(new Ht("bucket")),t.push(new Ht("generation")),t.push(new Ht("metageneration")),t.push(new Ht("name","fullPath",!0));function e(s,o){return BL(o)}const n=new Ht("name");n.xform=e,t.push(n);function i(s,o){return o!==void 0?Number(o):o}const r=new Ht("size");return r.xform=i,t.push(r),t.push(new Ht("timeCreated")),t.push(new Ht("updated")),t.push(new Ht("md5Hash",null,!0)),t.push(new Ht("cacheControl",null,!0)),t.push(new Ht("contentDisposition",null,!0)),t.push(new Ht("contentEncoding",null,!0)),t.push(new Ht("contentLanguage",null,!0)),t.push(new Ht("contentType",null,!0)),t.push(new Ht("metadata","customMetadata",!0)),yu=t,yu}function $L(t,e){function n(){const i=t.bucket,r=t.fullPath,s=new gn(i,r);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function HL(t,e,n){const i={};i.type="file";const r=n.length;for(let s=0;s<r;s++){const o=n[s];i[o.local]=o.xform(i,e[o.server])}return $L(i,t),i}function GI(t,e,n){const i=qI(e);return i===null?null:HL(t,i,n)}function qL(t,e,n,i){const r=qI(e);if(r===null||!Gh(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=t.bucket,f=t.fullPath,p="/b/"+o(d)+"/o/"+o(f),g=Sa(p,n,i),b=zI({alt:"media",token:c});return g+b})[0]}function KI(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Hs{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t){if(!t)throw Nv()}function Mv(t,e){function n(i,r){const s=GI(t,r,e);return Vi(s!==null),s}return n}function WL(t,e){function n(i,r){const s=GI(t,r,e);return Vi(s!==null),qL(s,r,t.host,t._protocol)}return n}function xc(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=cL():r=lL():n.getStatus()===402?r=aL(t.bucket):n.getStatus()===403?r=uL(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function Lv(t){const e=xc(t);function n(i,r){let s=e(i,r);return i.getStatus()===404&&(s=oL(t.path)),s.serverResponse=r.serverResponse,s}return n}function GL(t,e,n){const i=e.fullServerUrl(),r=Sa(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Hs(r,s,Mv(t,n),o);return a.errorHandler=Lv(e),a}function KL(t,e,n){const i=e.fullServerUrl(),r=Sa(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Hs(r,s,WL(t,n),o);return a.errorHandler=Lv(e),a}function QL(t,e){const n=e.fullServerUrl(),i=Sa(n,t.host,t._protocol),r="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new Hs(i,r,o,s);return a.successCodes=[200,204],a.errorHandler=Lv(e),a}function YL(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function QI(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=YL(null,e)),i}function YI(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let x="";for(let P=0;P<2;P++)x=x+Math.random().toString().slice(2);return x}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=QI(e,i,r),d=KI(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",g=Pi.getBlob(f,i,p);if(g===null)throw VI();const b={name:c.fullPath},_=Sa(s,t.host,t._protocol),C="POST",E=t.maxUploadRetryTime,y=new Hs(_,C,Mv(t,n),E);return y.urlParams=b,y.headers=o,y.body=g.uploadData(),y.errorHandler=xc(e),y}class Bd{constructor(e,n,i,r){this.current=e,this.total=n,this.finalized=!!i,this.metadata=r||null}}function Vv(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Vi(!1)}return Vi(!!n&&(e||["active"]).indexOf(n)!==-1),n}function XL(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),o=QI(e,i,r),a={name:o.fullPath},l=Sa(s,t.host,t._protocol),c="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},f=KI(o,n),p=t.maxUploadRetryTime;function g(_){Vv(_);let C;try{C=_.getResponseHeader("X-Goog-Upload-URL")}catch{Vi(!1)}return Vi(Gh(C)),C}const b=new Hs(l,c,g,p);return b.urlParams=a,b.headers=d,b.body=f,b.errorHandler=xc(e),b}function ZL(t,e,n,i){const r={"X-Goog-Upload-Command":"query"};function s(c){const d=Vv(c,["active","final"]);let f=null;try{f=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Vi(!1)}f||Vi(!1);const p=Number(f);return Vi(!isNaN(p)),new Bd(p,i.size(),d==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Hs(n,o,s,a);return l.headers=r,l.errorHandler=xc(e),l}const I1=256*1024;function JL(t,e,n,i,r,s,o,a){const l=new Bd(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw pL();const c=l.total-l.current;let d=c;r>0&&(d=Math.min(d,r));const f=l.current,p=f+d;let g="";d===0?g="finalize":c===d?g="upload, finalize":g="upload";const b={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${l.current}`},_=i.slice(f,p);if(_===null)throw VI();function C(P,D){const O=Vv(P,["active","final"]),T=l.current+d,S=i.size();let w;return O==="final"?w=Mv(e,s)(P,D):w=null,new Bd(T,S,O==="final",w)}const E="POST",y=e.maxUploadRetryTime,x=new Hs(n,E,C,y);return x.headers=b,x.body=_.uploadData(),x.progressCallback=a||null,x.errorHandler=xc(t),x}const rn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Np(t){switch(t){case"running":case"pausing":case"canceling":return rn.RUNNING;case"paused":return rn.PAUSED;case"success":return rn.SUCCESS;case"canceled":return rn.CANCELED;case"error":return rn.ERROR;default:return rn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n,i){if(EL(e)||n!=null||i!=null)this.next=e,this.error=n??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class t4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw Qa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class n4 extends t4{initXhr(){this.xhr_.responseType="text"}}function ar(){return new n4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=i,this._mappings=jv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(De.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(UI(r.status,[]))if(s)r=MI();else{this.sleepTime=Math.max(this.sleepTime*2,sL),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(De.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":e(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const i=XL(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ar,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,i)=>{const r=ZL(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,ar,n,i);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=I1*this._chunkMultiplier,n=new Bd(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let o;try{o=JL(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,ar,r,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){I1*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const i=GL(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,ar,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const i=YI(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ar,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=LI(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Np(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,i,r){const s=new e4(n||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Np(this._state)){case rn.SUCCESS:Js(this._resolve.bind(null,this.snapshot))();break;case rn.CANCELED:case rn.ERROR:const n=this._reject;Js(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Np(this._state)){case rn.RUNNING:case rn.PAUSED:e.next&&Js(e.next.bind(e,this.snapshot))();break;case rn.SUCCESS:e.complete&&Js(e.complete.bind(e))();break;case rn.CANCELED:case rn.ERROR:e.error&&Js(e.error.bind(e,this._error))();break;default:e.error&&Js(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){this._service=e,n instanceof gn?this._location=n:this._location=gn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new As(e,n)}get root(){const e=new gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WI(this._location.path)}get storage(){return this._service}get parent(){const e=FL(this._location.path);if(e===null)return null;const n=new gn(this._location.bucket,e);return new As(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yL(e)}}function r4(t,e,n){t._throwIfRoot("uploadBytes");const i=YI(t.storage,t._location,jv(),new Pi(e,!0),n);return t.storage.makeRequestWithTokens(i,ar).then(r=>({metadata:r,ref:t}))}function s4(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new i4(t,new Pi(e),n)}function o4(t){t._throwIfRoot("getDownloadURL");const e=KL(t.storage,t._location,jv());return t.storage.makeRequestWithTokens(e,ar).then(n=>{if(n===null)throw mL();return n})}function a4(t){t._throwIfRoot("deleteObject");const e=QL(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ar)}function l4(t,e){const n=zL(t._location.path,e),i=new gn(t._location.bucket,n);return new As(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t){return/^[A-Za-z]+:\/\//.test(t)}function u4(t,e){return new As(t,e)}function XI(t,e){if(t instanceof Fv){const n=t;if(n._bucket==null)throw fL();const i=new As(n,n._bucket);return e!=null?XI(i,e):i}else return e!==void 0?l4(t,e):t}function d4(t,e){if(e&&c4(e)){if(t instanceof Fv)return u4(t,e);throw xg("To use ref(service, url), the first argument must be a Storage instance.")}else return XI(t,e)}function C1(t,e){const n=e==null?void 0:e[jI];return n==null?null:gn.makeFromBucketSpec(n,t)}function h4(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:tT(r,t.app.options.projectId))}class Fv{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=DI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=iL,this._maxUploadRetryTime=rL,this._requests=new Set,r!=null?this._bucket=gn.makeFromBucketSpec(r,this._host):this._bucket=C1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gn.makeFromBucketSpec(this._url,e):this._bucket=C1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){T1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){T1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new As(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new vL(FI());{const o=kL(e,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const P1="@firebase/storage",k1="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="storage";function Zl(t,e,n){return t=Je(t),r4(t,e,n)}function JI(t,e,n){return t=Je(t),s4(t,e,n)}function Fi(t){return t=Je(t),o4(t)}function na(t){return t=Je(t),a4(t)}function yn(t,e){return t=Je(t),d4(t,e)}function Kh(t=tv(),e){t=Je(t);const i=Nh(t,ZI).getImmediate({identifier:e}),r=Zx("storage");return r&&f4(i,...r),i}function f4(t,e,n,i={}){h4(t,e,n,i)}function p4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Fv(n,i,r,e,Us)}function m4(){Cs(new jr(ZI,p4,"PUBLIC").setMultipleInstances(!0)),fi(P1,k1,""),fi(P1,k1,"esm2017")}m4();function zv(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function eC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g4=eC,tC=new pc("auth","Firebase",eC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=new Jy("@firebase/auth");function y4(t,...e){$d.logLevel<=ye.WARN&&$d.warn(`Auth (${Us}): ${t}`,...e)}function Xu(t,...e){$d.logLevel<=ye.ERROR&&$d.error(`Auth (${Us}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t,...e){throw Uv(t,...e)}function yi(t,...e){return Uv(t,...e)}function nC(t,e,n){const i=Object.assign(Object.assign({},g4()),{[e]:n});return new pc("auth","Firebase",i).create(e,{appName:t.name})}function Ar(t){return nC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Uv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return tC.create(t,...e)}function se(t,e,...n){if(!t)throw Uv(e,...n)}function Oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xu(e),new Error(e)}function Ki(t,e){t||Oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function v4(){return R1()==="http:"||R1()==="https:"}function R1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v4()||OO()||"connection"in navigator)?navigator.onLine:!0}function w4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ki(n>e,"Short delay should be less than long delay!"),this.isMobile=RO()||NO()}get(){return _4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t,e){Ki(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=new Tc(3e4,6e4);function qs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Gr(t,e,n,i,r={}){return rC(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=mc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),iC.fetch()(sC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function rC(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},b4),e);try{const r=new x4(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw vu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw vu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw vu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw vu(t,"user-disabled",o);const d=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw nC(t,d,c);ii(t,d)}}catch(r){if(r instanceof bi)throw r;ii(t,"network-request-failed",{message:String(r)})}}async function Qh(t,e,n,i,r={}){const s=await Gr(t,e,n,i,r);return"mfaPendingCredential"in s&&ii(t,"multi-factor-auth-required",{_serverResponse:s}),s}function sC(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?Bv(t.config,r):`${t.config.apiScheme}://${r}`}function S4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class x4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(yi(this.auth,"network-request-failed")),E4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=yi(t,e,i);return r.customData._tokenResponse=n,r}function A1(t){return t!==void 0&&t.enterprise!==void 0}class T4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return S4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function I4(t,e){return Gr(t,"GET","/v2/recaptchaConfig",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(t,e){return Gr(t,"POST","/v1/accounts:delete",e)}async function oC(t,e){return Gr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function P4(t,e=!1){const n=Je(t),i=await n.getIdToken(e),r=$v(i);se(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Sl(Dp(r.auth_time)),issuedAtTime:Sl(Dp(r.iat)),expirationTime:Sl(Dp(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Dp(t){return Number(t)*1e3}function $v(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Xu("JWT malformed, contained fewer than 3 sections"),null;try{const r=Yx(n);return r?JSON.parse(r):(Xu("Failed to decode base64 JWT payload"),null)}catch(r){return Xu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function O1(t){const e=$v(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof bi&&k4(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function k4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Jl(t,oC(n,{idToken:i}));se(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?aC(s.providerUserInfo):[],a=O4(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ig(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function A4(t){const e=Je(t);await Hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function O4(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function aC(t){return t.map(e=>{var{providerId:n}=e,i=zv(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e){const n=await rC(t,{},async()=>{const i=mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=sC(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",iC.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function D4(t,e){return Gr(t,"POST","/v2/accounts:revokeToken",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):O1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=O1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await N4(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new Ao;return i&&(se(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(se(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ni{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=zv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new R4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ig(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Jl(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return P4(this,e)}reload(){return A4(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Hd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ai(this.auth.app))return Promise.reject(Ar(this.auth));const e=await this.getIdToken();return await Jl(this,C4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,c,d;const f=(i=n.displayName)!==null&&i!==void 0?i:void 0,p=(r=n.email)!==null&&r!==void 0?r:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:P,isAnonymous:D,providerData:O,stsTokenManager:T}=n;se(x&&T,e,"internal-error");const S=Ao.fromJSON(this.name,T);se(typeof x=="string",e,"internal-error"),tr(f,e.name),tr(p,e.name),se(typeof P=="boolean",e,"internal-error"),se(typeof D=="boolean",e,"internal-error"),tr(g,e.name),tr(b,e.name),tr(_,e.name),tr(C,e.name),tr(E,e.name),tr(y,e.name);const w=new Ni({uid:x,auth:e,email:p,emailVerified:P,displayName:f,isAnonymous:D,photoURL:b,phoneNumber:g,tenantId:_,stsTokenManager:S,createdAt:E,lastLoginAt:y});return O&&Array.isArray(O)&&(w.providerData=O.map(I=>Object.assign({},I))),C&&(w._redirectEventId=C),w}static async _fromIdTokenResponse(e,n,i=!1){const r=new Ao;r.updateFromServerResponse(n);const s=new Ni({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Hd(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];se(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?aC(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new Ao;a.updateFromIdToken(i);const l=new Ni({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Ig(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=new Map;function Di(t){Ki(t instanceof Function,"Expected a class definition");let e=N1.get(t);return e?(Ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,N1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lC.type="NONE";const D1=lC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t,e,n){return`firebase:${t}:${e}:${n}`}class Oo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Zu(this.userKey,r.apiKey,s),this.fullPersistenceKey=Zu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ni._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Oo(Di(D1),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||Di(D1);const o=Zu(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=Ni._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Oo(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Oo(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fC(e))return"Blackberry";if(pC(e))return"Webos";if(Hv(e))return"Safari";if((e.includes("chrome/")||uC(e))&&!e.includes("edge/"))return"Chrome";if(hC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function cC(t=xt()){return/firefox\//i.test(t)}function Hv(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uC(t=xt()){return/crios\//i.test(t)}function dC(t=xt()){return/iemobile/i.test(t)}function hC(t=xt()){return/android/i.test(t)}function fC(t=xt()){return/blackberry/i.test(t)}function pC(t=xt()){return/webos/i.test(t)}function Yh(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function j4(t=xt()){var e;return Yh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function M4(){return DO()&&document.documentMode===10}function mC(t=xt()){return Yh(t)||hC(t)||pC(t)||fC(t)||/windows phone/i.test(t)||dC(t)}function L4(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t,e=[]){let n;switch(t){case"Browser":n=j1(xt());break;case"Worker":n=`${j1(xt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Us}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(t,e={}){return Gr(t,"GET","/v2/passwordPolicy",qs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=6;class U4{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:z4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M1(this),this.idTokenSubscription=new M1(this),this.beforeStateQueue=new V4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Di(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Oo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await oC(this,{idToken:e}),i=await Ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ai(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=w4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ai(this.app))return Promise.reject(Ar(this));const n=e?Je(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ai(this.app)?Promise.reject(Ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ai(this.app)?Promise.reject(Ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await F4(this),n=new U4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await D4(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Di(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[Di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&y4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function xa(t){return Je(t)}class M1{constructor(e){this.auth=e,this.observer=null,this.addObserver=BO(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $4(t){Xh=t}function yC(t){return Xh.loadJS(t)}function H4(){return Xh.recaptchaEnterpriseScript}function q4(){return Xh.gapiScript}function W4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const G4="recaptcha-enterprise",K4="NO_RECAPTCHA";class Q4{constructor(e){this.type=G4,this.auth=xa(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{I4(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new T4(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;A1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(K4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&A1(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=H4();l.length!==0&&(l+=a),yC(l).then(()=>{r(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function L1(t,e,n,i=!1){const r=new Q4(t);let s;try{s=await r.verify(n)}catch{s=await r.verify(n,!0)}const o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function V1(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await L1(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await L1(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t,e){const n=Nh(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Od(s,e??{}))return r;ii(r,"already-initialized")}return n.initialize({options:e})}function X4(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Di);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Z4(t,e,n){const i=xa(t);se(i._canInitEmulator,i,"emulator-config-failed"),se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=vC(e),{host:o,port:a}=J4(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),e6()}function vC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function J4(t){const e=vC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:F1(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:F1(o)}}}function F1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function e6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,n){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function t6(t,e){return Gr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n6(t,e){return Qh(t,"POST","/v1/accounts:signInWithPassword",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i6(t,e){return Qh(t,"POST","/v1/accounts:signInWithEmailLink",qs(t,e))}async function r6(t,e){return Qh(t,"POST","/v1/accounts:signInWithEmailLink",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends qv{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new ec(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new ec(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return V1(e,n,"signInWithPassword",n6);case"emailLink":return i6(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return V1(e,i,"signUpPassword",t6);case"emailLink":return r6(e,{idToken:n,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(t,e){return Qh(t,"POST","/v1/accounts:signInWithIdp",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6="http://localhost";class Os extends qv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=zv(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Os(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return No(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,No(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,No(e,n)}buildRequest(){const e={requestUri:s6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function a6(t){const e=il(rl(t)).link,n=e?il(rl(e)).deep_link_id:null,i=il(rl(t)).deep_link_id;return(i?il(rl(i)).link:null)||i||n||e||t}class Wv{constructor(e){var n,i,r,s,o,a;const l=il(rl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(i=l.oobCode)!==null&&i!==void 0?i:null,f=o6((r=l.mode)!==null&&r!==void 0?r:null);se(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=a6(e);try{return new Wv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.providerId=Ta.PROVIDER_ID}static credential(e,n){return ec._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Wv.parseLink(n);return se(i,"argument-error"),ec._fromEmailAndCode(e,i.code,i.tenantId)}}Ta.PROVIDER_ID="password";Ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends _C{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Ic{constructor(){super("facebook.com")}static credential(e){return Os._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Ic{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Os._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return cr.credential(n,i)}catch{return null}}}cr.GOOGLE_SIGN_IN_METHOD="google.com";cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Ic{constructor(){super("github.com")}static credential(e){return Os._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends Ic{constructor(){super("twitter.com")}static credential(e,n){return Os._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return dr.credential(n,i)}catch{return null}}}dr.TWITTER_SIGN_IN_METHOD="twitter.com";dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await Ni._fromIdTokenResponse(e,i,r),o=z1(i);return new ia({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=z1(i);return new ia({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function z1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends bi{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,qd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new qd(e,n,i,r)}}function wC(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qd._fromErrorAndOperation(t,s,e,i):s})}async function l6(t,e,n=!1){const i=await Jl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ia._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c6(t,e,n=!1){const{auth:i}=t;if(Ai(i.app))return Promise.reject(Ar(i));const r="reauthenticate";try{const s=await Jl(t,wC(i,r,e,t),n);se(s.idToken,i,"internal-error");const o=$v(s.idToken);se(o,i,"internal-error");const{sub:a}=o;return se(t.uid===a,i,"user-mismatch"),ia._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ii(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(t,e,n=!1){if(Ai(t.app))return Promise.reject(Ar(t));const i="signIn",r=await wC(t,i,e),s=await ia._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function u6(t,e){return bC(xa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d6(t){const e=xa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function h6(t,e,n){return Ai(t.app)?Promise.reject(Ar(t)):u6(Je(t),Ta.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&d6(t),i})}function f6(t,e,n,i){return Je(t).onIdTokenChanged(e,n,i)}function p6(t,e,n){return Je(t).beforeAuthStateChanged(e,n)}function EC(t,e,n,i){return Je(t).onAuthStateChanged(e,n,i)}function m6(t){return Je(t).signOut()}const Wd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wd,"1"),this.storage.removeItem(Wd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(){const t=xt();return Hv(t)||Yh(t)}const y6=1e3,v6=10;class xC extends SC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=g6()&&L4(),this.fallbackToPolling=mC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);M4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,v6):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},y6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xC.type="LOCAL";const _6=xC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC extends SC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TC.type="SESSION";const IC=TC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Zh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await w6(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Gv("",20);r.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(){return window}function E6(t){vi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(){return typeof vi().WorkerGlobalScope<"u"&&typeof vi().importScripts=="function"}async function S6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function x6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function T6(){return CC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="firebaseLocalStorageDb",I6=1,Gd="firebaseLocalStorage",kC="fbase_key";class Cc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jh(t,e){return t.transaction([Gd],e?"readwrite":"readonly").objectStore(Gd)}function C6(){const t=indexedDB.deleteDatabase(PC);return new Cc(t).toPromise()}function Cg(){const t=indexedDB.open(PC,I6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Gd,{keyPath:kC})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Gd)?e(i):(i.close(),await C6(),e(await Cg()))})})}async function U1(t,e,n){const i=Jh(t,!0).put({[kC]:e,value:n});return new Cc(i).toPromise()}async function P6(t,e){const n=Jh(t,!1).get(e),i=await new Cc(n).toPromise();return i===void 0?null:i.value}function B1(t,e){const n=Jh(t,!0).delete(e);return new Cc(n).toPromise()}const k6=800,R6=3;class RC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>R6)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(T6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await S6(),!this.activeServiceWorker)return;this.sender=new b6(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||x6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cg();return await U1(e,Wd,"1"),await B1(e,Wd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>U1(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>P6(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>B1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Jh(r,!1).getAll();return new Cc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),k6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RC.type="LOCAL";const A6=RC;new Tc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t,e){return e?Di(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv extends qv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,n){return No(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function N6(t){return bC(t.auth,new Kv(t),t.bypassAuthState)}function D6(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),c6(n,new Kv(t),t.bypassAuthState)}async function j6(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),l6(n,new Kv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N6;case"linkViaPopup":case"linkViaRedirect":return j6;case"reauthViaPopup":case"reauthViaRedirect":return D6;default:ii(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=new Tc(2e3,1e4);class _o extends AC{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const e=Gv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,M6.get())};e()}}_o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6="pendingRedirect",Ju=new Map;class V6 extends AC{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Ju.get(this.auth._key());if(!e){try{const i=await F6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Ju.set(this.auth._key(),e)}return this.bypassAuthState||Ju.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F6(t,e){const n=B6(e),i=U6(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function z6(t,e){Ju.set(t._key(),e)}function U6(t){return Di(t._redirectPersistence)}function B6(t){return Zu(L6,t.config.apiKey,t.name)}async function $6(t,e,n=!1){if(Ai(t.app))return Promise.reject(Ar(t));const i=xa(t),r=O6(i,e),o=await new V6(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=10*60*1e3;class q6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!W6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!OC(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(yi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=H6&&this.cachedEventUids.clear(),this.cachedEventUids.has($1(e))}saveEventToCache(e){this.cachedEventUids.add($1(e)),this.lastProcessedEventTime=Date.now()}}function $1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function W6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G6(t,e={}){return Gr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q6=/^https?/;async function Y6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await G6(t);for(const n of e)try{if(X6(n))return}catch{}ii(t,"unauthorized-domain")}function X6(t){const e=Tg(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!Q6.test(n))return!1;if(K6.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=new Tc(3e4,6e4);function H1(){const t=vi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function J6(t){return new Promise((e,n)=>{var i,r,s;function o(){H1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H1(),n(yi(t,"network-request-failed"))},timeout:Z6.get()})}if(!((r=(i=vi().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=vi().gapi)===null||s===void 0)&&s.load)o();else{const a=W4("iframefcb");return vi()[a]=()=>{gapi.load?o():n(yi(t,"network-request-failed"))},yC(`${q4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ed=null,e})}let ed=null;function e3(t){return ed=ed||J6(t),ed}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=new Tc(5e3,15e3),n3="__/auth/iframe",i3="emulator/auth/iframe",r3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o3(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Bv(e,i3):`https://${t.config.authDomain}/${n3}`,i={apiKey:e.apiKey,appName:t.name,v:Us},r=s3.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${mc(i).slice(1)}`}async function a3(t){const e=await e3(t),n=vi().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:o3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r3,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=yi(t,"network-request-failed"),a=vi().setTimeout(()=>{s(o)},t3.get());function l(){vi().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c3=500,u3=600,d3="_blank",h3="http://localhost";class q1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function f3(t,e,n,i=c3,r=u3){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},l3),{width:i.toString(),height:r.toString(),top:s,left:o}),c=xt().toLowerCase();n&&(a=uC(c)?d3:n),cC(c)&&(e=e||h3,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,b])=>`${p}${g}=${b},`,"");if(j4(c)&&a!=="_self")return p3(e||"",a),new q1(null);const f=window.open(e||"",a,d);se(f,t,"popup-blocked");try{f.focus()}catch{}return new q1(f)}function p3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="__/auth/handler",g3="emulator/auth/handler",y3=encodeURIComponent("fac");async function W1(t,e,n,i,r,s){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Us,eventId:r};if(e instanceof _C){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",UO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Ic){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${y3}=${encodeURIComponent(l)}`:"";return`${v3(t)}?${mc(a).slice(1)}${c}`}function v3({config:t}){return t.emulator?Bv(t,g3):`https://${t.authDomain}/${m3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="webStorageSupport";class _3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IC,this._completeRedirectFn=$6,this._overrideRedirectResult=z6}async _openPopup(e,n,i,r){var s;Ki((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await W1(e,n,i,Tg(),r);return f3(e,o,Gv())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await W1(e,n,i,Tg(),r);return E6(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Ki(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await a3(e),i=new q6(e);return n.register("authEvent",r=>(se(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jp,{type:jp},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[jp];o!==void 0&&n(!!o),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Y6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mC()||Hv()||Yh()}}const w3=_3;var G1="@firebase/auth",K1="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function S3(t){Cs(new jr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gC(t)},c=new B4(i,r,s,l);return X4(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Cs(new jr("auth-internal",e=>{const n=xa(e.getProvider("auth").getImmediate());return(i=>new b3(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fi(G1,K1,E3(t)),fi(G1,K1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=5*60,T3=eT("authIdTokenMaxAge")||x3;let Q1=null;const I3=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>T3)return;const r=n==null?void 0:n.token;Q1!==r&&(Q1=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function C3(t=tv()){const e=Nh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Y4(t,{popupRedirectResolver:w3,persistence:[A6,_6,IC]}),i=eT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=I3(s.toString());p6(n,o,()=>o(n.currentUser)),f6(n,a=>o(a))}}const r=Xx("auth");return r&&Z4(n,`http://${r}`),n}function P3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$4({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=yi("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",P3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});S3("Browser");const k3={apiKey:"AIzaSyC_BCm9geOD8vanElhZ5D8tqn5tI2cJ8T8",authDomain:"belmacs1994.firebaseapp.com",projectId:"belmacs1994",storageBucket:"belmacs1994.appspot.com",messagingSenderId:"151567641645",appId:"1:151567641645:web:f45f9265503efb6bc8dca4",measurementId:"G-FZXFG5T9KE"},Qv=rT(k3),Kd=C3(Qv),Le=VM(Qv),ef=Kh(Qv),R3=()=>{const[t,e]=j.useState([]);j.useEffect(()=>{(async()=>{try{const s=(await dn(Mt(Le,"about-company"))).docs.map(o=>o.data());e(s)}catch(r){console.error("Error fetching projects: ",r)}})()},[]);const n=i=>i.split(`
`).map((r,s)=>h.jsxs(de.Fragment,{children:[r,h.jsx("br",{})]},s));return h.jsx("div",{className:"company reveal",children:t.map((i,r)=>h.jsxs(de.Fragment,{children:[h.jsxs("div",{className:"company-text",children:[h.jsx("p",{className:"company-header",children:"The Company"}),h.jsx("p",{className:"company-desc one",children:n(i.description)})]},r),h.jsx("div",{className:"company-img-ctr",children:h.jsx("img",{src:i.image,alt:"Company",className:"company-img"})})]},r))})},A3="/BelmacsConstruction/assets/about-vision-Dkn_uO3H.jpg",O3="/BelmacsConstruction/assets/about-mission-DQb3HxmP.jpg";function N3(){return h.jsxs("div",{className:"vision-mission reveal",children:[h.jsxs("div",{className:"vision",children:[h.jsx("div",{className:"vision-img-ctr",children:h.jsx("img",{src:A3,className:"vision-img"})}),h.jsxs("div",{className:"vision-text",children:[h.jsx("p",{className:"vision-header reveal",children:"Our Vision"}),h.jsx("p",{className:"vision-desc reveal",children:"To be one of the leading M&E consulting engineers in Singapore"})]})]}),h.jsxs("div",{className:"mission ",children:[h.jsx("div",{className:"mission-img-ctr",children:h.jsx("img",{src:O3,className:"mission-img"})}),h.jsxs("div",{className:"mission-text",children:[h.jsx("p",{className:"mission-header reveal",children:"Our Mission"}),h.jsx("p",{className:"mission-desc reveal",children:"To provide professional, value-added designs that meet international quality and environmental management standards"})]})]})]})}var NC={},DC={},tf={},jC={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(jC);var D3="Expected a function",Y1=NaN,j3="[object Symbol]",M3=/^\s+|\s+$/g,L3=/^[-+]0x[0-9a-f]+$/i,V3=/^0b[01]+$/i,F3=/^0o[0-7]+$/i,z3=parseInt,U3=typeof Kc=="object"&&Kc&&Kc.Object===Object&&Kc,B3=typeof self=="object"&&self&&self.Object===Object&&self,$3=U3||B3||Function("return this")(),H3=Object.prototype,q3=H3.toString,W3=Math.max,G3=Math.min,Mp=function(){return $3.Date.now()};function K3(t,e,n){var i,r,s,o,a,l,c=0,d=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(D3);e=X1(e)||0,Pg(n)&&(d=!!n.leading,f="maxWait"in n,s=f?W3(X1(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p);function g(O){var T=i,S=r;return i=r=void 0,c=O,o=t.apply(S,T),o}function b(O){return c=O,a=setTimeout(E,e),d?g(O):o}function _(O){var T=O-l,S=O-c,w=e-T;return f?G3(w,s-S):w}function C(O){var T=O-l,S=O-c;return l===void 0||T>=e||T<0||f&&S>=s}function E(){var O=Mp();if(C(O))return y(O);a=setTimeout(E,_(O))}function y(O){return a=void 0,p&&i?g(O):(i=r=void 0,o)}function x(){a!==void 0&&clearTimeout(a),c=0,i=l=r=a=void 0}function P(){return a===void 0?o:y(Mp())}function D(){var O=Mp(),T=C(O);if(i=arguments,r=this,l=O,T){if(a===void 0)return b(l);if(f)return a=setTimeout(E,e),g(l)}return a===void 0&&(a=setTimeout(E,e)),o}return D.cancel=x,D.flush=P,D}function Pg(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Q3(t){return!!t&&typeof t=="object"}function Y3(t){return typeof t=="symbol"||Q3(t)&&q3.call(t)==j3}function X1(t){if(typeof t=="number")return t;if(Y3(t))return Y1;if(Pg(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Pg(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(M3,"");var n=V3.test(t);return n||F3.test(t)?z3(t.slice(2),n?2:8):L3.test(t)?Y1:+t}var X3=K3,MC={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=r(s,i(a)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=r(o,a));return o}function r(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(MC);var nf=MC.exports,Q={},Yv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(j);function n(r){return r&&r.__esModule?r:{default:r}}var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};t.default=i})(Yv);Object.defineProperty(Q,"__esModule",{value:!0});Q.checkSpecKeys=Q.checkNavigable=Q.changeSlide=Q.canUseDOM=Q.canGoNext=void 0;Q.clamp=VC;Q.extractObject=void 0;Q.filterSettings=hV;Q.validSettings=Q.swipeStart=Q.swipeMove=Q.swipeEnd=Q.slidesOnRight=Q.slidesOnLeft=Q.slideHandler=Q.siblingDirection=Q.safePreventDefault=Q.lazyStartIndex=Q.lazySlidesOnRight=Q.lazySlidesOnLeft=Q.lazyEndIndex=Q.keyHandler=Q.initializedState=Q.getWidth=Q.getTrackLeft=Q.getTrackCSS=Q.getTrackAnimateCSS=Q.getTotalSlides=Q.getSwipeDirection=Q.getSlideCount=Q.getRequiredLazySlides=Q.getPreClones=Q.getPostClones=Q.getOnDemandLazySlides=Q.getNavigableIndexes=Q.getHeight=void 0;var Z3=LC(j),J3=LC(Yv);function LC(t){return t&&t.__esModule?t:{default:t}}function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function Z1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z1(Object(n),!0).forEach(function(i){eV(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function eV(t,e,n){return e=tV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tV(t){var e=nV(t,"string");return tc(e)=="symbol"?e:String(e)}function nV(t,e){if(tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(tc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VC(t,e,n){return Math.max(e,Math.min(t,n))}var Do=Q.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},FC=Q.getOnDemandLazySlides=function(e){for(var n=[],i=zC(e),r=UC(e),s=i;s<r;s++)e.lazyLoadedList.indexOf(s)<0&&n.push(s);return n};Q.getRequiredLazySlides=function(e){for(var n=[],i=zC(e),r=UC(e),s=i;s<r;s++)n.push(s);return n};var zC=Q.lazyStartIndex=function(e){return e.currentSlide-iV(e)},UC=Q.lazyEndIndex=function(e){return e.currentSlide+rV(e)},iV=Q.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},rV=Q.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},kg=Q.getWidth=function(e){return e&&e.offsetWidth||0},BC=Q.getHeight=function(e){return e&&e.offsetHeight||0},$C=Q.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i,r,s,o;return i=e.startX-e.curX,r=e.startY-e.curY,s=Math.atan2(r,i),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":n===!0?o>=35&&o<=135?"up":"down":"vertical"},HC=Q.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};Q.extractObject=function(e,n){var i={};return n.forEach(function(r){return i[r]=e[r]}),i};Q.initializedState=function(e){var n=Z3.default.Children.count(e.children),i=e.listRef,r=Math.ceil(kg(i)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(kg(s)),a;if(e.vertical)a=r;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=r/100),a=Math.ceil((r-l)/e.slidesToShow)}var c=i&&BC(i.querySelector('[data-index="0"]')),d=c*e.slidesToShow,f=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(f=n-1-e.initialSlide);var p=e.lazyLoadedList||[],g=FC(je(je({},e),{},{currentSlide:f,lazyLoadedList:p}));p=p.concat(g);var b={slideCount:n,slideWidth:a,listWidth:r,trackWidth:o,currentSlide:f,slideHeight:c,listHeight:d,lazyLoadedList:p};return e.autoplaying===null&&e.autoplay&&(b.autoplaying="playing"),b};Q.slideHandler=function(e){var n=e.waitForAnimate,i=e.animating,r=e.fade,s=e.infinite,o=e.index,a=e.slideCount,l=e.lazyLoad,c=e.currentSlide,d=e.centerMode,f=e.slidesToScroll,p=e.slidesToShow,g=e.useCSS,b=e.lazyLoadedList;if(n&&i)return{};var _=o,C,E,y,x={},P={},D=s?o:VC(o,0,a-1);if(r){if(!s&&(o<0||o>=a))return{};o<0?_=o+a:o>=a&&(_=o-a),l&&b.indexOf(_)<0&&(b=b.concat(_)),x={animating:!0,currentSlide:_,lazyLoadedList:b,targetSlide:_},P={animating:!1,targetSlide:_}}else C=_,_<0?(C=_+a,s?a%f!==0&&(C=a-a%f):C=0):!HC(e)&&_>c?_=C=c:d&&_>=a?(_=s?a:a-1,C=s?0:a-1):_>=a&&(C=_-a,s?a%f!==0&&(C=0):C=a-p),!s&&_+p>=a&&(C=a-p),E=Yd(je(je({},e),{},{slideIndex:_})),y=Yd(je(je({},e),{},{slideIndex:C})),s||(E===y&&(_=C),E=y),l&&(b=b.concat(FC(je(je({},e),{},{currentSlide:_})))),g?(x={animating:!0,currentSlide:C,trackStyle:qC(je(je({},e),{},{left:E})),lazyLoadedList:b,targetSlide:D},P={animating:!1,currentSlide:C,trackStyle:Qd(je(je({},e),{},{left:y})),swipeLeft:null,targetSlide:D}):x={currentSlide:C,trackStyle:Qd(je(je({},e),{},{left:y})),lazyLoadedList:b,targetSlide:D};return{state:x,nextState:P}};Q.changeSlide=function(e,n){var i,r,s,o,a,l=e.slidesToScroll,c=e.slidesToShow,d=e.slideCount,f=e.currentSlide,p=e.targetSlide,g=e.lazyLoad,b=e.infinite;if(o=d%l!==0,i=o?0:(d-f)%l,n.message==="previous")s=i===0?l:c-i,a=f-s,g&&!b&&(r=f-s,a=r===-1?d-1:r),b||(a=p-l);else if(n.message==="next")s=i===0?l:i,a=f+s,g&&!b&&(a=(f+l)%d+i),b||(a=p+l);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,b){var _=lV(je(je({},e),{},{targetSlide:a}));a>n.currentSlide&&_==="left"?a=a-d:a<n.currentSlide&&_==="right"&&(a=a+d)}}else n.message==="index"&&(a=Number(n.index));return a};Q.keyHandler=function(e,n,i){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?i?"next":"previous":e.keyCode===39?i?"previous":"next":""};Q.swipeStart=function(e,n,i){return e.target.tagName==="IMG"&&Do(e),!n||!i&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};Q.swipeMove=function(e,n){var i=n.scrolling,r=n.animating,s=n.vertical,o=n.swipeToSlide,a=n.verticalSwiping,l=n.rtl,c=n.currentSlide,d=n.edgeFriction,f=n.edgeDragged,p=n.onEdge,g=n.swiped,b=n.swiping,_=n.slideCount,C=n.slidesToScroll,E=n.infinite,y=n.touchObject,x=n.swipeEvent,P=n.listHeight,D=n.listWidth;if(!i){if(r)return Do(e);s&&o&&a&&Do(e);var O,T={},S=Yd(n);y.curX=e.touches?e.touches[0].pageX:e.clientX,y.curY=e.touches?e.touches[0].pageY:e.clientY,y.swipeLength=Math.round(Math.sqrt(Math.pow(y.curX-y.startX,2)));var w=Math.round(Math.sqrt(Math.pow(y.curY-y.startY,2)));if(!a&&!b&&w>10)return{scrolling:!0};a&&(y.swipeLength=w);var I=(l?-1:1)*(y.curX>y.startX?1:-1);a&&(I=y.curY>y.startY?1:-1);var A=Math.ceil(_/C),N=$C(n.touchObject,a),k=y.swipeLength;return E||(c===0&&(N==="right"||N==="down")||c+1>=A&&(N==="left"||N==="up")||!HC(n)&&(N==="left"||N==="up"))&&(k=y.swipeLength*d,f===!1&&p&&(p(N),T.edgeDragged=!0)),!g&&x&&(x(N),T.swiped=!0),s?O=S+k*(P/D)*I:l?O=S-k*I:O=S+k*I,a&&(O=S+k*I),T=je(je({},T),{},{touchObject:y,swipeLeft:O,trackStyle:Qd(je(je({},n),{},{left:O}))}),Math.abs(y.curX-y.startX)<Math.abs(y.curY-y.startY)*.8||y.swipeLength>10&&(T.swiping=!0,Do(e)),T}};Q.swipeEnd=function(e,n){var i=n.dragging,r=n.swipe,s=n.touchObject,o=n.listWidth,a=n.touchThreshold,l=n.verticalSwiping,c=n.listHeight,d=n.swipeToSlide,f=n.scrolling,p=n.onSwipe,g=n.targetSlide,b=n.currentSlide,_=n.infinite;if(!i)return r&&Do(e),{};var C=l?c/a:o/a,E=$C(s,l),y={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(f||!s.swipeLength)return y;if(s.swipeLength>C){Do(e),p&&p(E);var x,P,D=_?b:g;switch(E){case"left":case"up":P=D+eb(n),x=d?J1(n,P):P,y.currentDirection=0;break;case"right":case"down":P=D-eb(n),x=d?J1(n,P):P,y.currentDirection=1;break;default:x=D}y.triggerSlideHandler=x}else{var O=Yd(n);y.trackStyle=qC(je(je({},n),{},{left:O}))}return y};var sV=Q.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,i=e.infinite?e.slidesToShow*-1:0,r=e.infinite?e.slidesToShow*-1:0,s=[];i<n;)s.push(i),i=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return s},J1=Q.checkNavigable=function(e,n){var i=sV(e),r=0;if(n>i[i.length-1])n=i[i.length-1];else for(var s in i){if(n<i[s]){n=r;break}r=i[s]}return n},eb=Q.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var i,r=e.listRef,s=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(l){if(e.vertical){if(l.offsetTop+BC(l)/2>e.swipeLeft*-1)return i=l,!1}else if(l.offsetLeft-n+kg(l)/2>e.swipeLeft*-1)return i=l,!1;return!0}),!i)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(i.dataset.index-o)||1;return a}else return e.slidesToScroll},Xv=Q.checkSpecKeys=function(e,n){return n.reduce(function(i,r){return i&&e.hasOwnProperty(r)},!0)?null:console.error("Keys Missing:",e)},Qd=Q.getTrackCSS=function(e){Xv(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,i,r=e.slideCount+2*e.slidesToShow;e.vertical?i=r*e.slideHeight:n=aV(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=je(je({},s),{},{WebkitTransform:o,transform:a,msTransform:l})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),n&&(s.width=n),i&&(s.height=i),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s},qC=Q.getTrackAnimateCSS=function(e){Xv(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=Qd(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},Yd=Q.getTrackLeft=function(e){if(e.unslick)return 0;Xv(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,i=e.trackRef,r=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,c=e.slideWidth,d=e.listWidth,f=e.variableWidth,p=e.slideHeight,g=e.fade,b=e.vertical,_=0,C,E,y=0;if(g||e.slideCount===1)return 0;var x=0;if(r?(x=-td(e),o%l!==0&&n+l>o&&(x=-(n>o?a-(n-o):o%l)),s&&(x+=parseInt(a/2))):(o%l!==0&&n+l>o&&(x=a-o%l),s&&(x=parseInt(a/2))),_=x*c,y=x*p,b?C=n*p*-1+y:C=n*c*-1+_,f===!0){var P,D=i&&i.node;if(P=n+td(e),E=D&&D.childNodes[P],C=E?E.offsetLeft*-1:0,s===!0){P=r?n+td(e):n,E=D&&D.children[P],C=0;for(var O=0;O<P;O++)C-=D&&D.children[O]&&D.children[O].offsetWidth;C-=parseInt(e.centerPadding),C+=E&&(d-E.offsetWidth)/2}}return C},td=Q.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},oV=Q.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},aV=Q.getTotalSlides=function(e){return e.slideCount===1?1:td(e)+e.slideCount+oV(e)},lV=Q.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+cV(e)?"left":"right":e.targetSlide<e.currentSlide-uV(e)?"right":"left"},cV=Q.slidesOnRight=function(e){var n=e.slidesToShow,i=e.centerMode,r=e.rtl,s=e.centerPadding;if(i){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),r&&n%2===0&&(o+=1),o}return r?0:n-1},uV=Q.slidesOnLeft=function(e){var n=e.slidesToShow,i=e.centerMode,r=e.rtl,s=e.centerPadding;if(i){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),!r&&n%2===0&&(o+=1),o}return r?n-1:0};Q.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var dV=Q.validSettings=Object.keys(J3.default);function hV(t){return dV.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var rf={};Object.defineProperty(rf,"__esModule",{value:!0});rf.Track=void 0;var rr=WC(j),Lp=WC(nf),Vp=Q;function WC(t){return t&&t.__esModule?t:{default:t}}function ra(t){"@babel/helpers - typeof";return ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ra(t)}function Rg(){return Rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Rg.apply(this,arguments)}function fV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pV(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,KC(i.key),i)}}function mV(t,e,n){return e&&pV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ag(t,e)}function Ag(t,e){return Ag=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Ag(t,e)}function yV(t){var e=GC();return function(){var i=Xd(t),r;if(e){var s=Xd(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return vV(this,r)}}function vV(t,e){if(e&&(ra(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Og(t)}function Og(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GC=function(){return!!t})()}function Xd(t){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xd(t)}function tb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tb(Object(n),!0).forEach(function(i){Ng(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tb(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Ng(t,e,n){return e=KC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KC(t){var e=_V(t,"string");return ra(e)=="symbol"?e:String(e)}function _V(t,e){if(ra(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(ra(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fp=function(e){var n,i,r,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,r=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),i=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(n=!0)):n=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=o===a;return{"slick-slide":!0,"slick-active":n,"slick-center":i,"slick-cloned":r,"slick-current":l}},wV=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},zp=function(e,n){return e.key||n},bV=function(e){var n,i=[],r=[],s=[],o=rr.default.Children.count(e.children),a=(0,Vp.lazyStartIndex)(e),l=(0,Vp.lazyEndIndex)(e);return rr.default.Children.forEach(e.children,function(c,d){var f,p={message:"children",index:d,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(d)>=0?f=c:f=rr.default.createElement("div",null);var g=wV(en(en({},e),{},{index:d})),b=f.props.className||"",_=Fp(en(en({},e),{},{index:d}));if(i.push(rr.default.cloneElement(f,{key:"original"+zp(f,d),"data-index":d,className:(0,Lp.default)(_,b),tabIndex:"-1","aria-hidden":!_["slick-active"],style:en(en({outline:"none"},f.props.style||{}),g),onClick:function(y){f.props&&f.props.onClick&&f.props.onClick(y),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&e.fade===!1){var C=o-d;C<=(0,Vp.getPreClones)(e)&&(n=-C,n>=a&&(f=c),_=Fp(en(en({},e),{},{index:n})),r.push(rr.default.cloneElement(f,{key:"precloned"+zp(f,n),"data-index":n,tabIndex:"-1",className:(0,Lp.default)(_,b),"aria-hidden":!_["slick-active"],style:en(en({},f.props.style||{}),g),onClick:function(y){f.props&&f.props.onClick&&f.props.onClick(y),e.focusOnSelect&&e.focusOnSelect(p)}}))),n=o+d,n<l&&(f=c),_=Fp(en(en({},e),{},{index:n})),s.push(rr.default.cloneElement(f,{key:"postcloned"+zp(f,n),"data-index":n,tabIndex:"-1",className:(0,Lp.default)(_,b),"aria-hidden":!_["slick-active"],style:en(en({},f.props.style||{}),g),onClick:function(y){f.props&&f.props.onClick&&f.props.onClick(y),e.focusOnSelect&&e.focusOnSelect(p)}}))}}),e.rtl?r.concat(i,s).reverse():r.concat(i,s)};rf.Track=function(t){gV(n,t);var e=yV(n);function n(){var i;fV(this,n);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=e.call.apply(e,[this].concat(s)),Ng(Og(i),"node",null),Ng(Og(i),"handleRef",function(a){i.node=a}),i}return mV(n,[{key:"render",value:function(){var r=bV(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,l=s.onMouseLeave,c={onMouseEnter:o,onMouseOver:a,onMouseLeave:l};return rr.default.createElement("div",Rg({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},c),r)}}]),n}(rr.default.PureComponent);var sf={};function sa(t){"@babel/helpers - typeof";return sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sa(t)}Object.defineProperty(sf,"__esModule",{value:!0});sf.Dots=void 0;var _u=QC(j),EV=QC(nf),nb=Q;function QC(t){return t&&t.__esModule?t:{default:t}}function ib(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function SV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ib(Object(n),!0).forEach(function(i){xV(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ib(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function xV(t,e,n){return e=YC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IV(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,YC(i.key),i)}}function CV(t,e,n){return e&&IV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YC(t){var e=PV(t,"string");return sa(e)=="symbol"?e:String(e)}function PV(t,e){if(sa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(sa(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dg(t,e)}function Dg(t,e){return Dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Dg(t,e)}function RV(t){var e=XC();return function(){var i=Zd(t),r;if(e){var s=Zd(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return AV(this,r)}}function AV(t,e){if(e&&(sa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OV(t)}function OV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XC=function(){return!!t})()}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zd(t)}var NV=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};sf.Dots=function(t){kV(n,t);var e=RV(n);function n(){return TV(this,n),e.apply(this,arguments)}return CV(n,[{key:"clickHandler",value:function(r,s){s.preventDefault(),this.props.clickHandler(r)}},{key:"render",value:function(){for(var r=this.props,s=r.onMouseEnter,o=r.onMouseOver,a=r.onMouseLeave,l=r.infinite,c=r.slidesToScroll,d=r.slidesToShow,f=r.slideCount,p=r.currentSlide,g=NV({slideCount:f,slidesToScroll:c,slidesToShow:d,infinite:l}),b={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},_=[],C=0;C<g;C++){var E=(C+1)*c-1,y=l?E:(0,nb.clamp)(E,0,f-1),x=y-(c-1),P=l?x:(0,nb.clamp)(x,0,f-1),D=(0,EV.default)({"slick-active":l?p>=P&&p<=y:p===P}),O={message:"dots",index:C,slidesToScroll:c,currentSlide:p},T=this.clickHandler.bind(this,O);_=_.concat(_u.default.createElement("li",{key:C,className:D},_u.default.cloneElement(this.props.customPaging(C),{onClick:T})))}return _u.default.cloneElement(this.props.appendDots(_),SV({className:this.props.dotsClass},b))}}]),n}(_u.default.PureComponent);var oa={};function aa(t){"@babel/helpers - typeof";return aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aa(t)}Object.defineProperty(oa,"__esModule",{value:!0});oa.PrevArrow=oa.NextArrow=void 0;var jo=JC(j),ZC=JC(nf),DV=Q;function JC(t){return t&&t.__esModule?t:{default:t}}function Jd(){return Jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Jd.apply(this,arguments)}function rb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function eh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rb(Object(n),!0).forEach(function(i){jV(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rb(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function jV(t,e,n){return e=nP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MV(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,nP(i.key),i)}}function tP(t,e,n){return e&&MV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nP(t){var e=LV(t,"string");return aa(e)=="symbol"?e:String(e)}function LV(t,e){if(aa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(aa(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jg(t,e)}function jg(t,e){return jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},jg(t,e)}function rP(t){var e=sP();return function(){var i=th(t),r;if(e){var s=th(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return VV(this,r)}}function VV(t,e){if(e&&(aa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FV(t)}function FV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sP=function(){return!!t})()}function th(t){return th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},th(t)}oa.PrevArrow=function(t){iP(n,t);var e=rP(n);function n(){return eP(this,n),e.apply(this,arguments)}return tP(n,[{key:"clickHandler",value:function(r,s){s&&s.preventDefault(),this.props.clickHandler(r,s)}},{key:"render",value:function(){var r={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(r["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,ZC.default)(r),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=jo.default.cloneElement(this.props.prevArrow,eh(eh({},o),a)):l=jo.default.createElement("button",Jd({key:"0",type:"button"},o)," ","Previous"),l}}]),n}(jo.default.PureComponent);oa.NextArrow=function(t){iP(n,t);var e=rP(n);function n(){return eP(this,n),e.apply(this,arguments)}return tP(n,[{key:"clickHandler",value:function(r,s){s&&s.preventDefault(),this.props.clickHandler(r,s)}},{key:"render",value:function(){var r={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,DV.canGoNext)(this.props)||(r["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,ZC.default)(r),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=jo.default.cloneElement(this.props.nextArrow,eh(eh({},o),a)):l=jo.default.createElement("button",Jd({key:"1",type:"button"},o)," ","Next"),l}}]),n}(jo.default.PureComponent);var oP=function(){if(typeof Map<"u")return Map;function t(e,n){var i=-1;return e.some(function(r,s){return r[0]===n?(i=s,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var i=t(this.__entries__,n),r=this.__entries__[i];return r&&r[1]},e.prototype.set=function(n,i){var r=t(this.__entries__,n);~r?this.__entries__[r][1]=i:this.__entries__.push([n,i])},e.prototype.delete=function(n){var i=this.__entries__,r=t(i,n);~r&&i.splice(r,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,i){i===void 0&&(i=null);for(var r=0,s=this.__entries__;r<s.length;r++){var o=s[r];n.call(i,o[1],o[0])}},e}()}(),Mg=typeof window<"u"&&typeof document<"u"&&window.document===document,nh=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),zV=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(nh):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),UV=2;function BV(t,e){var n=!1,i=!1,r=0;function s(){n&&(n=!1,t()),i&&a()}function o(){zV(s)}function a(){var l=Date.now();if(n){if(l-r<UV)return;i=!0}else n=!0,i=!1,setTimeout(o,e);r=l}return a}var $V=20,HV=["top","right","bottom","left","width","height","size","weight"],qV=typeof MutationObserver<"u",WV=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=BV(this.refresh.bind(this),$V)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,i=n.indexOf(e);~i&&n.splice(i,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Mg||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),qV?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Mg||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,i=n===void 0?"":n,r=HV.some(function(s){return!!~i.indexOf(s)});r&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),aP=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},la=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||nh},lP=of(0,0,0,0);function ih(t){return parseFloat(t)||0}function sb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(i,r){var s=t["border-"+r+"-width"];return i+ih(s)},0)}function GV(t){for(var e=["top","right","bottom","left"],n={},i=0,r=e;i<r.length;i++){var s=r[i],o=t["padding-"+s];n[s]=ih(o)}return n}function KV(t){var e=t.getBBox();return of(0,0,e.width,e.height)}function QV(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return lP;var i=la(t).getComputedStyle(t),r=GV(i),s=r.left+r.right,o=r.top+r.bottom,a=ih(i.width),l=ih(i.height);if(i.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=sb(i,"left","right")+s),Math.round(l+o)!==n&&(l-=sb(i,"top","bottom")+o)),!XV(t)){var c=Math.round(a+s)-e,d=Math.round(l+o)-n;Math.abs(c)!==1&&(a-=c),Math.abs(d)!==1&&(l-=d)}return of(r.left,r.top,a,l)}var YV=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof la(t).SVGGraphicsElement}:function(t){return t instanceof la(t).SVGElement&&typeof t.getBBox=="function"}}();function XV(t){return t===la(t).document.documentElement}function ZV(t){return Mg?YV(t)?KV(t):QV(t):lP}function JV(t){var e=t.x,n=t.y,i=t.width,r=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return aP(o,{x:e,y:n,width:i,height:r,top:n,right:e+i,bottom:r+n,left:e}),o}function of(t,e,n,i){return{x:t,y:e,width:n,height:i}}var eF=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=of(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=ZV(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),tF=function(){function t(e,n){var i=JV(n);aP(this,{target:e,contentRect:i})}return t}(),nF=function(){function t(e,n,i){if(this.activeObservations_=[],this.observations_=new oP,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=i}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof la(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new eF(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof la(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(i){return new tF(i.target,i.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),cP=typeof WeakMap<"u"?new WeakMap:new oP,uP=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=WV.getInstance(),i=new nF(e,n,this);cP.set(this,i)}return t}();["observe","unobserve","disconnect"].forEach(function(t){uP.prototype[t]=function(){var e;return(e=cP.get(this))[t].apply(e,arguments)}});var iF=function(){return typeof nh.ResizeObserver<"u"?nh.ResizeObserver:uP}();const rF=Object.freeze(Object.defineProperty({__proto__:null,default:iF},Symbol.toStringTag,{value:"Module"})),sF=EE(rF);Object.defineProperty(tf,"__esModule",{value:!0});tf.InnerSlider=void 0;var qt=Pc(j),oF=Pc(jC),aF=Pc(X3),lF=Pc(nf),Ue=Q,cF=rf,uF=sf,ob=oa,dF=Pc(sF);function Pc(t){return t&&t.__esModule?t:{default:t}}function Ns(t){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(t)}function rh(){return rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},rh.apply(this,arguments)}function hF(t,e){if(t==null)return{};var n=fF(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function fF(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function ab(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ab(Object(n),!0).forEach(function(i){fe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ab(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function pF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mF(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,hP(i.key),i)}}function gF(t,e,n){return e&&mF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lg(t,e)}function Lg(t,e){return Lg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Lg(t,e)}function vF(t){var e=dP();return function(){var i=sh(t),r;if(e){var s=sh(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return _F(this,r)}}function _F(t,e){if(e&&(Ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return he(t)}function he(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dP=function(){return!!t})()}function sh(t){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sh(t)}function fe(t,e,n){return e=hP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hP(t){var e=wF(t,"string");return Ns(e)=="symbol"?e:String(e)}function wF(t,e){if(Ns(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(Ns(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}tf.InnerSlider=function(t){yF(n,t);var e=vF(n);function n(i){var r;pF(this,n),r=e.call(this,i),fe(he(r),"listRefHandler",function(o){return r.list=o}),fe(he(r),"trackRefHandler",function(o){return r.track=o}),fe(he(r),"adaptHeight",function(){if(r.props.adaptiveHeight&&r.list){var o=r.list.querySelector('[data-index="'.concat(r.state.currentSlide,'"]'));r.list.style.height=(0,Ue.getHeight)(o)+"px"}}),fe(he(r),"componentDidMount",function(){if(r.props.onInit&&r.props.onInit(),r.props.lazyLoad){var o=(0,Ue.getOnDemandLazySlides)(re(re({},r.props),r.state));o.length>0&&(r.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(o)}}),r.props.onLazyLoad&&r.props.onLazyLoad(o))}var a=re({listRef:r.list,trackRef:r.track},r.props);r.updateState(a,!0,function(){r.adaptHeight(),r.props.autoplay&&r.autoPlay("update")}),r.props.lazyLoad==="progressive"&&(r.lazyLoadTimer=setInterval(r.progressiveLazyLoad,1e3)),r.ro=new dF.default(function(){r.state.animating?(r.onWindowResized(!1),r.callbackTimers.push(setTimeout(function(){return r.onWindowResized()},r.props.speed))):r.onWindowResized()}),r.ro.observe(r.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=r.props.pauseOnFocus?r.onSlideFocus:null,l.onblur=r.props.pauseOnFocus?r.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",r.onWindowResized):window.attachEvent("onresize",r.onWindowResized)}),fe(he(r),"componentWillUnmount",function(){r.animationEndCallback&&clearTimeout(r.animationEndCallback),r.lazyLoadTimer&&clearInterval(r.lazyLoadTimer),r.callbackTimers.length&&(r.callbackTimers.forEach(function(o){return clearTimeout(o)}),r.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",r.onWindowResized):window.detachEvent("onresize",r.onWindowResized),r.autoplayTimer&&clearInterval(r.autoplayTimer),r.ro.disconnect()}),fe(he(r),"componentDidUpdate",function(o){if(r.checkImagesLoad(),r.props.onReInit&&r.props.onReInit(),r.props.lazyLoad){var a=(0,Ue.getOnDemandLazySlides)(re(re({},r.props),r.state));a.length>0&&(r.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(a)}}),r.props.onLazyLoad&&r.props.onLazyLoad(a))}r.adaptHeight();var l=re(re({listRef:r.list,trackRef:r.track},r.props),r.state),c=r.didPropsChange(o);c&&r.updateState(l,c,function(){r.state.currentSlide>=qt.default.Children.count(r.props.children)&&r.changeSlide({message:"index",index:qt.default.Children.count(r.props.children)-r.props.slidesToShow,currentSlide:r.state.currentSlide}),r.props.autoplay?r.autoPlay("update"):r.pause("paused")})}),fe(he(r),"onWindowResized",function(o){r.debouncedResize&&r.debouncedResize.cancel(),r.debouncedResize=(0,aF.default)(function(){return r.resizeWindow(o)},50),r.debouncedResize()}),fe(he(r),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(r.track&&r.track.node);if(a){var l=re(re({listRef:r.list,trackRef:r.track},r.props),r.state);r.updateState(l,o,function(){r.props.autoplay?r.autoPlay("update"):r.pause("paused")}),r.setState({animating:!1}),clearTimeout(r.animationEndCallback),delete r.animationEndCallback}}),fe(he(r),"updateState",function(o,a,l){var c=(0,Ue.initializedState)(o);o=re(re(re({},o),c),{},{slideIndex:c.currentSlide});var d=(0,Ue.getTrackLeft)(o);o=re(re({},o),{},{left:d});var f=(0,Ue.getTrackCSS)(o);(a||qt.default.Children.count(r.props.children)!==qt.default.Children.count(o.children))&&(c.trackStyle=f),r.setState(c,l)}),fe(he(r),"ssrInit",function(){if(r.props.variableWidth){var o=0,a=0,l=[],c=(0,Ue.getPreClones)(re(re(re({},r.props),r.state),{},{slideCount:r.props.children.length})),d=(0,Ue.getPostClones)(re(re(re({},r.props),r.state),{},{slideCount:r.props.children.length}));r.props.children.forEach(function(T){l.push(T.props.style.width),o+=T.props.style.width});for(var f=0;f<c;f++)a+=l[l.length-1-f],o+=l[l.length-1-f];for(var p=0;p<d;p++)o+=l[p];for(var g=0;g<r.state.currentSlide;g++)a+=l[g];var b={width:o+"px",left:-a+"px"};if(r.props.centerMode){var _="".concat(l[r.state.currentSlide],"px");b.left="calc(".concat(b.left," + (100% - ").concat(_,") / 2 ) ")}return{trackStyle:b}}var C=qt.default.Children.count(r.props.children),E=re(re(re({},r.props),r.state),{},{slideCount:C}),y=(0,Ue.getPreClones)(E)+(0,Ue.getPostClones)(E)+C,x=100/r.props.slidesToShow*y,P=100/y,D=-P*((0,Ue.getPreClones)(E)+r.state.currentSlide)*x/100;r.props.centerMode&&(D+=(100-P*x/100)/2);var O={width:x+"%",left:D+"%"};return{slideWidth:P+"%",trackStyle:O}}),fe(he(r),"checkImagesLoad",function(){var o=r.list&&r.list.querySelectorAll&&r.list.querySelectorAll(".slick-slide img")||[],a=o.length,l=0;Array.prototype.forEach.call(o,function(c){var d=function(){return++l&&l>=a&&r.onWindowResized()};if(!c.onclick)c.onclick=function(){return c.parentNode.focus()};else{var f=c.onclick;c.onclick=function(p){f(p),c.parentNode.focus()}}c.onload||(r.props.lazyLoad?c.onload=function(){r.adaptHeight(),r.callbackTimers.push(setTimeout(r.onWindowResized,r.props.speed))}:(c.onload=d,c.onerror=function(){d(),r.props.onLazyLoadError&&r.props.onLazyLoadError()}))})}),fe(he(r),"progressiveLazyLoad",function(){for(var o=[],a=re(re({},r.props),r.state),l=r.state.currentSlide;l<r.state.slideCount+(0,Ue.getPostClones)(a);l++)if(r.state.lazyLoadedList.indexOf(l)<0){o.push(l);break}for(var c=r.state.currentSlide-1;c>=-(0,Ue.getPreClones)(a);c--)if(r.state.lazyLoadedList.indexOf(c)<0){o.push(c);break}o.length>0?(r.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(o)}}),r.props.onLazyLoad&&r.props.onLazyLoad(o)):r.lazyLoadTimer&&(clearInterval(r.lazyLoadTimer),delete r.lazyLoadTimer)}),fe(he(r),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=r.props,c=l.asNavFor,d=l.beforeChange,f=l.onLazyLoad,p=l.speed,g=l.afterChange,b=r.state.currentSlide,_=(0,Ue.slideHandler)(re(re(re({index:o},r.props),r.state),{},{trackRef:r.track,useCSS:r.props.useCSS&&!a})),C=_.state,E=_.nextState;if(C){d&&d(b,C.currentSlide);var y=C.lazyLoadedList.filter(function(x){return r.state.lazyLoadedList.indexOf(x)<0});f&&y.length>0&&f(y),!r.props.waitForAnimate&&r.animationEndCallback&&(clearTimeout(r.animationEndCallback),g&&g(b),delete r.animationEndCallback),r.setState(C,function(){c&&r.asNavForIndex!==o&&(r.asNavForIndex=o,c.innerSlider.slideHandler(o)),E&&(r.animationEndCallback=setTimeout(function(){var x=E.animating,P=hF(E,["animating"]);r.setState(P,function(){r.callbackTimers.push(setTimeout(function(){return r.setState({animating:x})},10)),g&&g(C.currentSlide),delete r.animationEndCallback})},p))})}}),fe(he(r),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=re(re({},r.props),r.state),c=(0,Ue.changeSlide)(l,o);if(!(c!==0&&!c)&&(a===!0?r.slideHandler(c,a):r.slideHandler(c),r.props.autoplay&&r.autoPlay("update"),r.props.focusOnSelect)){var d=r.list.querySelectorAll(".slick-current");d[0]&&d[0].focus()}}),fe(he(r),"clickHandler",function(o){r.clickable===!1&&(o.stopPropagation(),o.preventDefault()),r.clickable=!0}),fe(he(r),"keyHandler",function(o){var a=(0,Ue.keyHandler)(o,r.props.accessibility,r.props.rtl);a!==""&&r.changeSlide({message:a})}),fe(he(r),"selectHandler",function(o){r.changeSlide(o)}),fe(he(r),"disableBodyScroll",function(){var o=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=o}),fe(he(r),"enableBodyScroll",function(){window.ontouchmove=null}),fe(he(r),"swipeStart",function(o){r.props.verticalSwiping&&r.disableBodyScroll();var a=(0,Ue.swipeStart)(o,r.props.swipe,r.props.draggable);a!==""&&r.setState(a)}),fe(he(r),"swipeMove",function(o){var a=(0,Ue.swipeMove)(o,re(re(re({},r.props),r.state),{},{trackRef:r.track,listRef:r.list,slideIndex:r.state.currentSlide}));a&&(a.swiping&&(r.clickable=!1),r.setState(a))}),fe(he(r),"swipeEnd",function(o){var a=(0,Ue.swipeEnd)(o,re(re(re({},r.props),r.state),{},{trackRef:r.track,listRef:r.list,slideIndex:r.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,r.setState(a),l!==void 0&&(r.slideHandler(l),r.props.verticalSwiping&&r.enableBodyScroll())}}),fe(he(r),"touchEnd",function(o){r.swipeEnd(o),r.clickable=!0}),fe(he(r),"slickPrev",function(){r.callbackTimers.push(setTimeout(function(){return r.changeSlide({message:"previous"})},0))}),fe(he(r),"slickNext",function(){r.callbackTimers.push(setTimeout(function(){return r.changeSlide({message:"next"})},0))}),fe(he(r),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";r.callbackTimers.push(setTimeout(function(){return r.changeSlide({message:"index",index:o,currentSlide:r.state.currentSlide},a)},0))}),fe(he(r),"play",function(){var o;if(r.props.rtl)o=r.state.currentSlide-r.props.slidesToScroll;else if((0,Ue.canGoNext)(re(re({},r.props),r.state)))o=r.state.currentSlide+r.props.slidesToScroll;else return!1;r.slideHandler(o)}),fe(he(r),"autoPlay",function(o){r.autoplayTimer&&clearInterval(r.autoplayTimer);var a=r.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;r.autoplayTimer=setInterval(r.play,r.props.autoplaySpeed+50),r.setState({autoplaying:"playing"})}),fe(he(r),"pause",function(o){r.autoplayTimer&&(clearInterval(r.autoplayTimer),r.autoplayTimer=null);var a=r.state.autoplaying;o==="paused"?r.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&r.setState({autoplaying:"focused"}):a==="playing"&&r.setState({autoplaying:"hovered"})}),fe(he(r),"onDotsOver",function(){return r.props.autoplay&&r.pause("hovered")}),fe(he(r),"onDotsLeave",function(){return r.props.autoplay&&r.state.autoplaying==="hovered"&&r.autoPlay("leave")}),fe(he(r),"onTrackOver",function(){return r.props.autoplay&&r.pause("hovered")}),fe(he(r),"onTrackLeave",function(){return r.props.autoplay&&r.state.autoplaying==="hovered"&&r.autoPlay("leave")}),fe(he(r),"onSlideFocus",function(){return r.props.autoplay&&r.pause("focused")}),fe(he(r),"onSlideBlur",function(){return r.props.autoplay&&r.state.autoplaying==="focused"&&r.autoPlay("blur")}),fe(he(r),"render",function(){var o=(0,lF.default)("slick-slider",r.props.className,{"slick-vertical":r.props.vertical,"slick-initialized":!0}),a=re(re({},r.props),r.state),l=(0,Ue.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),c=r.props.pauseOnHover;l=re(re({},l),{},{onMouseEnter:c?r.onTrackOver:null,onMouseLeave:c?r.onTrackLeave:null,onMouseOver:c?r.onTrackOver:null,focusOnSelect:r.props.focusOnSelect&&r.clickable?r.selectHandler:null});var d;if(r.props.dots===!0&&r.state.slideCount>=r.props.slidesToShow){var f=(0,Ue.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),p=r.props.pauseOnDotsHover;f=re(re({},f),{},{clickHandler:r.changeSlide,onMouseEnter:p?r.onDotsLeave:null,onMouseOver:p?r.onDotsOver:null,onMouseLeave:p?r.onDotsLeave:null}),d=qt.default.createElement(uF.Dots,f)}var g,b,_=(0,Ue.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);_.clickHandler=r.changeSlide,r.props.arrows&&(g=qt.default.createElement(ob.PrevArrow,_),b=qt.default.createElement(ob.NextArrow,_));var C=null;r.props.vertical&&(C={height:r.state.listHeight});var E=null;r.props.vertical===!1?r.props.centerMode===!0&&(E={padding:"0px "+r.props.centerPadding}):r.props.centerMode===!0&&(E={padding:r.props.centerPadding+" 0px"});var y=re(re({},C),E),x=r.props.touchMove,P={className:"slick-list",style:y,onClick:r.clickHandler,onMouseDown:x?r.swipeStart:null,onMouseMove:r.state.dragging&&x?r.swipeMove:null,onMouseUp:x?r.swipeEnd:null,onMouseLeave:r.state.dragging&&x?r.swipeEnd:null,onTouchStart:x?r.swipeStart:null,onTouchMove:r.state.dragging&&x?r.swipeMove:null,onTouchEnd:x?r.touchEnd:null,onTouchCancel:r.state.dragging&&x?r.swipeEnd:null,onKeyDown:r.props.accessibility?r.keyHandler:null},D={className:o,dir:"ltr",style:r.props.style};return r.props.unslick&&(P={className:"slick-list"},D={className:o}),qt.default.createElement("div",D,r.props.unslick?"":g,qt.default.createElement("div",rh({ref:r.listRefHandler},P),qt.default.createElement(cF.Track,rh({ref:r.trackRefHandler},l),r.props.children)),r.props.unslick?"":b,r.props.unslick?"":d)}),r.list=null,r.track=null,r.state=re(re({},oF.default),{},{currentSlide:r.props.initialSlide,targetSlide:r.props.initialSlide?r.props.initialSlide:0,slideCount:qt.default.Children.count(r.props.children)}),r.callbackTimers=[],r.clickable=!0,r.debouncedResize=null;var s=r.ssrInit();return r.state=re(re({},r.state),s),r}return gF(n,[{key:"didPropsChange",value:function(r){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var l=a[o];if(!r.hasOwnProperty(l)){s=!0;break}if(!(Ns(r[l])==="object"||typeof r[l]=="function"||isNaN(r[l]))&&r[l]!==this.props[l]){s=!0;break}}return s||qt.default.Children.count(this.props.children)!==qt.default.Children.count(r.children)}}]),n}(qt.default.Component);var bF=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},EF=bF,SF=EF,xF=function(t){var e=/[height|width]$/;return e.test(t)},lb=function(t){var e="",n=Object.keys(t);return n.forEach(function(i,r){var s=t[i];i=SF(i),xF(i)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=i:s===!1?e+="not "+i:e+="("+i+": "+s+")",r<n.length-1&&(e+=" and ")}),e},TF=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,i){e+=lb(n),i<t.length-1&&(e+=", ")}),e):lb(t)},IF=TF,Up,cb;function CF(){if(cb)return Up;cb=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Up=t,Up}var Bp,ub;function fP(){if(ub)return Bp;ub=1;function t(i,r){var s=0,o=i.length,a;for(s;s<o&&(a=r(i[s],s),a!==!1);s++);}function e(i){return Object.prototype.toString.apply(i)==="[object Array]"}function n(i){return typeof i=="function"}return Bp={isFunction:n,isArray:e,each:t},Bp}var $p,db;function PF(){if(db)return $p;db=1;var t=CF(),e=fP().each;function n(i,r){this.query=i,this.isUnconditional=r,this.handlers=[],this.mql=window.matchMedia(i);var s=this;this.listener=function(o){s.mql=o.currentTarget||o,s.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(i){var r=new t(i);this.handlers.push(r),this.matches()&&r.on()},removeHandler:function(i){var r=this.handlers;e(r,function(s,o){if(s.equals(i))return s.destroy(),!r.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(i){i.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var i=this.matches()?"on":"off";e(this.handlers,function(r){r[i]()})}},$p=n,$p}var Hp,hb;function kF(){if(hb)return Hp;hb=1;var t=PF(),e=fP(),n=e.each,i=e.isFunction,r=e.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(o,a,l){var c=this.queries,d=l&&this.browserIsIncapable;return c[o]||(c[o]=new t(o,d)),i(a)&&(a={match:a}),r(a)||(a=[a]),n(a,function(f){i(f)&&(f={match:f}),c[o].addHandler(f)}),this},unregister:function(o,a){var l=this.queries[o];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[o])),this}},Hp=s,Hp}var qp,fb;function RF(){if(fb)return qp;fb=1;var t=kF();return qp=new t,qp}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=o(j),n=tf,i=o(IF),r=o(Yv),s=Q;function o(w){return w&&w.__esModule?w:{default:w}}function a(w){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},a(w)}function l(){return l=Object.assign?Object.assign.bind():function(w){for(var I=1;I<arguments.length;I++){var A=arguments[I];for(var N in A)Object.prototype.hasOwnProperty.call(A,N)&&(w[N]=A[N])}return w},l.apply(this,arguments)}function c(w,I){var A=Object.keys(w);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(w);I&&(N=N.filter(function(k){return Object.getOwnPropertyDescriptor(w,k).enumerable})),A.push.apply(A,N)}return A}function d(w){for(var I=1;I<arguments.length;I++){var A=arguments[I]!=null?arguments[I]:{};I%2?c(Object(A),!0).forEach(function(N){D(w,N,A[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(A)):c(Object(A)).forEach(function(N){Object.defineProperty(w,N,Object.getOwnPropertyDescriptor(A,N))})}return w}function f(w,I){if(!(w instanceof I))throw new TypeError("Cannot call a class as a function")}function p(w,I){for(var A=0;A<I.length;A++){var N=I[A];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(w,O(N.key),N)}}function g(w,I,A){return I&&p(w.prototype,I),Object.defineProperty(w,"prototype",{writable:!1}),w}function b(w,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(I&&I.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),Object.defineProperty(w,"prototype",{writable:!1}),I&&_(w,I)}function _(w,I){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,k){return N.__proto__=k,N},_(w,I)}function C(w){var I=x();return function(){var N=P(w),k;if(I){var M=P(this).constructor;k=Reflect.construct(N,arguments,M)}else k=N.apply(this,arguments);return E(this,k)}}function E(w,I){if(I&&(a(I)==="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(w)}function y(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function x(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x=function(){return!!w})()}function P(w){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)},P(w)}function D(w,I,A){return I=O(I),I in w?Object.defineProperty(w,I,{value:A,enumerable:!0,configurable:!0,writable:!0}):w[I]=A,w}function O(w){var I=T(w,"string");return a(I)=="symbol"?I:String(I)}function T(w,I){if(a(w)!="object"||!w)return w;var A=w[Symbol.toPrimitive];if(A!==void 0){var N=A.call(w,I||"default");if(a(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(w)}var S=(0,s.canUseDOM)()&&RF();t.default=function(w){b(A,w);var I=C(A);function A(N){var k;return f(this,A),k=I.call(this,N),D(y(k),"innerSliderRefHandler",function(M){return k.innerSlider=M}),D(y(k),"slickPrev",function(){return k.innerSlider.slickPrev()}),D(y(k),"slickNext",function(){return k.innerSlider.slickNext()}),D(y(k),"slickGoTo",function(M){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return k.innerSlider.slickGoTo(M,L)}),D(y(k),"slickPause",function(){return k.innerSlider.pause("paused")}),D(y(k),"slickPlay",function(){return k.innerSlider.autoPlay("play")}),k.state={breakpoint:null},k._responsiveMediaHandlers=[],k}return g(A,[{key:"media",value:function(k,M){S.register(k,M),this._responsiveMediaHandlers.push({query:k,handler:M})}},{key:"componentDidMount",value:function(){var k=this;if(this.props.responsive){var M=this.props.responsive.map(function(z){return z.breakpoint});M.sort(function(z,U){return z-U}),M.forEach(function(z,U){var F;U===0?F=(0,i.default)({minWidth:0,maxWidth:z}):F=(0,i.default)({minWidth:M[U-1]+1,maxWidth:z}),(0,s.canUseDOM)()&&k.media(F,function(){k.setState({breakpoint:z})})});var L=(0,i.default)({minWidth:M.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(L,function(){k.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(k){S.unregister(k.query,k.handler)})}},{key:"render",value:function(){var k=this,M,L;this.state.breakpoint?(L=this.props.responsive.filter(function(ve){return ve.breakpoint===k.state.breakpoint}),M=L[0].settings==="unslick"?"unslick":d(d(d({},r.default),this.props),L[0].settings)):M=d(d({},r.default),this.props),M.centerMode&&(M.slidesToScroll>1,M.slidesToScroll=1),M.fade&&(M.slidesToShow>1,M.slidesToScroll>1,M.slidesToShow=1,M.slidesToScroll=1);var z=e.default.Children.toArray(this.props.children);z=z.filter(function(ve){return typeof ve=="string"?!!ve.trim():!!ve}),M.variableWidth&&(M.rows>1||M.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),M.variableWidth=!1);for(var U=[],F=null,$=0;$<z.length;$+=M.rows*M.slidesPerRow){for(var G=[],J=$;J<$+M.rows*M.slidesPerRow;J+=M.slidesPerRow){for(var ee=[],Y=J;Y<J+M.slidesPerRow&&(M.variableWidth&&z[Y].props.style&&(F=z[Y].props.style.width),!(Y>=z.length));Y+=1)ee.push(e.default.cloneElement(z[Y],{key:100*$+10*J+Y,tabIndex:-1,style:{width:"".concat(100/M.slidesPerRow,"%"),display:"inline-block"}}));G.push(e.default.createElement("div",{key:10*$+J},ee))}M.variableWidth?U.push(e.default.createElement("div",{key:$,style:{width:F}},G)):U.push(e.default.createElement("div",{key:$},G))}if(M==="unslick"){var le="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:le},z)}else U.length<=M.slidesToShow&&!M.infinite&&(M.unslick=!0);return e.default.createElement(n.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(M)),U)}}]),A}(e.default.Component)})(DC);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(DC);function n(i){return i&&i.__esModule?i:{default:i}}t.default=e.default})(NC);const AF=lc(NC),OF="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23364fc7'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M128,64a40,40,0,1,0,40,40A40,40,0,0,0,128,64Zm0,64a24,24,0,1,1,24-24A24,24,0,0,1,128,128Zm0-112a88.1,88.1,0,0,0-88,88c0,31.4,14.51,64.68,42,96.25a254.19,254.19,0,0,0,41.45,38.3,8,8,0,0,0,9.18,0A254.19,254.19,0,0,0,174,200.25c27.45-31.57,42-64.85,42-96.25A88.1,88.1,0,0,0,128,16Zm0,206c-16.53-13-72-60.75-72-118a72,72,0,0,1,144,0C200,161.23,144.53,209,128,222Z'%3e%3c/path%3e%3c/svg%3e",NF="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23364fc7'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M216,96A88,88,0,1,0,72,163.83V240a8,8,0,0,0,11.58,7.16L128,225l44.43,22.21A8.07,8.07,0,0,0,176,248a8,8,0,0,0,8-8V163.83A87.85,87.85,0,0,0,216,96ZM56,96a72,72,0,1,1,72,72A72.08,72.08,0,0,1,56,96ZM168,227.06l-36.43-18.21a8,8,0,0,0-7.16,0L88,227.06V174.37a87.89,87.89,0,0,0,80,0ZM128,152A56,56,0,1,0,72,96,56.06,56.06,0,0,0,128,152Zm0-96A40,40,0,1,1,88,96,40,40,0,0,1,128,56Z'%3e%3c/path%3e%3c/svg%3e",DF=()=>{const[t,e]=j.useState([]),[n,i]=j.useState(null),r=["residential-projects","industrial-projects","commercial-projects","institutional-projects","existingBuildingRetrofit-projects","infrastructure-projects"];j.useEffect(()=>{(async()=>{const f=[];try{for(const p of r){const g=YM(Mt(Le,p),XM("featured","==","yes")),b=await dn(g);for(const _ of b.docs){const C=_.data(),y=(await dn(Mt(Le,`${p}/${_.id}/awards`))).docs.map(P=>P.data()),x=y.length;f.push({...C,awards:y,totalAwards:x})}}e(f)}catch(p){console.error("Error fetching projects: ",p)}})()},[]);const s=Math.min(Math.max(t.length,1),3),o=Math.min(Math.max(t.length,1),3),a={dots:!0,infinite:t.length>1,speed:2500,slidesToShow:s,slidesToScroll:o,autoplay:!0,autoplaySpeed:2e3,arrows:!1,responsive:[{breakpoint:1e3,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:550,settings:{slidesToShow:1,slidesToScroll:1}}]},l=d=>`translateY(${-30*d}px)`,c=d=>`${-30*d+1}px`;return h.jsxs("div",{className:"projects reveal",children:[h.jsx("p",{className:"projects-header",children:"Featured Projects"}),h.jsx("div",{className:"flex-container",children:h.jsx(AF,{...a,children:t.map((d,f)=>h.jsxs("div",{className:"project-card",onMouseEnter:()=>i(f),onMouseLeave:()=>i(null),children:[h.jsx("img",{className:"card-img",src:d.image,alt:d.image}),h.jsxs("div",{className:"card-text-container",style:{transform:n===f?l(d.totalAwards):"translateY(0)",transition:"transform 0.3s ease"},children:[h.jsxs("span",{className:"ribbon ribbon-edge",children:[d.totalAwards," Awards"]}),h.jsx("div",{className:"card-header",children:d.name}),h.jsxs("div",{className:"card-desc-container",children:[h.jsx("img",{src:OF,alt:"Location Icon",className:"location-icon"}),h.jsx("div",{className:"card-desc",children:d.location})]}),d.awards&&d.awards.length>0&&h.jsx("div",{className:"awards-container",style:{bottom:c(d.totalAwards),transition:"bottom 0.3s ease"},children:h.jsx("div",{className:"awards-list",children:d.awards.map((p,g)=>h.jsxs("div",{className:"award-item",children:[h.jsx("img",{src:NF,alt:"Award Icon",className:"award-icon"}),h.jsx("span",{children:p.title})]},g))})})]})]},f))})})]})},jF=()=>{const[t,e]=j.useState([]),[n,i]=j.useState(!1),[r,s]=j.useState(null);j.useEffect(()=>{(async()=>{const f=(await dn(Mt(Le,"about-people"))).docs.map(g=>g.data()),p=["Managing Director","Founder and Director","Director"];f.sort((g,b)=>p.indexOf(g.position)-p.indexOf(b.position)),e(f)})()},[]);const o=c=>{s(c),i(!0)},a=()=>{i(!1),s(null)},l=t.length;return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"people reveal",children:[h.jsx("p",{className:"people-header",children:"Our People"}),h.jsx("div",{className:`people-grid-container ${l===5?"five":l===6?"six":l>=7?"seven":"default"}`,children:t.map((c,d)=>h.jsxs("div",{className:"people-card",onClick:()=>o(c),"aria-label":`View details for ${c.name}`,role:"button",children:[h.jsx("img",{src:c.image,alt:c.name}),h.jsxs("div",{className:"people-card-info",children:[h.jsx("p",{className:"people-name",children:c.name}),h.jsx("p",{className:"people-role",children:c.position})]}),h.jsx("div",{className:"people-card-read-more",children:"Click to read more"})]},d))})]}),n&&r&&h.jsx("div",{className:"popup-overlay",onClick:a,children:h.jsxs("div",{className:"popup-content",onClick:c=>c.stopPropagation(),children:[h.jsx("span",{className:"close-btn",onClick:a,children:""}),h.jsxs("div",{className:"popup-content-header",children:[h.jsx("img",{src:r.image,alt:r.name}),h.jsxs("div",{className:"popup-content-info",children:[h.jsx("p",{className:"popup-name",children:r.name}),h.jsx("p",{className:"popup-role",children:r.position}),h.jsx("p",{className:"popup-qualifications",children:r.qualifications.map((c,d)=>h.jsxs("span",{children:["- ",c,h.jsx("br",{})]},d))})]})]}),h.jsx("p",{className:"popup-description",children:r.description})]})})]})},MF="/BelmacsConstruction/assets/about-ims-one-CtxT-gtX.png",LF="/BelmacsConstruction/assets/about-ims-three-phNi-z9n.png",VF="/BelmacsConstruction/assets/about-ims-five-pdySZfy7.png";function FF(){return h.jsxs("div",{className:"ims reveal",children:[h.jsxs("div",{className:"ims-text",children:[h.jsx("p",{className:"ims-header",children:"Our IMS Policy"}),h.jsx("p",{className:"ims-desc one",children:"The Management and Staff of BELMACS Pte Ltd are fully committed to provide professional, value-added designs that meet international quality and environmental management system standards for M&E services to achieve Total Customer Satisfaction and green environment."}),h.jsx("p",{className:"ims-desc two",children:"We shall strive to improve ourselves and the effectiveness of our Integrated Management System continually to uphold this IMS policy in our respective areas of work to meet the requirementsof our Clients, the regulatory authorities and the built environment. We are committed to prevention of environmental pollution and compliance to all applicable environmental legislations and requirements to which we subscribe."})]}),h.jsxs("div",{className:"ims-img-ctr",children:[h.jsx("div",{className:"ims-image one",children:h.jsx("img",{src:MF,className:"ims-img-one"})}),h.jsx("div",{className:"ims-image three",children:h.jsx("img",{src:LF,className:"ims-img-three"})}),h.jsx("div",{className:"ims-image five",children:h.jsx("img",{src:VF,className:"ims-img-five"})})]})]})}const zF="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='40'%20height='40'%20fill='%23364fc7'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M229.66,58.34l-32-32a8,8,0,0,0-11.32,0l-96,96A8,8,0,0,0,88,128v32a8,8,0,0,0,8,8h32a8,8,0,0,0,5.66-2.34l96-96A8,8,0,0,0,229.66,58.34ZM124.69,152H104V131.31l64-64L188.69,88ZM200,76.69,179.31,56,192,43.31,212.69,64ZM224,120v88a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V48A16,16,0,0,1,48,32h88a8,8,0,0,1,0,16H48V208H208V120a8,8,0,0,1,16,0Z'%3e%3c/path%3e%3c/svg%3e",UF="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='40'%20height='40'%20fill='%23364fc7'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M188,88a27.75,27.75,0,0,0-12,2.71V60a28,28,0,0,0-41.36-24.6A28,28,0,0,0,80,44v6.71A27.75,27.75,0,0,0,68,48,28,28,0,0,0,40,76v76a88,88,0,0,0,176,0V116A28,28,0,0,0,188,88Zm12,64a72,72,0,0,1-144,0V76a12,12,0,0,1,24,0v44a8,8,0,0,0,16,0V44a12,12,0,0,1,24,0v68a8,8,0,0,0,16,0V60a12,12,0,0,1,24,0v68.67A48.08,48.08,0,0,0,120,176a8,8,0,0,0,16,0,32,32,0,0,1,32-32,8,8,0,0,0,8-8V116a12,12,0,0,1,24,0Z'%3e%3c/path%3e%3c/svg%3e",BF="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='40'%20height='40'%20fill='%23364fc7'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H53.39a8,8,0,0,0,7.23-4.57,48,48,0,0,1,86.76,0,8,8,0,0,0,7.23,4.57H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM80,144a24,24,0,1,1,24,24A24,24,0,0,1,80,144Zm136,56H159.43a64.39,64.39,0,0,0-28.83-26.16,40,40,0,1,0-53.2,0A64.39,64.39,0,0,0,48.57,200H40V56H216ZM56,96V80a8,8,0,0,1,8-8H192a8,8,0,0,1,8,8v96a8,8,0,0,1-8,8H176a8,8,0,0,1,0-16h8V88H72v8a8,8,0,0,1-16,0Z'%3e%3c/path%3e%3c/svg%3e";function $F(){return h.jsxs("div",{className:"wsh reveal",children:[h.jsx("p",{className:"wsh-header",children:"Our Workplace Safety and Health Policy"}),h.jsxs("div",{className:"wsh-card-container",children:[h.jsx("div",{className:"wsh-card reveal-one",children:h.jsx("div",{className:"wsh-card-background-one",children:h.jsxs("div",{className:"wsh-card-text one",children:[h.jsx("img",{className:"wsh-logo",src:zF}),h.jsx("p",{className:"wsh-card-title",children:"Compliance"}),h.jsx("p",{className:"wsh-card-desc",children:"Compliance with applicable legislation"})]})})}),h.jsx("div",{className:"wsh-card reveal-two",children:h.jsx("div",{className:"wsh-card-background-two",children:h.jsxs("div",{className:"wsh-card-text two",children:[h.jsx("img",{className:"wsh-logo",src:UF}),h.jsx("p",{className:"wsh-card-title",children:"Prevention"}),h.jsx("p",{className:"wsh-card-desc",children:"Adopting the best practices and continuously improving health and safety standards to prevent injury and ill health"})]})})}),h.jsx("div",{className:"wsh-card reveal-three",children:h.jsx("div",{className:"wsh-card-background-three",children:h.jsxs("div",{className:"wsh-card-text three",children:[h.jsx("img",{className:"wsh-logo",src:BF}),h.jsx("p",{className:"wsh-card-title",children:"Education"}),h.jsx("p",{className:"wsh-card-desc",children:"Educating and training our employees on the importance of safety and health"})]})})})]})]})}const HF="/BelmacsConstruction/assets/construction-worker-ibpvrK6S.jpg",qF="/BelmacsConstruction/assets/bizsafe-Jp2sYuOK.png";function WF(){return h.jsx("div",{className:"bizsafe reveal",children:h.jsxs("div",{className:"bizsafe-container",children:[h.jsx("div",{className:"bizsafe-image-container",children:h.jsx("img",{className:"bizsafe-image",src:HF})}),h.jsxs("div",{className:"bizsafe-text",children:[h.jsx("p",{className:"bizsafe-text reveal",children:"We aim to promote a proactive WSH policy based on effective communication, systematic identification, assessment and control of hazards/procedures."}),h.jsx("p",{className:"bizsafe-text reveal",children:"We are committed and will develop security programmes to include terrorism protection. We will also work together with our clients, fellow consultants, contractors and suppliers to embrace the SGSecure movement."}),h.jsx("img",{className:"bizsafe-logo",src:qF})]})]})})}function GF(){return h.jsxs("div",{className:"pdpa reveal",children:[h.jsx("p",{className:"pdpa-header",children:"Our Personal Data Protection Policy"}),h.jsxs("div",{className:"pdpa-text",children:[h.jsx("p",{children:"We are committed to protecting your personal data by strictly complying with the Personal Data Protection Act (PDPA) when handling any personal data submitted by you. Our Data Protection Officers have been designated to collect, use, disclose or otherwise process your personal data professionally."}),h.jsx("p",{children:"This Policy applies to all relevant parties such as (but not limited to) employees, clients and contractors that are involved with us and are required to provide personal data for business or legal purposes."}),h.jsx("p",{children:"By submitting your personal data to us, it is noted that you have agreed to the collection, use, processing and disclosure of the personal data such as (but not limited to) contact numbers, emails, personal particulars, family member particulars and resume details in accordance with the PDPA."}),h.jsx("p",{children:"We will cease to retain any document containing the personal data when the information collected no longer serves its purpose and necessary for business or legal use. We may retain any personal data for as long as it is necessary to fulfil the purposes for which they were collected, or as required or permitted by applicable laws."}),h.jsx("p",{children:"In order to ensure that your personal data remains current, complete and accurate, we strongly encourage you to contact us soonest possible on any updates of your personal data we have about you. For further enquiries, pleasesend an emailto our Data Protection Officer."})]})]})}const KF="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23ffffff'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M248,208H232V96a8,8,0,0,0,0-16H184V48a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16V208H24a8,8,0,0,0,0,16H248a8,8,0,0,0,0-16ZM216,96V208H184V96ZM56,48H168V208H144V160a8,8,0,0,0-8-8H88a8,8,0,0,0-8,8v48H56Zm72,160H96V168h32ZM72,80a8,8,0,0,1,8-8H96a8,8,0,0,1,0,16H80A8,8,0,0,1,72,80Zm48,0a8,8,0,0,1,8-8h16a8,8,0,0,1,0,16H128A8,8,0,0,1,120,80ZM72,120a8,8,0,0,1,8-8H96a8,8,0,0,1,0,16H80A8,8,0,0,1,72,120Zm48,0a8,8,0,0,1,8-8h16a8,8,0,0,1,0,16H128A8,8,0,0,1,120,120Z'%3e%3c/path%3e%3c/svg%3e",QF="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23ffffff'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M224,152V136a96.37,96.37,0,0,0-64-90.51V40a16,16,0,0,0-16-16H112A16,16,0,0,0,96,40v5.49A96.37,96.37,0,0,0,32,136v16a16,16,0,0,0-16,16v24a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V168A16,16,0,0,0,224,152Zm-16-16v16H160V62.67A80.36,80.36,0,0,1,208,136ZM144,40V152H112V40ZM48,136A80.36,80.36,0,0,1,96,62.67V152H48Zm176,56H32V168H224v24Z'%3e%3c/path%3e%3c/svg%3e",YF="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23ffffff'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M128,136a8,8,0,0,1-8,8H72a8,8,0,0,1,0-16h48A8,8,0,0,1,128,136Zm-8-40H72a8,8,0,0,0,0,16h48a8,8,0,0,0,0-16Zm112,65.47V224A8,8,0,0,1,220,231l-24-13.74L172,231A8,8,0,0,1,160,224V200H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216a16,16,0,0,1,16,16V86.53a51.88,51.88,0,0,1,0,74.94ZM160,184V161.47A52,52,0,0,1,216,76V56H40V184Zm56-12a51.88,51.88,0,0,1-40,0v38.22l16-9.16a8,8,0,0,1,7.94,0l16,9.16Zm16-48a36,36,0,1,0-36,36A36,36,0,0,0,232,124Z'%3e%3c/path%3e%3c/svg%3e",XF="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23ffffff'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M208,32H184V24a8,8,0,0,0-16,0v8H88V24a8,8,0,0,0-16,0v8H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM72,48v8a8,8,0,0,0,16,0V48h80v8a8,8,0,0,0,16,0V48h24V80H48V48ZM208,208H48V96H208V208Zm-38.34-85.66a8,8,0,0,1,0,11.32l-48,48a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L116,164.69l42.34-42.35A8,8,0,0,1,169.66,122.34Z'%3e%3c/path%3e%3c/svg%3e",ds="generated",ZF="pointerdown",JF="pointerup",Vg="pointerleave",e8="pointerout",Ds="pointermove",t8="touchstart",pb="touchend",n8="touchmove",i8="touchcancel",r8="resize",s8="visibilitychange",jn="tsParticles - Error",yr=100,mb=.5,jt=1e3;var yt;(function(t){t.bottom="bottom",t.bottomLeft="bottom-left",t.bottomRight="bottom-right",t.left="left",t.none="none",t.right="right",t.top="top",t.topLeft="top-left",t.topRight="top-right",t.outside="outside",t.inside="inside"})(yt||(yt={}));function pP(t){return typeof t=="boolean"}function Ur(t){return typeof t=="string"}function Br(t){return typeof t=="number"}function wo(t){return typeof t=="object"&&t!==null}function Ei(t){return Array.isArray(t)}const li={x:0,y:0,z:0},gb=2,o8=1;class fn{constructor(e,n,i){if(this._updateFromAngle=(r,s)=>{this.x=Math.cos(r)*s,this.y=Math.sin(r)*s},!Br(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:li.z}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=i??li.z;else throw new Error(`${jn} Vector3d not initialized correctly`)}static get origin(){return fn.create(li.x,li.y,li.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return fn.create(e.x,e.y,e.z)}static create(e,n,i){return new fn(e,n,i)}add(e){return fn.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return fn.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return fn.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**gb+this.y**gb}mult(e){return fn.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(o8/e)}rotate(e){return fn.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),li.z)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:li.z}sub(e){return fn.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class ft extends fn{constructor(e,n){super(e,n,li.z)}static get origin(){return ft.create(li.x,li.y)}static clone(e){return ft.create(e.x,e.y)}static create(e,n){return new ft(e,n)}}let a8=Math.random;const Fg=new Map,l8=2,c8=Math.PI*l8;function Wp(t,e){Fg.get(t)||Fg.set(t,e)}function mP(t){return Fg.get(t)??(e=>e)}function Ne(){return Mn(a8(),0,1-Number.EPSILON)}function Mn(t,e,n){return Math.min(Math.max(t,e),n)}function Gp(t,e,n,i){return Math.floor((t*n+e*i)/(n+i))}function vn(t){const e=Kn(t),n=0;let i=af(t);return e===i&&(i=n),Ne()*(e-i)+i}function ne(t){return Br(t)?t:vn(t)}function af(t){return Br(t)?t:t.min}function Kn(t){return Br(t)?t:t.max}function Ee(t,e){if(t===e||e===void 0&&Br(t))return t;const n=af(t),i=Kn(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(i,e)}:Ee(n,i)}function Xt(t,e){const n=t.x-e.x,i=t.y-e.y,r=2;return{dx:n,dy:i,distance:Math.sqrt(n**r+i**r)}}function bn(t,e){return Xt(t,e).distance}function Or(t){return t*Math.PI/180}function u8(t,e,n){if(Br(t))return Or(t);const i=0,r=.5,s=.25,o=r+s;switch(t){case yt.top:return-Math.PI*r;case yt.topRight:return-Math.PI*s;case yt.right:return i;case yt.bottomRight:return Math.PI*s;case yt.bottom:return Math.PI*r;case yt.bottomLeft:return Math.PI*o;case yt.left:return Math.PI;case yt.topLeft:return-Math.PI*o;case yt.inside:return Math.atan2(n.y-e.y,n.x-e.x);case yt.outside:return Math.atan2(e.y-n.y,e.x-n.x);default:return Ne()*c8}}function d8(t){const e=ft.origin;return e.length=1,e.angle=t,e}function yb(t,e,n,i){return ft.create(t.x*(n-i)/(n+i)+e.x*2*i/(n+i),t.y)}function h8(t){var e,n;return{x:((e=t.position)==null?void 0:e.x)??Ne()*t.size.width,y:((n=t.position)==null?void 0:n.y)??Ne()*t.size.height}}function gP(t){return t?t.endsWith("%")?parseFloat(t)/yr:parseFloat(t):1}var hs;(function(t){t.auto="auto",t.increase="increase",t.decrease="decrease",t.random="random"})(hs||(hs={}));var nt;(function(t){t.increasing="increasing",t.decreasing="decreasing"})(nt||(nt={}));var js;(function(t){t.none="none",t.max="max",t.min="min"})(js||(js={}));var me;(function(t){t.bottom="bottom",t.left="left",t.right="right",t.top="top"})(me||(me={}));var ca;(function(t){t.precise="precise",t.percent="percent"})(ca||(ca={}));var Mo;(function(t){t.max="max",t.min="min",t.random="random"})(Mo||(Mo={}));const f8={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function Ms(){return f8}function vb(t){const e={bounced:!1},{pSide:n,pOtherSide:i,rectSide:r,rectOtherSide:s,velocity:o,factor:a}=t,l=.5,c=0;return i.min<s.min||i.min>s.max||i.max<s.min||i.max>s.max||(n.max>=r.min&&n.max<=(r.max+r.min)*l&&o>c||n.min<=r.max&&n.min>(r.max+r.min)*l&&o<c)&&(e.velocity=o*-a,e.bounced=!0),e}function p8(t,e){const n=Vn(e,i=>t.matches(i));return Ei(n)?n.some(i=>i):n}function Ls(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function m8(){return!Ls()&&typeof matchMedia<"u"}function yP(t){if(m8())return matchMedia(t)}function g8(t){if(!(Ls()||typeof IntersectionObserver>"u"))return new IntersectionObserver(t)}function y8(t){if(!(Ls()||typeof MutationObserver>"u"))return new MutationObserver(t)}function Xe(t,e){return t===e||Ei(e)&&e.indexOf(t)>-1}async function _b(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function v8(t){return Math.floor(Ne()*t.length)}function lf(t,e,n=!0){return t[e!==void 0&&n?e%t.length:v8(t)]}function Zv(t,e,n,i,r){return _8(kc(t,i??0),e,n,r)}function _8(t,e,n,i){let r=!0;return(!i||i===me.bottom)&&(r=t.top<e.height+n.x),r&&(!i||i===me.left)&&(r=t.right>n.x),r&&(!i||i===me.right)&&(r=t.left<e.width+n.y),r&&(!i||i===me.top)&&(r=t.bottom>n.y),r}function kc(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function zt(t,...e){for(const n of e){if(n==null)continue;if(!wo(n)){t=n;continue}const i=Array.isArray(n);i&&(wo(t)||!t||!Array.isArray(t))?t=[]:!i&&(wo(t)||!t||Array.isArray(t))&&(t={});for(const r in n){if(r==="__proto__")continue;const s=n,o=s[r],a=t;a[r]=wo(o)&&Array.isArray(o)?o.map(l=>zt(a[r],l)):zt(a[r],o)}}return t}function Jv(t,e){return!!wP(e,n=>n.enable&&Xe(t,n.mode))}function e0(t,e,n){Vn(e,i=>{const r=i.mode;i.enable&&Xe(t,r)&&w8(i,n)})}function w8(t,e){const n=t.selectors;Vn(n,i=>{e(i,t)})}function vP(t,e){if(!(!e||!t))return wP(t,n=>p8(e,n.selectors))}function zg(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:ft.create(ne(t.options.bounce.horizontal.value),ne(t.options.bounce.vertical.value))}}function _P(t,e){const{x:n,y:i}=t.velocity.sub(e.velocity),[r,s]=[t.position,e.position],{dx:o,dy:a}=Xt(s,r);if(n*o+i*a<0)return;const c=-Math.atan2(a,o),d=t.mass,f=e.mass,p=t.velocity.rotate(c),g=e.velocity.rotate(c),b=yb(p,g,d,f),_=yb(g,p,d,f),C=b.rotate(-c),E=_.rotate(-c);t.velocity.x=C.x*t.factor.x,t.velocity.y=C.y*t.factor.y,e.velocity.x=E.x*e.factor.x,e.velocity.y=E.y*e.factor.y}function b8(t,e){const n=t.getPosition(),i=t.getRadius(),r=kc(n,i),s=t.options.bounce,o=vb({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:ne(s.horizontal.value)});o.bounced&&(o.velocity!==void 0&&(t.velocity.x=o.velocity),o.position!==void 0&&(t.position.x=o.position));const a=vb({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:ne(s.vertical.value)});a.bounced&&(a.velocity!==void 0&&(t.velocity.y=a.velocity),a.position!==void 0&&(t.position.y=a.position))}function Vn(t,e){return Ei(t)?t.map((i,r)=>e(i,r)):e(t,0)}function Qn(t,e,n){return Ei(t)?lf(t,e,n):t}function wP(t,e){return Ei(t)?t.find((i,r)=>e(i,r)):e(t,0)?t:void 0}function bP(t,e){const n=t.value,i=t.animation,r={delayTime:ne(i.delay)*jt,enable:i.enable,value:ne(t.value)*e,max:Kn(n)*e,min:af(n)*e,loops:0,maxLoops:ne(i.count),time:0},s=1;if(i.enable){switch(r.decay=s-ne(i.decay),i.mode){case hs.increase:r.status=nt.increasing;break;case hs.decrease:r.status=nt.decreasing;break;case hs.random:r.status=Ne()>=mb?nt.increasing:nt.decreasing;break}const o=i.mode===hs.auto;switch(i.startValue){case Mo.min:r.value=r.min,o&&(r.status=nt.increasing);break;case Mo.max:r.value=r.max,o&&(r.status=nt.decreasing);break;case Mo.random:default:r.value=vn(r),o&&(r.status=Ne()>=mb?nt.increasing:nt.decreasing);break}}return r.initialValue=r.value,r}function E8(t,e){if(!(t.mode===ca.percent)){const{mode:r,...s}=t;return s}return"x"in t?{x:t.x/yr*e.width,y:t.y/yr*e.height}:{width:t.width/yr*e.width,height:t.height/yr*e.height}}function EP(t,e){return E8(t,e)}function S8(t,e,n,i,r){switch(e){case js.max:n>=r&&t.destroy();break;case js.min:n<=i&&t.destroy();break}}function t0(t,e,n,i,r){if(t.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const d=(e.velocity??0)*r.factor,f=e.min,p=e.max,g=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=r.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case nt.increasing:e.value>=p?(n?e.status=nt.decreasing:e.value-=p,e.loops||(e.loops=0),e.loops++):e.value+=d;break;case nt.decreasing:e.value<=f?(n?e.status=nt.increasing:e.value+=p,e.loops||(e.loops=0),e.loops++):e.value-=d}e.velocity&&g!==1&&(e.velocity*=g),S8(t,i,e.value,f,p),t.destroyed||(e.value=Mn(e.value,f,p))}}var Ug;(function(t){t.darken="darken",t.enlighten="enlighten"})(Ug||(Ug={}));var os;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=4]="a"})(os||(os={}));const oh="random",nd="mid",cf=new Map;function wb(t){cf.set(t.key,t)}function x8(t){for(const[,l]of cf)if(t.startsWith(l.stringPrefix))return l.parseString(t);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,n=t.replace(e,(l,c,d,f,p)=>c+c+d+d+f+f+(p!==void 0?p+p:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=i.exec(n),s=16;return r?{a:r[os.a]!==void 0?parseInt(r[os.a],s)/255:1,b:parseInt(r[os.b],s),g:parseInt(r[os.g],s),r:parseInt(r[os.r],s)}:void 0}function Jn(t,e,n=!0){if(!t)return;const i=Ur(t)?{value:t}:t;if(Ur(i.value))return SP(i.value,e,n);if(Ei(i.value))return Jn({value:lf(i.value,e,n)});for(const[,r]of cf){const s=r.handleRangeColor(i);if(s)return s}}function SP(t,e,n=!0){if(!t)return;const i=Ur(t)?{value:t}:t;if(Ur(i.value))return i.value===oh?TP():T8(i.value);if(Ei(i.value))return SP({value:lf(i.value,e,n)});for(const[,r]of cf){const s=r.handleColor(i);if(s)return s}}function nc(t,e,n=!0){const i=Jn(t,e,n);return i?xP(i):void 0}function xP(t){const d=t.r/255,f=t.g/255,p=t.b/255,g=Math.max(d,f,p),b=Math.min(d,f,p),_={h:0,l:(g+b)*.5,s:0};return g!==b&&(_.s=_.l<.5?(g-b)/(g+b):(g-b)/(2-g-b),_.h=d===g?(f-p)/(g-b):_.h=f===g?2+(p-d)/(g-b):2*2+(d-f)/(g-b)),_.l*=100,_.s*=100,_.h*=60,_.h<0&&(_.h+=360),_.h>=360&&(_.h-=360),_}function T8(t){return x8(t)}function ua(t){const o=(t.h%360+360)%360,a=Math.max(0,Math.min(100,t.s)),l=Math.max(0,Math.min(100,t.l)),c=o/360,d=a/100,f=l/100,p=255,g=3;if(a===0){const w=Math.round(f*p);return{r:w,g:w,b:w}}const b=.5,_=2,C=(w,I,A)=>{if(A<0&&A++,A>1&&A--,A*6<1)return w+(I-w)*6*A;if(A*_<1)return I;if(A*g<1*_){const L=_/g;return w+(I-w)*(L-A)*6}return w},E=1,y=f<b?f*(E+d):f+d-f*d,x=_*f-y,P=1,D=P/g,O=Math.min(p,p*C(x,y,c+D)),T=Math.min(p,p*C(x,y,c)),S=Math.min(p,p*C(x,y,c-D));return{r:Math.round(O),g:Math.round(T),b:Math.round(S)}}function I8(t){const e=ua(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function TP(t){return{b:Math.floor(vn(Ee(0,256))),g:Math.floor(vn(Ee(0,256))),r:Math.floor(vn(Ee(0,256)))}}function zi(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??1})`}function ic(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??1})`}function n0(t,e,n,i){let r=t,s=e;return r.r===void 0&&(r=ua(t)),s.r===void 0&&(s=ua(e)),{b:Gp(r.b,s.b,n,i),g:Gp(r.g,s.g,n,i),r:Gp(r.r,s.r,n,i)}}function Bg(t,e,n){if(n===oh)return TP();if(n===nd){const i=t.getFillColor()??t.getStrokeColor(),r=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(i&&r&&e)return n0(i,r,t.getRadius(),e.getRadius());{const s=i??r;if(s)return ua(s)}}else return n}function IP(t,e,n){const i=Ur(t)?t:t.value;return i===oh?n?Jn({value:i}):e?oh:nd:i===nd?nd:Jn({value:i})}function bb(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function CP(t,e,n){const i={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(Kp(i.h,e.h,n),Kp(i.s,e.s,n),Kp(i.l,e.l,n)),i}function Kp(t,e,n){t.enable=e.enable;const i=0,r=1,s=0,o=0;t.enable?(t.velocity=ne(e.speed)/yr*n,t.decay=r-ne(e.decay),t.status=nt.increasing,t.loops=s,t.maxLoops=ne(e.count),t.time=o,t.delayTime=ne(e.delay)*jt,e.sync||(t.velocity*=Ne(),t.value*=Ne()),t.initialValue=t.value,t.offset=Ee(e.offset)):t.velocity=i}function Qp(t,e,n,i){if(!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0)||(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=i.value),(t.delayTime??0)>0&&t.time<(t.delayTime??0)))return;const d=t.offset?vn(t.offset):0,f=(t.velocity??0)*i.factor+d*3.6,p=t.decay??1,g=Kn(e),b=af(e);!n||t.status===nt.increasing?(t.value+=f,t.value>g&&(t.loops||(t.loops=0),t.loops++,n?t.status=nt.decreasing:t.value-=g)):(t.value-=f,t.value<0&&(t.loops||(t.loops=0),t.loops++,t.status=nt.increasing)),t.velocity&&p!==1&&(t.velocity*=p),t.value=Mn(t.value,b,g)}function PP(t,e){if(!t)return;const{h:n,s:i,l:r}=t,s={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};n&&Qp(n,s.h,!1,e),i&&Qp(i,s.s,!0,e),r&&Qp(r,s.l,!0,e)}const da={x:0,y:0},wu={a:1,b:0,c:0,d:1};function xl(t,e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.closePath()}function C8(t,e,n){t.fillStyle=n??"rgba(0,0,0,0)",t.fillRect(da.x,da.y,e.width,e.height)}function P8(t,e,n,i){n&&(t.globalAlpha=i,t.drawImage(n,da.x,da.y,e.width,e.height),t.globalAlpha=1)}function Yp(t,e){t.clearRect(da.x,da.y,e.width,e.height)}function k8(t){const{container:e,context:n,particle:i,delta:r,colorStyles:s,backgroundMask:o,composite:a,radius:l,opacity:c,shadow:d,transform:f}=t,p=i.getPosition(),g=0,b=i.rotation+(i.pathRotation?i.velocity.angle:g),_={sin:Math.sin(b),cos:Math.cos(b)},C=!!b,E=1,y={a:_.cos*(f.a??wu.a),b:C?_.sin*(f.b??E):f.b??wu.b,c:C?-_.sin*(f.c??E):f.c??wu.c,d:_.cos*(f.d??wu.d)};n.setTransform(y.a,y.b,y.c,y.d,p.x,p.y),o&&(n.globalCompositeOperation=a);const x=i.shadowColor;d.enable&&x&&(n.shadowBlur=d.blur,n.shadowColor=zi(x),n.shadowOffsetX=d.offset.x,n.shadowOffsetY=d.offset.y),s.fill&&(n.fillStyle=s.fill);const P=0,D=i.strokeWidth??P;n.lineWidth=D,s.stroke&&(n.strokeStyle=s.stroke);const O={container:e,context:n,particle:i,radius:l,opacity:c,delta:r,transformData:y,strokeWidth:D};A8(O),O8(O),R8(O),n.globalCompositeOperation="source-over",n.resetTransform()}function R8(t){const{container:e,context:n,particle:i,radius:r,opacity:s,delta:o,transformData:a}=t;if(!i.effect)return;const l=e.effectDrawers.get(i.effect);l&&l.draw({context:n,particle:i,radius:r,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...a}})}function A8(t){const{container:e,context:n,particle:i,radius:r,opacity:s,delta:o,strokeWidth:a,transformData:l}=t,c=0;if(!i.shape)return;const d=e.shapeDrawers.get(i.shape);d&&(n.beginPath(),d.draw({context:n,particle:i,radius:r,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...l}}),i.shapeClose&&n.closePath(),a>c&&n.stroke(),i.shapeFill&&n.fill())}function O8(t){const{container:e,context:n,particle:i,radius:r,opacity:s,delta:o,transformData:a}=t;if(!i.shape)return;const l=e.shapeDrawers.get(i.shape);l!=null&&l.afterDraw&&l.afterDraw({context:n,particle:i,radius:r,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...a}})}function N8(t,e,n){e.draw&&e.draw(t,n)}function D8(t,e,n,i){e.drawParticle&&e.drawParticle(t,n,i)}function j8(t,e,n){return{h:t.h,s:t.s,l:t.l+(e===Ug.darken?-1:1)*n}}function M8(t,e,n){const i=e[n],r=1;i!==void 0&&(t[n]=(t[n]??r)*i)}function Eb(t,e,n=!1){if(!e)return;const i=t;if(!i)return;const r=i.style;if(r)for(const s in e){const o=e[s];o&&r.setProperty(s,o,n?"important":"")}}class L8{constructor(e){this.container=e,this._applyPostDrawUpdaters=n=>{var i;for(const r of this._postDrawUpdaters)(i=r.afterDraw)==null||i.call(r,n)},this._applyPreDrawUpdaters=(n,i,r,s,o,a)=>{var l;for(const c of this._preDrawUpdaters){if(c.getColorStyles){const{fill:d,stroke:f}=c.getColorStyles(i,n,r,s);d&&(o.fill=d),f&&(o.stroke=f)}if(c.getTransformValues){const d=c.getTransformValues(i);for(const f in d)M8(a,d,f)}(l=c.beforeDraw)==null||l.call(c,i)}},this._applyResizePlugins=()=>{var n;for(const i of this._resizePlugins)(n=i.resize)==null||n.call(i)},this._getPluginParticleColors=n=>{let i,r;for(const s of this._colorPlugins)if(!i&&s.particleFillColor&&(i=nc(s.particleFillColor(n))),!r&&s.particleStrokeColor&&(r=nc(s.particleStrokeColor(n))),i&&r)break;return[i,r]},this._initCover=async()=>{const n=this.container.actualOptions,i=n.backgroundMask.cover,r=i.color;if(r){const s=Jn(r);if(s){const o={...s,a:i.opacity};this._coverColorStyle=zi(o,o.a)}}else await new Promise((s,o)=>{if(!i.image)return;const a=document.createElement("img");a.addEventListener("load",()=>{this._coverImage={image:a,opacity:i.opacity},s()}),a.addEventListener("error",l=>{o(l.error)}),a.src=i.image})},this._initStyle=()=>{const n=this.element,i=this.container.actualOptions;if(n){this._fullScreen?(this._originalStyle=zt({},n.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const r in i.style){if(!r||!i.style)continue;const s=i.style[r];s&&n.style.setProperty(r,s,"important")}}},this._initTrail=async()=>{const n=this.container.actualOptions,i=n.particles.move.trail,r=i.fill;if(!i.enable)return;const s=1,o=s/i.length;if(r.color){const a=Jn(r.color);if(!a)return;this._trailFill={color:{...a},opacity:o}}else await new Promise((a,l)=>{if(!r.image)return;const c=document.createElement("img");c.addEventListener("load",()=>{this._trailFill={image:c,opacity:o},a()}),c.addEventListener("error",d=>{l(d.error)}),c.src=r.image})},this._paintBase=n=>{this.draw(i=>C8(i,this.size,n))},this._paintImage=(n,i)=>{this.draw(r=>P8(r,this.size,n,i))},this._repairStyle=()=>{const n=this.element;n&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>{!n||!(n instanceof Node)||i.observe(n,{attributes:!0})}))},this._resetOriginalStyle=()=>{const n=this.element,i=this._originalStyle;n&&i&&Eb(n,i)},this._safeMutationObserver=n=>{this._mutationObserver&&n(this._mutationObserver)},this._setFullScreenStyle=()=>{const n=this.element;if(!n)return;Eb(n,{position:"fixed",zIndex:this.container.actualOptions.fullScreen.zIndex.toString(10),top:"0",left:"0",width:"100%",height:"100%"},!0)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,n=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():n.enable&&n.length>0&&i?i.color?this._paintBase(zi(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):e.clear&&this.draw(s=>{Yp(s,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e==null||e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const n=this._context;if(n)return e(n)}drawAsync(e){const n=this._context;if(n)return e(n)}drawParticle(e,n){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const s=e.getFillColor(),o=e.getStrokeColor()??s;let[a,l]=this._getPluginParticleColors(e);a||(a=s),l||(l=o),!(!a&&!l)&&this.draw(c=>{var T;const d=this.container,f=d.actualOptions,p=e.options.zIndex,g=1,b=g-e.zIndexFactor,_=b**p.opacityRate,C=1,E=e.bubble.opacity??((T=e.opacity)==null?void 0:T.value)??C,y=e.strokeOpacity??E,x=E*_,P=y*_,D={},O={fill:a?ic(a,x):void 0};O.stroke=l?ic(l,P):O.fill,this._applyPreDrawUpdaters(c,e,i,x,O,D),k8({container:d,context:c,particle:e,delta:n,colorStyles:O,backgroundMask:f.backgroundMask.enable,composite:f.backgroundMask.composite,radius:i*b**p.sizeRate,opacity:x,shadow:e.options.shadow,transform:D}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,n,i){this.draw(r=>D8(r,e,n,i))}drawPlugin(e,n){this.draw(i=>N8(i,e,n))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=y8(e=>{for(const n of e)n.type==="attributes"&&n.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(e){Ms().error(e)}this.initBackground(),this._safeMutationObserver(e=>{!this.element||!(this.element instanceof Node)||e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,n=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(n.color){const s=Jn(n.color);r.backgroundColor=s?zi(s,n.opacity):""}else r.backgroundColor="";r.backgroundImage=n.image||"",r.backgroundPosition=n.position||"",r.backgroundRepeat=n.repeat||"",r.backgroundSize=n.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor??e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles??e.getTransformValues??e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&ds in e.dataset?e.dataset[ds]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=zt({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(n=>{!this.element||!(this.element instanceof Node)||n.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(n=>{e.backgroundMask.enable&&e.backgroundMask.cover?(Yp(n,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,n=e.retina.pixelRatio,i=e.canvas.size,r={width:this.element.offsetWidth*n,height:this.element.offsetHeight*n};if(r.height===i.height&&r.width===i.width&&r.height===this.element.height&&r.width===this.element.width)return!1;const s={...i};return this.element.width=i.width=this.element.offsetWidth*n,this.element.height=i.height=this.element.offsetHeight*n,this.container.started&&e.particles.setResizeFactor({width:i.width/s.width,height:i.height/s.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>Yp(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,n=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),n&&await e.refresh()}}var Lo;(function(t){t.canvas="canvas",t.parent="parent",t.window="window"})(Lo||(Lo={}));const Sb=2;function In(t,e,n,i,r){if(i){let s={passive:!0};pP(r)?s.capture=r:r!==void 0&&(s=r),t.addEventListener(e,n,s)}else{const s=r;t.removeEventListener(e,n,s)}}class V8{constructor(e){this.container=e,this._doMouseTouchClick=n=>{const i=this.container,r=i.actualOptions;if(this._canPush){const s=i.interactivity.mouse,o=s.position;if(!o)return;s.clickPosition={...o},s.clickTime=new Date().getTime();const a=r.interactivity.events.onClick;Vn(a.mode,l=>this.container.handleClickMode(l))}n.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=n=>{const i=n,r=this.container,s=r.options,o=s.defaultThemes,a=i.matches?o.dark:o.light,l=s.themes.find(c=>c.name===a);l!=null&&l.default.auto&&r.loadTheme(a)},this._handleVisibilityChange=()=>{const n=this.container,i=n.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document!=null&&document.hidden?(n.pageHidden=!0,n.pause()):(n.pageHidden=!1,n.animationStatus?n.play(!0):n.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const n=async()=>{const i=this.container.canvas;await(i==null?void 0:i.windowResize())};this._resizeTimeout=setTimeout(()=>void n(),this.container.actualOptions.interactivity.events.resize.delay*jt)},this._manageInteractivityListeners=(n,i)=>{const r=this._handlers,s=this.container,o=s.actualOptions,a=s.interactivity.element;if(!a)return;const l=a,c=s.canvas.element;c&&(c.style.pointerEvents=l===c?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(In(a,Ds,r.mouseMove,i),In(a,t8,r.touchStart,i),In(a,n8,r.touchMove,i),o.interactivity.events.onClick.enable?(In(a,pb,r.touchEndClick,i),In(a,JF,r.mouseUp,i),In(a,ZF,r.mouseDown,i)):In(a,pb,r.touchEnd,i),In(a,n,r.mouseLeave,i),In(a,i8,r.touchCancel,i))},this._manageListeners=n=>{const i=this._handlers,r=this.container,s=r.actualOptions,o=s.interactivity.detectsOn,a=r.canvas.element;let l=Vg;o===Lo.window?(r.interactivity.element=window,l=e8):o===Lo.parent&&a?r.interactivity.element=a.parentElement??a.parentNode:r.interactivity.element=a,this._manageMediaMatch(n),this._manageResize(n),this._manageInteractivityListeners(l,n),document&&In(document,s8,i.visibilityChange,n,!1)},this._manageMediaMatch=n=>{const i=this._handlers,r=yP("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){In(r,"change",i.themeChange,n);return}r.addListener!==void 0&&(n?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=n=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){In(window,r8,i.resize,n);return}const o=r.canvas.element;this._resizeObserver&&!n?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&n&&o&&(this._resizeObserver=new ResizeObserver(a=>{a.find(c=>c.target===o)&&this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:n}=this.container;if(!n)return;const{mouse:i}=n;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=n=>{const i=this.container,r=i.actualOptions,{mouse:s}=i.interactivity;s.inside=!0;let o=!1;const a=s.position;if(!(!a||!r.interactivity.events.onClick.enable)){for(const[,l]of i.plugins)if(l.clickPositionValid&&(o=l.clickPositionValid(a),o))break;o||this._doMouseTouchClick(n),s.clicking=!1}},this._mouseTouchFinish=()=>{const n=this.container.interactivity;if(!n)return;const i=n.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,n.status=Vg,i.inside=!1,i.clicking=!1},this._mouseTouchMove=n=>{const i=this.container,r=i.actualOptions,s=i.interactivity,o=i.canvas.element;if(!(s!=null&&s.element))return;s.mouse.inside=!0;let a;if(n.type.startsWith("pointer")){this._canPush=!0;const c=n;if(s.element===window){if(o){const d=o.getBoundingClientRect();a={x:c.clientX-d.left,y:c.clientY-d.top}}}else if(r.interactivity.detectsOn===Lo.parent){const d=c.target,f=c.currentTarget;if(d&&f&&o){const p=d.getBoundingClientRect(),g=f.getBoundingClientRect(),b=o.getBoundingClientRect();a={x:c.offsetX+Sb*p.left-(g.left+b.left),y:c.offsetY+Sb*p.top-(g.top+b.top)}}else a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY}}else c.target===o&&(a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY})}else if(this._canPush=n.type!=="touchmove",o){const c=n,d=1,f=c.touches[c.touches.length-d],p=o.getBoundingClientRect(),g=0;a={x:f.clientX-(p.left??g),y:f.clientY-(p.top??g)}}const l=i.retina.pixelRatio;a&&(a.x*=l,a.y*=l),s.mouse.position=a,s.status=Ds},this._touchEnd=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchClick(n)},this._touchStart=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(n)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:n=>this._mouseTouchMove(n),mouseUp:n=>this._mouseTouchClick(n),touchStart:n=>this._touchStart(n),touchMove:n=>this._mouseTouchMove(n),touchEnd:n=>this._touchEnd(n),touchCancel:n=>this._touchEnd(n),touchEndClick:n=>this._touchEndClick(n),visibilityChange:()=>this._handleVisibilityChange(),themeChange:n=>this._handleThemeChange(n),oldThemeChange:n=>this._handleThemeChange(n),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}var Kt;(function(t){t.configAdded="configAdded",t.containerInit="containerInit",t.particlesSetup="particlesSetup",t.containerStarted="containerStarted",t.containerStopped="containerStopped",t.containerDestroyed="containerDestroyed",t.containerPaused="containerPaused",t.containerPlay="containerPlay",t.containerBuilt="containerBuilt",t.particleAdded="particleAdded",t.particleDestroyed="particleDestroyed",t.particleRemoved="particleRemoved"})(Kt||(Kt={}));class Ut{constructor(){this.value=""}static create(e,n){const i=new Ut;return i.load(e),n!==void 0&&(Ur(n)||Ei(n)?i.load({value:n}):i.load(n)),i}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}}class F8{constructor(){this.color=new Ut,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=Ut.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class z8{constructor(){this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=Ut.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.opacity!==void 0&&(this.opacity=e.opacity))}}class U8{constructor(){this.composite="destination-out",this.cover=new z8,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const n=e.cover,i=Ur(e.cover)?{color:e.cover}:e.cover;this.cover.load(n.color!==void 0||n.image!==void 0?n:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class B8{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class $8{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}var ha;(function(t){t.circle="circle",t.rectangle="rectangle"})(ha||(ha={}));class xb{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=ha.circle}load(e){e&&(e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type))}}class H8{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class q8{constructor(){this.enable=!1,this.mode=[],this.parallax=new H8}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class W8{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class G8{constructor(){this.onClick=new $8,this.onDiv=new xb,this.onHover=new q8,this.resize=new W8}load(e){if(!e)return;this.onClick.load(e.onClick);const n=e.onDiv;n!==void 0&&(this.onDiv=Vn(n,i=>{const r=new xb;return r.load(i),r})),this.onHover.load(e.onHover),this.resize.load(e.resize)}}class K8{constructor(e,n){this._engine=e,this._container=n}load(e){if(!e||!this._container)return;const n=this._engine.interactors.get(this._container);if(n)for(const i of n)i.loadModeOptions&&i.loadModeOptions(this,e)}}class kP{constructor(e,n){this.detectsOn=Lo.window,this.events=new G8,this.modes=new K8(e,n)}load(e){if(!e)return;const n=e.detectsOn;n!==void 0&&(this.detectsOn=n),this.events.load(e.events),this.modes.load(e.modes)}}const Tb=50;class Q8{load(e){e&&(e.position&&(this.position={x:e.position.x??Tb,y:e.position.y??Tb,mode:e.position.mode??ca.percent}),e.options&&(this.options=zt({},e.options)))}}var fs;(function(t){t.screen="screen",t.canvas="canvas"})(fs||(fs={}));class Y8{constructor(){this.maxWidth=1/0,this.options={},this.mode=fs.canvas}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode===fs.screen?this.mode=fs.screen:this.mode=fs.canvas),e.options!==void 0&&(this.options=zt({},e.options)))}}var hr;(function(t){t.any="any",t.dark="dark",t.light="light"})(hr||(hr={}));class X8{constructor(){this.auto=!1,this.mode=hr.any,this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class Z8{constructor(){this.name="",this.default=new X8}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=zt({},e.options)))}}class i0{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=Ee(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Ee(e.speed)),e.decay!==void 0&&(this.decay=Ee(e.decay)),e.delay!==void 0&&(this.delay=Ee(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class r0 extends i0{constructor(){super(),this.mode=hs.auto,this.startValue=Mo.random}load(e){super.load(e),e&&(e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class Xp extends i0{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),e&&e.offset!==void 0&&(this.offset=Ee(e.offset))}}class J8{constructor(){this.h=new Xp,this.s=new Xp,this.l=new Xp}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class rc extends Ut{constructor(){super(),this.animation=new J8}static create(e,n){const i=new rc;return i.load(e),n!==void 0&&(Ur(n)||Ei(n)?i.load({value:n}):i.load(n)),i}load(e){if(super.load(e),!e)return;const n=e.animation;n!==void 0&&(n.enable!==void 0?this.animation.h.load(n):this.animation.load(e.animation))}}var Vo;(function(t){t.absorb="absorb",t.bounce="bounce",t.destroy="destroy"})(Vo||(Vo={}));class ez{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class tz{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class Ws{constructor(){this.value=0}load(e){e&&e.value!==void 0&&(this.value=Ee(e.value))}}class nz extends Ws{constructor(){super(),this.animation=new i0}load(e){if(super.load(e),!e)return;const n=e.animation;n!==void 0&&this.animation.load(n)}}class RP extends nz{constructor(){super(),this.animation=new r0}load(e){super.load(e)}}class Ib extends Ws{constructor(){super(),this.value=1}}class AP{constructor(){this.horizontal=new Ib,this.vertical=new Ib}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class iz{constructor(){this.absorb=new ez,this.bounce=new AP,this.enable=!1,this.maxSpeed=50,this.mode=Vo.bounce,this.overlap=new tz}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=Ee(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class rz{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(!e)return;const n=e.options;if(n!==void 0)for(const i in n){const r=n[i];r&&(this.options[i]=zt(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class sz{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=Ee(e.offset)),e.value!==void 0&&(this.value=Ee(e.value)))}}class oz{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(e&&(e.distance!==void 0&&(this.distance=Ee(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.rotate)){const n=e.rotate.x;n!==void 0&&(this.rotate.x=n);const i=e.rotate.y;i!==void 0&&(this.rotate.y=i)}}}class az{constructor(){this.x=50,this.y=50,this.mode=ca.percent,this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class lz{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Ee(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=Ee(e.maxSpeed)))}}class cz{constructor(){this.clamp=!0,this.delay=new Ws,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=zt(this.options,e.options)))}}class uz{load(e){e&&(e.color!==void 0&&(this.color=Ut.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class dz{constructor(){this.enable=!1,this.length=10,this.fill=new uz}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.fill!==void 0&&this.fill.load(e.fill),e.length!==void 0&&(this.length=e.length))}}var st;(function(t){t.bounce="bounce",t.none="none",t.out="out",t.destroy="destroy",t.split="split"})(st||(st={}));class hz{constructor(){this.default=st.out}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class fz{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Ee(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=zt({},e.position)))}}class pz{constructor(){this.angle=new sz,this.attract=new oz,this.center=new az,this.decay=0,this.distance={},this.direction=yt.none,this.drift=0,this.enable=!1,this.gravity=new lz,this.path=new cz,this.outModes=new hz,this.random=!1,this.size=!1,this.speed=2,this.spin=new fz,this.straight=!1,this.trail=new dz,this.vibrate=!1,this.warp=!1}load(e){if(!e)return;this.angle.load(Br(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=Ee(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Br(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=Ee(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const n=e.outModes;n!==void 0&&(wo(n)?this.outModes.load(n):this.outModes.load({default:n})),this.path.load(e.path),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=Ee(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class mz extends r0{constructor(){super(),this.destroy=js.none,this.speed=2}load(e){super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class gz extends RP{constructor(){super(),this.animation=new mz,this.value=1}load(e){if(!e)return;super.load(e);const n=e.animation;n!==void 0&&this.animation.load(n)}}class yz{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const n=e.width;n!==void 0&&(this.width=n);const i=e.height;i!==void 0&&(this.height=i)}}var sc;(function(t){t.delete="delete",t.wait="wait"})(sc||(sc={}));class vz{constructor(){this.mode=sc.delete,this.value=0}load(e){e&&(e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class _z{constructor(){this.density=new yz,this.limit=new vz,this.value=0}load(e){e&&(this.density.load(e.density),this.limit.load(e.limit),e.value!==void 0&&(this.value=e.value))}}class wz{constructor(){this.blur=0,this.color=new Ut,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=Ut.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}class bz{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(!e)return;const n=e.options;if(n!==void 0)for(const i in n){const r=n[i];r&&(this.options[i]=zt(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class Ez extends r0{constructor(){super(),this.destroy=js.none,this.speed=5}load(e){super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class Sz extends RP{constructor(){super(),this.animation=new Ez,this.value=3}load(e){if(super.load(e),!e)return;const n=e.animation;n!==void 0&&this.animation.load(n)}}class Cb{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=rc.create(this.color,e.color)),e.width!==void 0&&(this.width=Ee(e.width)),e.opacity!==void 0&&(this.opacity=Ee(e.opacity)))}}class xz extends Ws{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class Tz{constructor(e,n){this._engine=e,this._container=n,this.bounce=new AP,this.collisions=new iz,this.color=new rc,this.color.value="#fff",this.effect=new rz,this.groups={},this.move=new pz,this.number=new _z,this.opacity=new gz,this.reduceDuplicates=!1,this.shadow=new wz,this.shape=new bz,this.size=new Sz,this.stroke=new Cb,this.zIndex=new xz}load(e){if(!e)return;if(e.groups!==void 0)for(const i of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,i))continue;const r=e.groups[i];r!==void 0&&(this.groups[i]=zt(this.groups[i]??{},r))}e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(rc.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=zt({},e.interactivity));const n=e.stroke;if(n&&(this.stroke=Vn(n,i=>{const r=new Cb;return r.load(i),r})),this._container){const i=this._engine.updaters.get(this._container);if(i)for(const s of i)s.loadOptions&&s.loadOptions(this,e);const r=this._engine.interactors.get(this._container);if(r)for(const s of r)s.loadParticlesOptions&&s.loadParticlesOptions(this,e)}}}function OP(t,...e){for(const n of e)t.load(n)}function NP(t,e,...n){const i=new Tz(t,e);return OP(i,...n),i}class Iz{constructor(e,n){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode===hr.any),this._importPreset=i=>{this.load(this._engine.getPreset(i))},this._engine=e,this._container=n,this.autoPlay=!0,this.background=new F8,this.backgroundMask=new U8,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new B8,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new kP(e,n),this.manualParticles=[],this.particles=NP(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){var o,a;if(!e)return;e.preset!==void 0&&Vn(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.clear!==void 0&&(this.clear=e.clear),e.key!==void 0&&(this.key=e.key),e.name!==void 0&&(this.name=e.name),e.delay!==void 0&&(this.delay=Ee(e.delay));const n=e.detectRetina;n!==void 0&&(this.detectRetina=n),e.duration!==void 0&&(this.duration=Ee(e.duration));const i=e.fpsLimit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen;pP(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const c=new Q8;return c.load(l),c})),this.particles.load(e.particles),this.style=zt(this.style,e.style),this._engine.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const s=this._engine.interactors.get(this._container);if(s)for(const l of s)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const c=new Y8;c.load(l),this.responsive.push(c)}if(this.responsive.sort((l,c)=>l.maxWidth-c.maxWidth),e.themes!==void 0)for(const l of e.themes){const c=this.themes.find(d=>d.name===l.name);if(c)c.load(l);else{const d=new Z8;d.load(l),this.themes.push(d)}}this.defaultThemes.dark=(o=this._findDefaultTheme(hr.dark))==null?void 0:o.name,this.defaultThemes.light=(a=this._findDefaultTheme(hr.light))==null?void 0:a.name}setResponsive(e,n,i){this.load(i);const r=this.responsive.find(s=>s.mode===fs.screen&&screen?s.maxWidth>screen.availWidth:s.maxWidth*n>e);return this.load(r==null?void 0:r.options),r==null?void 0:r.maxWidth}setTheme(e){if(e){const n=this.themes.find(i=>i.name===e);n&&this.load(n.options)}else{const n=yP("(prefers-color-scheme: dark)"),i=n==null?void 0:n.matches,r=this._findDefaultTheme(i?hr.dark:hr.light);r&&this.load(r.options)}}}var fa;(function(t){t.external="external",t.particles="particles"})(fa||(fa={}));class Cz{constructor(e,n){this.container=n,this._engine=e,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){for(const n of this._externalInteractors)n.isEnabled()&&n.interact(e)}handleClickMode(e){var n;for(const i of this._externalInteractors)(n=i.handleClickMode)==null||n.call(i,e)}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case fa.external:this._externalInteractors.push(e);break;case fa.particles:this._particleInteractors.push(e);break}e.init()}}particlesInteract(e,n){for(const i of this._externalInteractors)i.clear(e,n);for(const i of this._particleInteractors)i.isEnabled(e)&&i.interact(e,n)}reset(e){for(const n of this._externalInteractors)n.isEnabled()&&n.reset(e);for(const n of this._particleInteractors)n.isEnabled(e)&&n.reset(e)}}var ei;(function(t){t.normal="normal",t.inside="inside",t.outside="outside"})(ei||(ei={}));const Pb=0,$g=2,bu=.5,Pz=2,kb="random";function kz(t,e,n,i){const r=e.options[t];if(r)return zt({close:e.close,fill:e.fill},Qn(r,n,i))}function Rz(t,e,n,i){const r=e.options[t];if(r)return zt({close:e.close,fill:e.fill},Qn(r,n,i))}function Rb(t){if(!Xe(t.outMode,t.checkModes))return;const e=t.radius*$g;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)}class Az{constructor(e,n){this.container=n,this._calcPosition=(i,r,s,o=Pb)=>{for(const[,b]of i.plugins){const _=b.particlePosition!==void 0?b.particlePosition(r,this):void 0;if(_)return fn.create(_.x,_.y,s)}const a=i.canvas.size,l=h8({size:a,position:r}),c=fn.create(l.x,l.y,s),d=this.getRadius(),f=this.options.move.outModes,p=b=>{Rb({outMode:b,checkModes:[st.bounce],coord:c.x,maxCoord:i.canvas.size.width,setCb:_=>c.x+=_,radius:d})},g=b=>{Rb({outMode:b,checkModes:[st.bounce],coord:c.y,maxCoord:i.canvas.size.height,setCb:_=>c.y+=_,radius:d})};return p(f.left??f.default),p(f.right??f.default),g(f.top??f.default),g(f.bottom??f.default),this._checkOverlap(c,o)?this._calcPosition(i,void 0,s,o+1):c},this._calculateVelocity=()=>{const i=d8(this.direction),r=i.copy(),s=this.options.move;if(s.direction===yt.inside||s.direction===yt.outside)return r;const o=Or(ne(s.angle.value)),a=Or(ne(s.angle.offset)),l={left:a-o*bu,right:a+o*bu};return s.straight||(r.angle+=vn(Ee(l.left,l.right))),s.random&&typeof s.speed=="number"&&(r.length*=Ne()),r},this._checkOverlap=(i,r=Pb)=>{const s=this.options.collisions,o=this.getRadius();if(!s.enable)return!1;const a=s.overlap;if(a.enable)return!1;const l=a.retries;if(l>=0&&r>l)throw new Error(`${jn} particle is overlapping and can't be placed`);return!!this.container.particles.find(d=>bn(i,d.position)<o+d.getRadius())},this._getRollColor=i=>{if(!i||!this.roll||!this.backColor&&!this.roll.alter)return i;const r=1,s=0,o=this.roll.horizontal&&this.roll.vertical?$g*r:r,a=this.roll.horizontal?Math.PI*bu:s;return Math.floor(((this.roll.angle??s)+a)/(Math.PI/o))%$g?this.backColor?this.backColor:this.roll.alter?j8(i,this.roll.alter.type,this.roll.alter.value):i:i},this._initPosition=i=>{const r=this.container,s=ne(this.options.zIndex.value),o=0;this.position=this._calcPosition(r,i,Mn(s,o,r.zLayers)),this.initialPosition=this.position.copy();const a=r.canvas.size,l=0;switch(this.moveCenter={...EP(this.options.move.center,a),radius:this.options.move.center.radius??l,mode:this.options.move.center.mode??ca.percent},this.direction=u8(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case yt.inside:this.outType=ei.inside;break;case yt.outside:this.outType=ei.outside;break}this.offset=ft.origin},this._engine=e}destroy(e){var s,o,a;if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const n=this.container,i=this.pathGenerator,r=n.shapeDrawers.get(this.shape);(s=r==null?void 0:r.particleDestroy)==null||s.call(r,this);for(const[,l]of n.plugins)(o=l.particleDestroyed)==null||o.call(l,this,e);for(const l of n.particles.updaters)(a=l.particleDestroyed)==null||a.call(l,this,e);i==null||i.reset(this),this._engine.dispatchEvent(Kt.particleDestroyed,{container:this.container,data:{particle:this}})}draw(e){const n=this.container,i=n.canvas;for(const[,r]of n.plugins)i.drawParticlePlugin(r,this,e);i.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??bb(this.color))}getMass(){return this.getRadius()**Pz*Math.PI*bu}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??bb(this.strokeColor))}init(e,n,i,r){var S,w,I,A,N,k;const s=this.container,o=this._engine;this.id=e,this.group=r,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=ei.normal,this.ignoresResizeRatio=!0;const a=s.retina.pixelRatio,l=s.actualOptions,c=NP(this._engine,s,l.particles),{reduceDuplicates:d}=c,f=c.effect.type,p=c.shape.type;this.effect=Qn(f,this.id,d),this.shape=Qn(p,this.id,d);const g=c.effect,b=c.shape;if(i){if((S=i.effect)!=null&&S.type){const M=i.effect.type,L=Qn(M,this.id,d);L&&(this.effect=L,g.load(i.effect))}if((w=i.shape)!=null&&w.type){const M=i.shape.type,L=Qn(M,this.id,d);L&&(this.shape=L,b.load(i.shape))}}if(this.effect===kb){const M=[...this.container.effectDrawers.keys()];this.effect=M[Math.floor(Math.random()*M.length)]}if(this.shape===kb){const M=[...this.container.shapeDrawers.keys()];this.shape=M[Math.floor(Math.random()*M.length)]}this.effectData=kz(this.effect,g,this.id,d),this.shapeData=Rz(this.shape,b,this.id,d),c.load(i);const _=this.effectData;_&&c.load(_.particles);const C=this.shapeData;C&&c.load(C.particles);const E=new kP(o,s);E.load(s.actualOptions.interactivity),E.load(c.interactivity),this.interactivity=E,this.effectFill=(_==null?void 0:_.fill)??c.effect.fill,this.effectClose=(_==null?void 0:_.close)??c.effect.close,this.shapeFill=(C==null?void 0:C.fill)??c.shape.fill,this.shapeClose=(C==null?void 0:C.close)??c.shape.close,this.options=c;const y=this.options.move.path;this.pathDelay=ne(y.delay.value)*jt,y.generator&&(this.pathGenerator=this._engine.getPathGenerator(y.generator),this.pathGenerator&&s.addPath(y.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=bP(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(n),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy();const x=1;this.moveDecay=x-ne(this.options.move.decay);const P=s.particles;P.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let D=s.effectDrawers.get(this.effect);D||(D=this._engine.getEffectDrawer(this.effect),D&&s.effectDrawers.set(this.effect,D)),D!=null&&D.loadEffect&&D.loadEffect(this);let O=s.shapeDrawers.get(this.shape);O||(O=this._engine.getShapeDrawer(this.shape),O&&s.shapeDrawers.set(this.shape,O)),O!=null&&O.loadShape&&O.loadShape(this);const T=O==null?void 0:O.getSidesCount;T&&(this.sides=T(this)),this.spawning=!1,this.shadowColor=Jn(this.options.shadow.color);for(const M of P.updaters)M.init(this);for(const M of P.movers)(I=M.init)==null||I.call(M,this);(A=D==null?void 0:D.particleInit)==null||A.call(D,s,this),(N=O==null?void 0:O.particleInit)==null||N.call(O,s,this);for(const[,M]of s.plugins)(k=M.particleCreated)==null||k.call(M,this)}isInsideCanvas(){const e=this.getRadius(),n=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=n.height+e&&i.x<=n.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){var e;for(const n of this.container.particles.updaters)(e=n.reset)==null||e.call(n,this)}}class Oz{constructor(e,n){this.position=e,this.particle=n}}var Fo;(function(t){t.circle="circle",t.rectangle="rectangle"})(Fo||(Fo={}));const Ya=2;class DP{constructor(e,n,i){this.position={x:e,y:n},this.type=i}}class Lt extends DP{constructor(e,n,i){super(e,n,Fo.circle),this.radius=i}contains(e){return bn(e,this.position)<=this.radius}intersects(e){const n=this.position,i=e.position,r={x:Math.abs(i.x-n.x),y:Math.abs(i.y-n.y)},s=this.radius;if(e instanceof Lt||e.type===Fo.circle){const o=e,a=s+o.radius,l=Math.sqrt(r.x**Ya+r.y**Ya);return a>l}else if(e instanceof ri||e.type===Fo.rectangle){const o=e,{width:a,height:l}=o.size;return Math.pow(r.x-a,Ya)+Math.pow(r.y-l,Ya)<=s**Ya||r.x<=s+a&&r.y<=s+l||r.x<=a||r.y<=l}return!1}}class ri extends DP{constructor(e,n,i,r){super(e,n,Fo.rectangle),this.size={height:r,width:i}}contains(e){const n=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+n&&e.y>=r.y&&e.y<=r.y+i}intersects(e){if(e instanceof Lt)return e.intersects(this);const n=this.size.width,i=this.size.height,r=this.position,s=e.position,o=e instanceof ri?e.size:{width:0,height:0},a=o.width,l=o.height;return s.x<r.x+n&&s.x+a>r.x&&s.y<r.y+i&&s.y+l>r.y}}const Xa=.5,Nz=2,Dz=4;class ah{constructor(e,n){this.rectangle=e,this.capacity=n,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:s,height:o}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<Dz;l++){const c=l%Nz;this._subs.push(new ah(new ri(i+s*Xa*c,r+o*Xa*(Math.round(l*Xa)-c),s*Xa,o*Xa),a))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(n=>n.insert(e))):!1}query(e,n){const i=[];if(!e.intersects(this.rectangle))return[];for(const r of this._points)!e.contains(r.position)&&bn(e.position,r.position)>r.particle.getRadius()&&(!n||n(r.particle))||i.push(r.particle);if(this._divided)for(const r of this._subs)i.push(...r.query(e,n));return i}queryCircle(e,n,i){return this.query(new Lt(e.x,e.y,n),i)}queryRectangle(e,n,i){return this.query(new ri(e.x,e.y,n.width,n.height),i)}}const Ab=4,jz=2,Mz=1,Ob=t=>{const{height:e,width:n}=t,i=-.25,r=1.5;return new ri(i*n,i*e,r*n,r*e)};class Lz{constructor(e,n){this._addToPool=(...r)=>{this._pool.push(...r)},this._applyDensity=(r,s,o)=>{var b;const a=r.number;if(!((b=r.number.density)!=null&&b.enable)){o===void 0?this._limit=a.limit.value:a.limit&&this._groupLimits.set(o,a.limit.value);return}const l=this._initDensityFactor(a.density),c=a.value,d=0,f=a.limit.value>d?a.limit.value:c,p=Math.min(c,f)*l+s,g=Math.min(this.count,this.filter(_=>_.group===o).length);o===void 0?this._limit=a.limit.value*l:this._groupLimits.set(o,a.limit.value*l),g<p?this.push(Math.abs(p-g),void 0,r,o):g>p&&this.removeQuantity(g-p,o)},this._initDensityFactor=r=>{const s=this._container,o=1;if(!s.canvas.element||!r.enable)return o;const a=s.canvas.element,l=s.retina.pixelRatio;return a.width*a.height/(r.height*r.width*l**jz)},this._pushParticle=(r,s,o,a)=>{try{let l=this._pool.pop();l||(l=new Az(this._engine,this._container)),l.init(this._nextId,r,s,o);let c=!0;return a&&(c=a(l)),c?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent(Kt.particleAdded,{container:this._container,data:{particle:l}}),l):void 0}catch(l){Ms().warning(`${jn} adding particle: ${l}`)}},this._removeParticle=(r,s,o)=>{const a=this._array[r];if(!a||a.group!==s)return!1;const l=this._zArray.indexOf(a),c=1;return this._array.splice(r,c),this._zArray.splice(l,c),a.destroy(o),this._engine.dispatchEvent(Kt.particleRemoved,{container:this._container,data:{particle:a}}),this._addToPool(a),!0},this._engine=e,this._container=n,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new Cz(e,n),this._pluginsInitialized=!1;const i=n.canvas.size;this.quadTree=new ah(Ob(i),Ab),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const e=this._container;e.actualOptions.manualParticles.forEach(i=>this.addParticle(i.position?EP(i.position,e.canvas.size):void 0,i.options))}addParticle(e,n,i,r){const s=this._container.actualOptions.particles.number.limit.mode,o=i===void 0?this._limit:this._groupLimits.get(i)??this._limit,a=this.count;if(o>0)switch(s){case sc.delete:{const f=a+1-o;f>0&&this.removeQuantity(f);break}case sc.wait:if(a>=o)return;break}return this._pushParticle(e,n,i,r)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(e){const n=this._container,i=n.canvas;i.clear(),this.update(e);for(const[,r]of n.plugins)i.drawPlugin(r,e);for(const r of this._zArray)r.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}get(e){return this._array[e]}handleClickMode(e){this._interactionManager.handleClickMode(e)}async init(){var r,s;const e=this._container,n=e.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let i=!1;for(const[,o]of e.plugins)if(i=((r=o.particlesInitialization)==null?void 0:r.call(o))??i,i)break;if(this.addManualParticles(),!i){const o=n.particles,a=o.groups;for(const l in a){const c=a[l];for(let d=this.count,f=0;f<((s=c.number)==null?void 0:s.value)&&d<o.number.value;d++,f++)this.addParticle(void 0,c,l)}for(let l=this.count;l<o.number.value;l++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const e=this._container;this.movers=await this._engine.getMovers(e,!0),this.updaters=await this._engine.getUpdaters(e,!0),await this._interactionManager.init();for(const[,n]of e.pathGenerators)n.init(e)}push(e,n,i,r){for(let s=0;s<e;s++)this.addParticle(n==null?void 0:n.position,i,r)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(e,n,i){this.removeAt(this._array.indexOf(e),void 0,n,i)}removeAt(e,n=Mz,i,r){if(e<0||e>this.count)return;let o=0;for(let a=e;o<n&&a<this.count;a++)this._removeParticle(a--,i,r)&&o++}removeQuantity(e,n){this.removeAt(0,e,n)}setDensity(){const e=this._container.actualOptions,n=e.particles.groups,i=0;for(const r in n)this._applyDensity(n[r],i,r);this._applyDensity(e.particles,e.manualParticles.length)}setLastZIndex(e){this._lastZIndex=e,this._needsSort=this._needsSort||this._lastZIndex<e}setResizeFactor(e){this._resizeFactor=e}update(e){var s,o;const n=this._container,i=new Set;this.quadTree=new ah(Ob(n.canvas.size),Ab);for(const[,a]of n.pathGenerators)a.update();for(const[,a]of n.plugins)(s=a.update)==null||s.call(a,e);const r=this._resizeFactor;for(const a of this._array){r&&!a.ignoresResizeRatio&&(a.position.x*=r.width,a.position.y*=r.height,a.initialPosition.x*=r.width,a.initialPosition.y*=r.height),a.ignoresResizeRatio=!1,this._interactionManager.reset(a);for(const[,l]of this._container.plugins){if(a.destroyed)break;(o=l.particleUpdate)==null||o.call(l,a,e)}for(const l of this.movers)l.isEnabled(a)&&l.move(a,e);if(a.destroyed){i.add(a);continue}this.quadTree.insert(new Oz(a.getPosition(),a))}if(i.size){const a=l=>!i.has(l);this._array=this.filter(a),this._zArray=this._zArray.filter(a);for(const l of i)this._engine.dispatchEvent(Kt.particleRemoved,{container:this._container,data:{particle:l}});this._addToPool(...i)}this._interactionManager.externalInteract(e);for(const a of this._array){for(const l of this.updaters)l.update(a,e);!a.destroyed&&!a.spawning&&this._interactionManager.particlesInteract(a,e)}if(delete this._resizeFactor,this._needsSort){const a=this._zArray;a.sort((c,d)=>d.position.z-c.position.z||c.id-d.id);const l=1;this._lastZIndex=a[a.length-l].position.z,this._needsSort=!1}}}const Nb=1,Db=1;class Vz{constructor(e){this.container=e,this.pixelRatio=Nb,this.reduceFactor=Db}init(){const e=this.container,n=e.actualOptions;this.pixelRatio=!n.detectRetina||Ls()?Nb:window.devicePixelRatio,this.reduceFactor=Db;const i=this.pixelRatio,r=e.canvas;if(r.element){const a=r.element;r.size.width=a.offsetWidth*i,r.size.height=a.offsetHeight*i}const s=n.particles,o=s.move;this.maxSpeed=ne(o.gravity.maxSpeed)*i,this.sizeAnimationSpeed=ne(s.size.animation.speed)*i}initParticle(e){const n=e.options,i=this.pixelRatio,r=n.move,s=r.distance,o=e.retina;o.moveDrift=ne(r.drift)*i,o.moveSpeed=ne(r.speed)*i,o.sizeAnimationSpeed=ne(n.size.animation.speed)*i;const a=o.maxDistance;a.horizontal=s.horizontal!==void 0?s.horizontal*i:void 0,a.vertical=s.vertical!==void 0?s.vertical*i:void 0,o.maxSpeed=ne(r.gravity.maxSpeed)*i}}function Ke(t){return t&&!t.destroyed}const Zp=60;function Fz(t,e=Zp,n=!1){return{value:t,factor:n?Zp/e:Zp*t/jt}}function eo(t,e,...n){const i=new Iz(t,e);return OP(i,...n),i}class zz{constructor(e,n,i){this._intersectionManager=r=>{if(!(!Ke(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of r)s.target===this.interactivity.element&&(s.isIntersecting?this.play():this.pause())},this._nextFrame=r=>{try{if(!this._smooth&&this._lastFrameTime!==void 0&&r<this._lastFrameTime+jt/this.fpsLimit){this.draw(!1);return}this._lastFrameTime??(this._lastFrameTime=r);const s=Fz(r-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(s.value),this._lastFrameTime=r,s.value>jt){this.draw(!1);return}if(this.particles.draw(s),!this.alive()){this.destroy();return}this.animationStatus&&this.draw(!1)}catch(s){Ms().error(`${jn} in animation loop`,s)}},this._engine=e,this.id=Symbol(n),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new Vz(this),this.canvas=new L8(this),this.particles=new Lz(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=eo(this._engine,this),this.actualOptions=eo(this._engine,this),this._eventListeners=new V8(this),this._intersectionObserver=g8(r=>this._intersectionManager(r)),this._engine.dispatchEvent(Kt.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&Ke(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!Ke(this))return;const n=this.interactivity.element;if(!n)return;const i=(f,p,g)=>{if(!Ke(this))return;const b=this.retina.pixelRatio,_={x:p.x*b,y:p.y*b},C=this.particles.quadTree.queryCircle(_,g*b);e(f,C)},r=f=>{if(!Ke(this))return;const p=f,g={x:p.offsetX||p.clientX,y:p.offsetY||p.clientY};i(f,g,1)},s=()=>{Ke(this)&&(c=!0,d=!1)},o=()=>{Ke(this)&&(d=!0)},a=f=>{if(Ke(this)){if(c&&!d){const p=f,g=1;let b=p.touches[p.touches.length-g];if(!b&&(b=p.changedTouches[p.changedTouches.length-g],!b))return;const _=this.canvas.element,C=_?_.getBoundingClientRect():void 0,E=0,y={x:b.clientX-(C?C.left:E),y:b.clientY-(C?C.top:E)};i(f,y,Math.max(b.radiusX,b.radiusY))}c=!1,d=!1}},l=()=>{Ke(this)&&(c=!1,d=!1)};let c=!1,d=!1;this._clickHandlers.set("click",r),this._clickHandlers.set("touchstart",s),this._clickHandlers.set("touchmove",o),this._clickHandlers.set("touchend",a),this._clickHandlers.set("touchcancel",l);for(const[f,p]of this._clickHandlers)n.addEventListener(f,p)}addLifeTime(e){this._lifeTime+=e}addPath(e,n,i=!1){return!Ke(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,n),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){var e;if(Ke(this)){for(const[n,i]of this._clickHandlers)(e=this.interactivity.element)==null||e.removeEventListener(n,i);this._clickHandlers.clear()}}destroy(e=!0){var n,i;if(Ke(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const[,r]of this.effectDrawers)(n=r.destroy)==null||n.call(r,this);for(const[,r]of this.shapeDrawers)(i=r.destroy)==null||i.call(r,this);for(const r of this.effectDrawers.keys())this.effectDrawers.delete(r);for(const r of this.shapeDrawers.keys())this.shapeDrawers.delete(r);if(this._engine.clearPlugins(this),this.destroyed=!0,e){const r=this._engine.items,s=r.findIndex(a=>a===this);s>=0&&r.splice(s,1)}this._engine.dispatchEvent(Kt.containerDestroyed,{container:this})}}draw(e){if(!Ke(this))return;let n=e;const i=r=>{n&&(this._lastFrameTime=void 0,n=!1),this._nextFrame(r)};this._drawAnimationFrame=requestAnimationFrame(r=>i(r))}async export(e,n={}){for(const[,i]of this.plugins){if(!i.export)continue;const r=await i.export(e,n);if(r.supported)return r.blob}Ms().error(`${jn} - Export plugin with type ${e} not found`)}handleClickMode(e){var n;if(Ke(this)){this.particles.handleClickMode(e);for(const[,i]of this.plugins)(n=i.handleClickMode)==null||n.call(i,e)}}async init(){var f,p,g,b;if(!Ke(this))return;const e=this._engine.getSupportedEffects();for(const _ of e){const C=this._engine.getEffectDrawer(_);C&&this.effectDrawers.set(_,C)}const n=this._engine.getSupportedShapes();for(const _ of n){const C=this._engine.getShapeDrawer(_);C&&this.shapeDrawers.set(_,C)}await this.particles.initPlugins(),this._options=eo(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=eo(this._engine,this,this._options);const i=await this._engine.getAvailablePlugins(this);for(const[_,C]of i)this.plugins.set(_,C);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers:r,duration:s,delay:o,fpsLimit:a,smooth:l}=this.actualOptions;this.zLayers=r,this._duration=ne(s)*jt,this._delay=ne(o)*jt,this._lifeTime=0;const c=120,d=0;this.fpsLimit=a>d?a:c,this._smooth=l;for(const[,_]of this.effectDrawers)await((f=_.init)==null?void 0:f.call(_,this));for(const[,_]of this.shapeDrawers)await((p=_.init)==null?void 0:p.call(_,this));for(const[,_]of this.plugins)await((g=_.init)==null?void 0:g.call(_));this._engine.dispatchEvent(Kt.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const[,_]of this.plugins)(b=_.particlesSetup)==null||b.call(_);this._engine.dispatchEvent(Kt.particlesSetup,{container:this})}async loadTheme(e){Ke(this)&&(this._currentTheme=e,await this.refresh())}pause(){var e;if(Ke(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,n]of this.plugins)(e=n.pause)==null||e.call(n);this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(Kt.containerPaused,{container:this})}}play(e){if(!Ke(this))return;const n=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),n)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent(Kt.containerPlay,{container:this}),this.draw(n??!1)}async refresh(){if(Ke(this))return this.stop(),this.start()}async reset(e){if(Ke(this))return this._initialSourceOptions=e,this._sourceOptions=e,this._options=eo(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=eo(this._engine,this,this._options),this.refresh()}async start(){!Ke(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{const n=async()=>{var i;this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,r]of this.plugins)await((i=r.start)==null?void 0:i.call(r));this._engine.dispatchEvent(Kt.containerStarted,{container:this}),this.play(),e()};this._delayTimeout=setTimeout(()=>void n(),this._delay)}))}stop(){var e;if(!(!Ke(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,n]of this.plugins)(e=n.stop)==null||e.call(n);for(const n of this.plugins.keys())this.plugins.delete(n);this._sourceOptions=this._options,this._engine.dispatchEvent(Kt.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth===e?!1:(this._responsiveMaxWidth=e,!0)}}class Uz{constructor(){this._listeners=new Map}addEventListener(e,n){this.removeEventListener(e,n);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(n)}dispatchEvent(e,n){const i=this._listeners.get(e);i==null||i.forEach(r=>r(n))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,n){const i=this._listeners.get(e);if(!i)return;const r=i.length,s=i.indexOf(n);if(s<0)return;const a=1;r===a?this._listeners.delete(e):i.splice(s,a)}}async function Jp(t,e,n,i=!1){let r=e.get(t);return(!r||i)&&(r=await Promise.all([...n.values()].map(s=>s(t))),e.set(t,r)),r}async function Bz(t){const e=Qn(t.url,t.index);if(!e)return t.fallback;const n=await fetch(e);return n.ok?await n.json():(Ms().error(`${jn} ${n.status} while retrieving config file`),t.fallback)}const jP="true",jb="false",em="canvas",$z=t=>{let e;if(t instanceof HTMLCanvasElement||t.tagName.toLowerCase()===em)e=t,e.dataset[ds]||(e.dataset[ds]=jb);else{const i=t.getElementsByTagName(em);i.length?(e=i[0],e.dataset[ds]=jb):(e=document.createElement(em),e.dataset[ds]=jP,t.appendChild(e))}const n="100%";return e.style.width||(e.style.width=n),e.style.height||(e.style.height=n),e},Hz=(t,e)=>{let n=e??document.getElementById(t);return n||(n=document.createElement("div"),n.id=t,n.dataset[ds]=jP,document.body.append(n),n)};class qz{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new Uz,this._initialized=!1,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const e={};for(const[n,i]of this._configs)e[n]=i;return e}get items(){return this._domArray}get version(){return"3.4.0"}addConfig(e){const n=e.key??e.name??"default";this._configs.set(n,e),this._eventDispatcher.dispatchEvent(Kt.configAdded,{data:{name:n,config:e}})}async addEffect(e,n,i=!0){Vn(e,r=>{this.getEffectDrawer(r)||this.effectDrawers.set(r,n)}),await this.refresh(i)}addEventListener(e,n){this._eventDispatcher.addEventListener(e,n)}async addInteractor(e,n,i=!0){this._initializers.interactors.set(e,n),await this.refresh(i)}async addMover(e,n,i=!0){this._initializers.movers.set(e,n),await this.refresh(i)}async addParticleUpdater(e,n,i=!0){this._initializers.updaters.set(e,n),await this.refresh(i)}async addPathGenerator(e,n,i=!0){this.getPathGenerator(e)||this.pathGenerators.set(e,n),await this.refresh(i)}async addPlugin(e,n=!0){this.getPlugin(e.id)||this.plugins.push(e),await this.refresh(n)}async addPreset(e,n,i=!1,r=!0){(i||!this.getPreset(e))&&this.presets.set(e,n),await this.refresh(r)}async addShape(e,n=!0){for(const i of e.validTypes)this.getShapeDrawer(i)||this.shapeDrawers.set(i,e);await this.refresh(n)}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,n){this._eventDispatcher.dispatchEvent(e,n)}dom(){return this.items}domItem(e){return this.item(e)}async getAvailablePlugins(e){const n=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&n.set(i.id,await i.getPlugin(e));return n}getEffectDrawer(e){return this.effectDrawers.get(e)}async getInteractors(e,n=!1){return Jp(e,this.interactors,this._initializers.interactors,n)}async getMovers(e,n=!1){return Jp(e,this.movers,this._initializers.movers,n)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(n=>n.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(e,n=!1){return Jp(e,this.updaters,this._initializers.updaters,n)}init(){this._initialized||(this._initialized=!0)}item(e){const{items:n}=this,i=n[e];if(!i||i.destroyed){n.splice(e,1);return}return i}async load(e){var b;const i=e.id??((b=e.element)==null?void 0:b.id)??`tsparticles${Math.floor(Ne()*1e4)}`,{index:r,url:s}=e,o=s?await Bz({fallback:e.options,url:s,index:r}):e.options,a=Qn(o,r),{items:l}=this,c=l.findIndex(_=>_.id.description===i),d=0,f=new zz(this,i,a);if(c>=d){const _=this.item(c),C=1,E=0,y=_?C:E;_&&!_.destroyed&&_.destroy(!1),l.splice(c,y,f)}else l.push(f);const p=Hz(i,e.element),g=$z(p);return f.canvas.loadCanvas(g),await f.start(),f}loadOptions(e,n){this.plugins.forEach(i=>{var r;return(r=i.loadOptions)==null?void 0:r.call(i,e,n)})}loadParticlesOptions(e,n,...i){const r=this.updaters.get(e);r&&r.forEach(s=>{var o;return(o=s.loadOptions)==null?void 0:o.call(s,n,...i)})}async refresh(e=!0){e&&await Promise.all(this.items.map(n=>n.refresh()))}removeEventListener(e,n){this._eventDispatcher.removeEventListener(e,n)}setOnClickHandler(e){const{items:n}=this;if(!n.length)throw new Error(`${jn} can only set click handlers after calling tsParticles.load()`);n.forEach(i=>i.addClickHandler(e))}}var bo;(function(t){t[t.h=1]="h",t[t.s=2]="s",t[t.l=3]="l",t[t.a=5]="a"})(bo||(bo={}));class Wz{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return ua(i)}handleRangeColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return ua({h:ne(i.h),l:ne(i.l),s:ne(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=n.exec(e),r=4,s=1,o=10;return i?I8({a:i.length>r?gP(i[bo.a]):s,h:parseInt(i[bo.h],o),l:parseInt(i[bo.l],o),s:parseInt(i[bo.s],o)}):void 0}}var Eo;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=5]="a"})(Eo||(Eo={}));class Gz{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return{r:ne(i.r),g:ne(i.g),b:ne(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=n.exec(e),r=10;return i?{a:i.length>4?gP(i[Eo.a]):1,b:parseInt(i[Eo.b],r),g:parseInt(i[Eo.g],r),r:parseInt(i[Eo.r],r)}:void 0}}function Kz(){const t=new Gz,e=new Wz;wb(t),wb(e);const n=new qz;return n.init(),n}class Si{constructor(e){this.type=fa.external,this.container=e}}class s0{constructor(e){this.type=fa.particles,this.container=e}}var Rn;(function(t){t.clockwise="clockwise",t.counterClockwise="counter-clockwise",t.random="random"})(Rn||(Rn={}));var Mb;(function(t){t.linear="linear",t.radial="radial",t.random="random"})(Mb||(Mb={}));var _s;(function(t){t.easeInBack="ease-in-back",t.easeInCirc="ease-in-circ",t.easeInCubic="ease-in-cubic",t.easeInLinear="ease-in-linear",t.easeInQuad="ease-in-quad",t.easeInQuart="ease-in-quart",t.easeInQuint="ease-in-quint",t.easeInExpo="ease-in-expo",t.easeInSine="ease-in-sine",t.easeOutBack="ease-out-back",t.easeOutCirc="ease-out-circ",t.easeOutCubic="ease-out-cubic",t.easeOutLinear="ease-out-linear",t.easeOutQuad="ease-out-quad",t.easeOutQuart="ease-out-quart",t.easeOutQuint="ease-out-quint",t.easeOutExpo="ease-out-expo",t.easeOutSine="ease-out-sine",t.easeInOutBack="ease-in-out-back",t.easeInOutCirc="ease-in-out-circ",t.easeInOutCubic="ease-in-out-cubic",t.easeInOutLinear="ease-in-out-linear",t.easeInOutQuad="ease-in-out-quad",t.easeInOutQuart="ease-in-out-quart",t.easeInOutQuint="ease-in-out-quint",t.easeInOutExpo="ease-in-out-expo",t.easeInOutSine="ease-in-out-sine"})(_s||(_s={}));const o0=Kz();Ls()||(window.tsParticles=o0);const Qz=t=>{const e=t.id??"tsparticles";return j.useEffect(()=>{let n;return o0.load({id:e,url:t.url,options:t.options}).then(i=>{var r;n=i,(r=t.particlesLoaded)==null||r.call(t,i)}),()=>{n==null||n.destroy()}},[e,t,t.url,t.options]),h.jsx("div",{id:e,className:t.className})};async function Yz(t){await t(o0)}const Hg=.5,ps=0,Yn=1,Lb=60,Vb=0,Xz=.01;function Zz(t){const e=t.initialPosition,{dx:n,dy:i}=Xt(e,t.position),r=Math.abs(n),s=Math.abs(i),{maxDistance:o}=t.retina,a=o.horizontal,l=o.vertical;if(!a&&!l)return;const c=(a&&r>=a)??!1,d=(l&&s>=l)??!1;if((c||d)&&!t.misplaced)t.misplaced=!!a&&r>a||!!l&&s>l,a&&(t.velocity.x=t.velocity.y*Hg-t.velocity.x),l&&(t.velocity.y=t.velocity.x*Hg-t.velocity.y);else if((!a||r<a)&&(!l||s<l)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const f=t.position,p=t.velocity;a&&(f.x<e.x&&p.x<ps||f.x>e.x&&p.x>ps)&&(p.x*=-Ne()),l&&(f.y<e.y&&p.y<ps||f.y>e.y&&p.y>ps)&&(p.y*=-Ne())}}function Jz(t,e,n,i,r,s){tU(t,s);const o=t.gravity,a=o!=null&&o.enable&&o.inverse?-Yn:Yn;r&&n&&(t.velocity.x+=r*s.factor/(Lb*n)),o!=null&&o.enable&&n&&(t.velocity.y+=a*(o.acceleration*s.factor)/(Lb*n));const l=t.moveDecay;t.velocity.multTo(l);const c=t.velocity.mult(n);o!=null&&o.enable&&i>ps&&(!o.inverse&&c.y>=ps&&c.y>=i||o.inverse&&c.y<=ps&&c.y<=-i)&&(c.y=a*i,n&&(t.velocity.y=c.y/n));const d=t.options.zIndex,f=(Yn-t.zIndexFactor)**d.velocityRate;c.multTo(f);const{position:p}=t;p.addTo(c),e.vibrate&&(p.x+=Math.sin(p.x*Math.cos(p.y)),p.y+=Math.cos(p.y*Math.sin(p.x)))}function eU(t,e){const n=t.container;if(!t.spin)return;const i={x:t.spin.direction===Rn.clockwise?Math.cos:Math.sin,y:t.spin.direction===Rn.clockwise?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*i.x(t.spin.angle),t.position.y=t.spin.center.y+t.spin.radius*i.y(t.spin.angle),t.spin.radius+=t.spin.acceleration;const r=Math.max(n.canvas.size.width,n.canvas.size.height),s=r*Hg;t.spin.radius>s?(t.spin.radius=s,t.spin.acceleration*=-Yn):t.spin.radius<Vb&&(t.spin.radius=Vb,t.spin.acceleration*=-Yn),t.spin.angle+=e*Xz*(Yn-t.spin.radius/r)}function tU(t,e){var o;const n=t.options,i=n.move.path;if(!i.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const s=(o=t.pathGenerator)==null?void 0:o.generate(t,e);s&&t.velocity.addTo(s),i.clamp&&(t.velocity.x=Mn(t.velocity.x,-Yn,Yn),t.velocity.y=Mn(t.velocity.y,-Yn,Yn)),t.lastPathTime-=t.pathDelay}function nU(t){return t.slow.inRange?t.slow.factor:Yn}function iU(t){const e=t.container,n=t.options,i=n.move.spin;if(!i.enable)return;const r=i.position??{x:50,y:50},s=.01,o={x:r.x*s*e.canvas.size.width,y:r.y*s*e.canvas.size.height},a=t.getPosition(),l=bn(a,o),c=ne(i.acceleration);t.retina.spinAcceleration=c*e.retina.pixelRatio;const d=0;t.spin={center:o,direction:t.velocity.x>=d?Rn.clockwise:Rn.counterClockwise,angle:t.velocity.angle,radius:l,acceleration:t.retina.spinAcceleration}}const rU=2,sU=1,oU=1;class aU{init(e){const n=e.options,i=n.move.gravity;e.gravity={enable:i.enable,acceleration:ne(i.acceleration),inverse:i.inverse},iU(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,n){var _,C;const i=e.options,r=i.move;if(!r.enable)return;const s=e.container,o=s.retina.pixelRatio;(_=e.retina).moveSpeed??(_.moveSpeed=ne(r.speed)*o),(C=e.retina).moveDrift??(C.moveDrift=ne(e.options.move.drift)*o);const a=nU(e),l=e.retina.moveSpeed*s.retina.reduceFactor,c=e.retina.moveDrift,d=Kn(i.size.value)*o,f=r.size?e.getRadius()/d:sU,p=n.factor||oU,g=l*f*a*p/rU,b=e.retina.maxSpeed??s.retina.maxSpeed;r.spin.enable?eU(e,g):Jz(e,r,g,b,c,n),Zz(e)}}async function lU(t,e=!0){await t.addMover("base",()=>Promise.resolve(new aU),e)}const cU=2,uU=Math.PI*cU,dU=0,Fb={x:0,y:0};function hU(t){const{context:e,particle:n,radius:i}=t;n.circleRange||(n.circleRange={min:dU,max:uU});const r=n.circleRange;e.arc(Fb.x,Fb.y,i,r.min,r.max,!1)}const fU=12,pU=360,zb=0;class mU{constructor(){this.validTypes=["circle"]}draw(e){hU(e)}getSidesCount(){return fU}particleInit(e,n){const i=n.shapeData,r=(i==null?void 0:i.angle)??{max:pU,min:zb};n.circleRange=wo(r)?{min:Or(r.min),max:Or(r.max)}:{min:zb,max:Or(r)}}}async function gU(t,e=!0){await t.addShape(new mU,e)}class yU{constructor(e){this.container=e}init(e){const n=nc(e.options.color,e.id,e.options.reduceDuplicates);n&&(e.color=CP(n,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){const{h:n,s:i,l:r}=e.options.color.animation,{color:s}=e;return!e.destroyed&&!e.spawning&&((s==null?void 0:s.h.value)!==void 0&&n.enable||(s==null?void 0:s.s.value)!==void 0&&i.enable||(s==null?void 0:s.l.value)!==void 0&&r.enable)}update(e,n){PP(e.color,n)}}async function vU(t,e=!0){await t.addParticleUpdater("color",n=>Promise.resolve(new yU(n)),e)}class _U{constructor(e){this.container=e}init(e){const n=e.options.opacity,i=1;e.opacity=bP(n,i);const r=n.animation;r.enable&&(e.opacity.velocity=ne(r.speed)/yr*this.container.retina.reduceFactor,r.sync||(e.opacity.velocity*=Ne()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,n){!this.isEnabled(e)||!e.opacity||t0(e,e.opacity,!0,e.options.opacity.animation.destroy,n)}}async function wU(t,e=!0){await t.addParticleUpdater("opacity",n=>Promise.resolve(new _U(n)),e)}const lh=0,zo=0;function bU(t){if(t.outMode!==st.bounce&&t.outMode!==st.split||t.direction!==me.left&&t.direction!==me.right)return;t.bounds.right<zo&&t.direction===me.left?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction===me.right&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let n=!1;if(t.direction===me.right&&t.bounds.right>=t.canvasSize.width&&e>lh||t.direction===me.left&&t.bounds.left<=zo&&e<lh){const r=ne(t.particle.options.bounce.horizontal.value);t.particle.velocity.x*=-r,n=!0}if(!n)return;const i=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction===me.right?t.particle.position.x=t.canvasSize.width-i:t.bounds.left<=zo&&t.direction===me.left&&(t.particle.position.x=i),t.outMode===st.split&&t.particle.destroy()}function EU(t){if(t.outMode!==st.bounce&&t.outMode!==st.split||t.direction!==me.bottom&&t.direction!==me.top)return;t.bounds.bottom<zo&&t.direction===me.top?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction===me.bottom&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let n=!1;if(t.direction===me.bottom&&t.bounds.bottom>=t.canvasSize.height&&e>lh||t.direction===me.top&&t.bounds.top<=zo&&e<lh){const r=ne(t.particle.options.bounce.vertical.value);t.particle.velocity.y*=-r,n=!0}if(!n)return;const i=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction===me.bottom?t.particle.position.y=t.canvasSize.height-i:t.bounds.top<=zo&&t.direction===me.top&&(t.particle.position.y=i),t.outMode===st.split&&t.particle.destroy()}class SU{constructor(e){this.container=e,this.modes=[st.bounce,st.split]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;let o=!1;for(const[,p]of s.plugins)if(p.particleBounce!==void 0&&(o=p.particleBounce(e,i,n)),o)break;if(o)return;const a=e.getPosition(),l=e.offset,c=e.getRadius(),d=kc(a,c),f=s.canvas.size;bU({particle:e,outMode:r,direction:n,bounds:d,canvasSize:f,offset:l,size:c}),EU({particle:e,outMode:r,direction:n,bounds:d,canvasSize:f,offset:l,size:c})}}const Eu=0;class xU{constructor(e){this.container=e,this.modes=[st.destroy]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case ei.normal:case ei.outside:if(Zv(e.position,s.canvas.size,ft.origin,e.getRadius(),n))return;break;case ei.inside:{const{dx:o,dy:a}=Xt(e.position,e.moveCenter),{x:l,y:c}=e.velocity;if(l<Eu&&o>e.moveCenter.radius||c<Eu&&a>e.moveCenter.radius||l>=Eu&&o<-e.moveCenter.radius||c>=Eu&&a<-e.moveCenter.radius)return;break}}s.particles.remove(e,void 0,!0)}}const Su=0;class TU{constructor(e){this.container=e,this.modes=[st.none]}update(e,n,i,r){if(!this.modes.includes(r)||((e.options.move.distance.horizontal&&(n===me.left||n===me.right))??(e.options.move.distance.vertical&&(n===me.top||n===me.bottom))))return;const s=e.options.move.gravity,o=this.container,a=o.canvas.size,l=e.getRadius();if(s.enable){const c=e.position;(!s.inverse&&c.y>a.height+l&&n===me.bottom||s.inverse&&c.y<-l&&n===me.top)&&o.particles.remove(e)}else{if(e.velocity.y>Su&&e.position.y<=a.height+l||e.velocity.y<Su&&e.position.y>=-l||e.velocity.x>Su&&e.position.x<=a.width+l||e.velocity.x<Su&&e.position.x>=-l)return;Zv(e.position,o.canvas.size,ft.origin,l,n)||o.particles.remove(e)}}}const xu=0,Tu=0;class IU{constructor(e){this.container=e,this.modes=[st.out]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case ei.inside:{const{x:o,y:a}=e.velocity,l=ft.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(ft.create(e.moveCenter));const{dx:c,dy:d}=Xt(e.position,l);if(o<=xu&&c>=Tu||a<=xu&&d>=Tu||o>=xu&&c<=Tu||a>=xu&&d<=Tu)return;e.position.x=Math.floor(vn({min:0,max:s.canvas.size.width})),e.position.y=Math.floor(vn({min:0,max:s.canvas.size.height}));const{dx:f,dy:p}=Xt(e.position,e.moveCenter);e.direction=Math.atan2(-p,-f),e.velocity.angle=e.direction;break}default:{if(Zv(e.position,s.canvas.size,ft.origin,e.getRadius(),n))return;switch(e.outType){case ei.outside:{e.position.x=Math.floor(vn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(vn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:a}=Xt(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,o),e.velocity.angle=e.direction);break}case ei.normal:{const o=e.options.move.warp,a=s.canvas.size,l={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},c=e.getRadius(),d=kc(e.position,c);n===me.right&&d.left>a.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,o||(e.position.y=Ne()*a.height,e.initialPosition.y=e.position.y)):n===me.left&&d.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,o||(e.position.y=Ne()*a.height,e.initialPosition.y=e.position.y)),n===me.bottom&&d.top>a.height+e.offset.y?(o||(e.position.x=Ne()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):n===me.top&&d.bottom<-e.offset.y&&(o||(e.position.x=Ne()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const Iu=(t,e)=>t.default===e||t.bottom===e||t.left===e||t.right===e||t.top===e;class CU{constructor(e){this._updateOutMode=(n,i,r,s)=>{for(const o of this.updaters)o.update(n,s,i,r)},this.container=e,this.updaters=[]}init(e){this.updaters=[];const n=e.options.move.outModes;Iu(n,st.bounce)?this.updaters.push(new SU(this.container)):Iu(n,st.out)?this.updaters.push(new IU(this.container)):Iu(n,st.destroy)?this.updaters.push(new xU(this.container)):Iu(n,st.none)&&this.updaters.push(new TU(this.container))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,n){const i=e.options.move.outModes;this._updateOutMode(e,n,i.bottom??i.default,me.bottom),this._updateOutMode(e,n,i.left??i.default,me.left),this._updateOutMode(e,n,i.right??i.default,me.right),this._updateOutMode(e,n,i.top??i.default,me.top)}}async function PU(t,e=!0){await t.addParticleUpdater("outModes",n=>Promise.resolve(new CU(n)),e)}const Zr=0;class kU{init(e){const n=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??n.retina.sizeAnimationSpeed)/yr*n.retina.reduceFactor,r.sync||(e.size.velocity*=Ne()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??Zr)<=Zr||(e.size.maxLoops??Zr)>Zr&&(e.size.loops??Zr)<(e.size.maxLoops??Zr))}reset(e){e.size.loops=Zr}update(e,n){this.isEnabled(e)&&t0(e,e.size,!0,e.options.size.animation.destroy,n)}}async function RU(t,e=!0){await t.addParticleUpdater("size",()=>Promise.resolve(new kU),e)}async function AU(t,e=!0){await lU(t,!1),await gU(t,!1),await vU(t,!1),await wU(t,!1),await PU(t,!1),await RU(t,!1),await t.refresh(e)}async function OU(){Wp(_s.easeInQuad,t=>t**2),Wp(_s.easeOutQuad,t=>1-(1-t)**2),Wp(_s.easeInOutQuad,t=>t<.5?2*t**2:1-(-2*t+2)**2/2),await Promise.resolve()}function NU(t){const{context:e,particle:n,radius:i,opacity:r}=t,s=n.emojiData,o=2,a=i*o,l=e.globalAlpha;s&&(e.globalAlpha=r,e.drawImage(s,-i,-i,a,a),e.globalAlpha=l)}const Ub='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"';class DU{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,n]of this._emojiShapeDict)n instanceof ImageBitmap&&(n==null||n.close(),this._emojiShapeDict.delete(e))}draw(e){NU(e)}async init(e){const n=e.actualOptions,{validTypes:i}=this;if(!i.find(o=>Xe(o,n.particles.shape.type)))return;const r=[_b(Ub)],s=i.map(o=>n.particles.shape.options[o]).find(o=>!!o);s&&Vn(s,o=>{o.font&&r.push(_b(o.font))}),await Promise.all(r)}particleDestroy(e){delete e.emojiData}particleInit(e,n){const r=n.shapeData;if(!(r!=null&&r.value))return;const s=Qn(r.value,n.randomIndexData),o=r.font??Ub;if(!s)return;const a=`${s}_${o}`,l=this._emojiShapeDict.get(a);if(l){n.emojiData=l;return}const c=Kn(n.size.value)*2;let d;const f=Kn(n.size.value);if(typeof OffscreenCanvas<"u"){const p=new OffscreenCanvas(c,c),g=p.getContext("2d");if(!g)return;g.font=`400 ${f*2}px ${o}`,g.textBaseline="middle",g.textAlign="center",g.fillText(s,f,f),d=p.transferToImageBitmap()}else{const p=document.createElement("canvas");p.width=c,p.height=c;const g=p.getContext("2d");if(!g)return;g.font=`400 ${f*2}px ${o}`,g.textBaseline="middle",g.textAlign="center",g.fillText(s,f,f),d=p}this._emojiShapeDict.set(a,d),n.emojiData=d}}async function jU(t,e=!0){await t.addShape(new DU,e)}const MU=1,LU=1,MP=0;function LP(t,e,n,i,r){const s=t.actualOptions.interactivity.modes.attract;if(!s)return;const o=t.particles.quadTree.query(i,r);for(const a of o){const{dx:l,dy:c,distance:d}=Xt(a.position,e),f=s.speed*s.factor,p=Mn(mP(s.easing)(LU-d/n)*f,MU,s.maxSpeed),g=ft.create(d?l/d*p:f,d?c/d*p:f);a.position.subFrom(g)}}function VU(t,e){t.attract||(t.attract={particles:[]});const{attract:n}=t;if(n.finish||(n.count||(n.count=0),n.count++,n.count===t.particles.count&&(n.finish=!0)),n.clicking){const i=t.interactivity.mouse.clickPosition,r=t.retina.attractModeDistance;if(!r||r<MP||!i)return;LP(t,i,r,new Lt(i.x,i.y,r),s=>e(s))}else n.clicking===!1&&(n.particles=[])}function FU(t,e){const n=t.interactivity.mouse.position,i=t.retina.attractModeDistance;!i||i<MP||!n||LP(t,n,i,new Lt(n.x,n.y,i),r=>e(r))}class zU{constructor(){this.distance=200,this.duration=.4,this.easing=_s.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const Za="attract";let UU=class extends Si{constructor(e,n){super(n),this._engine=e,n.attract||(n.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.attract;if(!(!s||i!==Za)){n.attract||(n.attract={particles:[]}),n.attract.clicking=!0,n.attract.count=0;for(const o of n.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);n.attract.particles=[],n.attract.finish=!1,setTimeout(()=>{n.destroyed||(n.attract||(n.attract={particles:[]}),n.attract.clicking=!1)},s.duration*jt)}}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.attract;n&&(e.retina.attractModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===Ds,r=n.interactivity.events,{enable:s,mode:o}=r.onHover,{enable:a,mode:l}=r.onClick;i&&s&&Xe(Za,o)?FU(this.container,c=>this.isEnabled(c)):a&&Xe(Za,l)&&VU(this.container,c=>this.isEnabled(c))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events;if((!r.position||!s.onHover.enable)&&(!r.clickPosition||!s.onClick.enable))return!1;const o=s.onHover.mode,a=s.onClick.mode;return Xe(Za,o)||Xe(Za,a)}loadModeOptions(e,...n){e.attract||(e.attract=new zU);for(const i of n)e.attract.load(i==null?void 0:i.attract)}reset(){}};async function BU(t,e=!0){await t.addInteractor("externalAttract",n=>Promise.resolve(new UU(t,n)),e)}const $U=2,id=.5,HU=Math.PI*id,Bb=2,VP=10,qU=0;function FP(t,e,n,i,r){const s=t.particles.quadTree.query(i,r);for(const o of s)i instanceof Lt?_P(zg(o),{position:e,radius:n,mass:n**$U*HU,velocity:ft.origin,factor:ft.origin}):i instanceof ri&&b8(o,kc(e,n))}function WU(t,e,n,i){const r=document.querySelectorAll(e);r.length&&r.forEach(s=>{const o=s,a=t.retina.pixelRatio,l={x:(o.offsetLeft+o.offsetWidth*id)*a,y:(o.offsetTop+o.offsetHeight*id)*a},c=o.offsetWidth*id*a,d=VP*a,f=n.type===ha.circle?new Lt(l.x,l.y,c+d):new ri(o.offsetLeft*a-d,o.offsetTop*a-d,o.offsetWidth*a+d*Bb,o.offsetHeight*a+d*Bb);i(l,c,f)})}function GU(t,e,n,i){e0(n,e,(r,s)=>WU(t,r,s,(o,a,l)=>FP(t,o,a,l,i)))}function KU(t,e){const n=t.retina.pixelRatio,i=VP*n,r=t.interactivity.mouse.position,s=t.retina.bounceModeDistance;!s||s<qU||!r||FP(t,r,s,new Lt(r.x,r.y,s+i),e)}class QU{constructor(){this.distance=200}load(e){e&&e.distance!==void 0&&(this.distance=e.distance)}}const Cu="bounce";class YU extends Si{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bounce;n&&(e.retina.bounceModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=n.interactivity.events,r=e.interactivity.status===Ds,s=i.onHover.enable,o=i.onHover.mode,a=i.onDiv;r&&s&&Xe(Cu,o)?KU(this.container,l=>this.isEnabled(l)):GU(this.container,a,Cu,l=>this.isEnabled(l))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv;return!!r.position&&s.onHover.enable&&Xe(Cu,s.onHover.mode)||Jv(Cu,o)}loadModeOptions(e,...n){e.bounce||(e.bounce=new QU);for(const i of n)e.bounce.load(i==null?void 0:i.bounce)}reset(){}}async function XU(t,e=!0){await t.addInteractor("externalBounce",n=>Promise.resolve(new YU(n)),e)}class zP{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const n=Ei(this.color)?void 0:this.color;this.color=Vn(e.color,i=>Ut.create(n,i))}e.size!==void 0&&(this.size=e.size)}}}class ZU extends zP{constructor(){super(),this.selectors=[]}load(e){super.load(e),e&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class JU extends zP{load(e){super.load(e),e&&(this.divs=Vn(e.divs,n=>{const i=new ZU;return i.load(n),i}))}}var ai;(function(t){t.color="color",t.opacity="opacity",t.size="size"})(ai||(ai={}));function $b(t,e,n,i){if(e>=n){const r=t+(e-n)*i;return Mn(r,t,e)}else if(e<n){const r=t-(n-e)*i;return Mn(r,e,t)}}const Jr="bubble",tm=0,e5=0,t5=2,Hb=1,qb=1,n5=0,i5=0,nm=.5,im=1;class r5 extends Si{constructor(e){super(e),this._clickBubble=()=>{var c;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse.clickPosition,s=i.interactivity.modes.bubble;if(!s||!r)return;n.bubble||(n.bubble={});const o=n.retina.bubbleModeDistance;if(!o||o<tm)return;const a=n.particles.quadTree.queryCircle(r,o,d=>this.isEnabled(d)),{bubble:l}=n;for(const d of a){if(!l.clicking)continue;d.bubble.inRange=!l.durationEnd;const f=d.getPosition(),p=bn(f,r),g=(new Date().getTime()-(n.interactivity.mouse.clickTime??e5))/jt;g>s.duration&&(l.durationEnd=!0),g>s.duration*t5&&(l.clicking=!1,l.durationEnd=!1);const b={bubbleObj:{optValue:n.retina.bubbleModeSize,value:d.bubble.radius},particlesObj:{optValue:Kn(d.options.size.value)*n.retina.pixelRatio,value:d.size.value},type:ai.size};this._process(d,p,g,b);const _={bubbleObj:{optValue:s.opacity,value:d.bubble.opacity},particlesObj:{optValue:Kn(d.options.opacity.value),value:((c=d.opacity)==null?void 0:c.value)??Hb},type:ai.opacity};this._process(d,p,g,_),!l.durationEnd&&p<=o?this._hoverBubbleColor(d,p):delete d.bubble.color}},this._hoverBubble=()=>{const n=this.container,i=n.interactivity.mouse.position,r=n.retina.bubbleModeDistance;if(!r||r<tm||!i)return;const s=n.particles.quadTree.queryCircle(i,r,o=>this.isEnabled(o));for(const o of s){o.bubble.inRange=!0;const a=o.getPosition(),l=bn(a,i),c=qb-l/r;l<=r?c>=i5&&n.interactivity.status===Ds&&(this._hoverBubbleSize(o,c),this._hoverBubbleOpacity(o,c),this._hoverBubbleColor(o,c)):this.reset(o),n.interactivity.status===Vg&&this.reset(o)}},this._hoverBubbleColor=(n,i,r)=>{const s=this.container.actualOptions,o=r??s.interactivity.modes.bubble;if(o){if(!n.bubble.finalColor){const a=o.color;if(!a)return;const l=Qn(a);n.bubble.finalColor=nc(l)}if(n.bubble.finalColor)if(o.mix){n.bubble.color=void 0;const a=n.getFillColor();n.bubble.color=a?xP(n0(a,n.bubble.finalColor,qb-i,i)):n.bubble.finalColor}else n.bubble.color=n.bubble.finalColor}},this._hoverBubbleOpacity=(n,i,r)=>{var f,p;const s=this.container,o=s.actualOptions,a=(r==null?void 0:r.opacity)??((f=o.interactivity.modes.bubble)==null?void 0:f.opacity);if(!a)return;const l=n.options.opacity.value,c=((p=n.opacity)==null?void 0:p.value)??Hb,d=$b(c,a,Kn(l),i);d!==void 0&&(n.bubble.opacity=d)},this._hoverBubbleSize=(n,i,r)=>{const s=this.container,o=r!=null&&r.size?r.size*s.retina.pixelRatio:s.retina.bubbleModeSize;if(o===void 0)return;const a=Kn(n.options.size.value)*s.retina.pixelRatio,l=n.size.value,c=$b(l,o,a,i);c!==void 0&&(n.bubble.radius=c)},this._process=(n,i,r,s)=>{const o=this.container,a=s.bubbleObj.optValue,l=o.actualOptions,c=l.interactivity.modes.bubble;if(!c||a===void 0)return;const d=c.duration,f=o.retina.bubbleModeDistance,p=s.particlesObj.optValue,g=s.bubbleObj.value,b=s.particlesObj.value??n5,_=s.type;if(!(!f||f<tm||a===p))if(o.bubble||(o.bubble={}),o.bubble.durationEnd)g&&(_===ai.size&&delete n.bubble.radius,_===ai.opacity&&delete n.bubble.opacity);else if(i<=f){if((g??b)!==a){const E=b-r*(b-a)/d;_===ai.size&&(n.bubble.radius=E),_===ai.opacity&&(n.bubble.opacity=E)}}else _===ai.size&&delete n.bubble.radius,_===ai.opacity&&delete n.bubble.opacity},this._singleSelectorHover=(n,i,r)=>{const s=this.container,o=document.querySelectorAll(i),a=s.actualOptions.interactivity.modes.bubble;!a||!o.length||o.forEach(l=>{const c=l,d=s.retina.pixelRatio,f={x:(c.offsetLeft+c.offsetWidth*nm)*d,y:(c.offsetTop+c.offsetHeight*nm)*d},p=c.offsetWidth*nm*d,g=r.type===ha.circle?new Lt(f.x,f.y,p):new ri(c.offsetLeft*d,c.offsetTop*d,c.offsetWidth*d,c.offsetHeight*d),b=s.particles.quadTree.query(g,_=>this.isEnabled(_));for(const _ of b){if(!g.contains(_.getPosition()))continue;_.bubble.inRange=!0;const C=a.divs,E=vP(C,c);(!_.bubble.div||_.bubble.div!==c)&&(this.clear(_,n,!0),_.bubble.div=c),this._hoverBubbleSize(_,im,E),this._hoverBubbleOpacity(_,im,E),this._hoverBubbleColor(_,im,E)}})},e.bubble||(e.bubble={}),this.handleClickMode=n=>{n===Jr&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,n,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bubble;n&&(e.retina.bubbleModeDistance=n.distance*e.retina.pixelRatio,n.size!==void 0&&(e.retina.bubbleModeSize=n.size*e.retina.pixelRatio))}interact(e){const n=this.container.actualOptions,i=n.interactivity.events,r=i.onHover,s=i.onClick,o=r.enable,a=r.mode,l=s.enable,c=s.mode,d=i.onDiv;o&&Xe(Jr,a)?this._hoverBubble():l&&Xe(Jr,c)?this._clickBubble():e0(Jr,d,(f,p)=>this._singleSelectorHover(e,f,p))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,{onClick:o,onDiv:a,onHover:l}=s,c=Jv(Jr,a);return c||l.enable&&r.position||o.enable&&r.clickPosition?Xe(Jr,l.mode)||Xe(Jr,o.mode)||c:!1}loadModeOptions(e,...n){e.bubble||(e.bubble=new JU);for(const i of n)e.bubble.load(i==null?void 0:i.bubble)}reset(e){e.bubble.inRange=!1}}async function s5(t,e=!0){await t.addInteractor("externalBubble",n=>Promise.resolve(new r5(n)),e)}class o5{constructor(){this.opacity=.5}load(e){e&&e.opacity!==void 0&&(this.opacity=e.opacity)}}class a5{constructor(){this.distance=80,this.links=new o5,this.radius=60}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const Wb=0,Gb=1,l5=0;function c5(t,e,n,i){const r=Math.floor(n.getRadius()/e.getRadius()),s=e.getFillColor(),o=n.getFillColor();if(!s||!o)return;const a=e.getPosition(),l=n.getPosition(),c=n0(s,o,e.getRadius(),n.getRadius()),d=t.createLinearGradient(a.x,a.y,l.x,l.y);return d.addColorStop(Wb,ic(s,i)),d.addColorStop(Mn(r,Wb,Gb),zi(c,i)),d.addColorStop(Gb,ic(o,i)),d}function u5(t,e,n,i,r){xl(t,i,r),t.lineWidth=e,t.strokeStyle=n,t.stroke()}function d5(t,e,n,i){const r=t.actualOptions,s=r.interactivity.modes.connect;if(s)return c5(e,n,i,s.links.opacity)}function h5(t,e,n){t.canvas.draw(i=>{const r=d5(t,i,e,n);if(!r)return;const s=e.getPosition(),o=n.getPosition();u5(i,e.retina.linksWidth??l5,r,s,o)})}const f5="connect",Kb=0;class p5 extends Si{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.connect;n&&(e.retina.connectModeDistance=n.distance*e.retina.pixelRatio,e.retina.connectModeRadius=n.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position,{connectModeDistance:r,connectModeRadius:s}=e.retina;if(!r||r<Kb||!s||s<Kb||!i)return;const o=Math.abs(s),a=e.particles.quadTree.queryCircle(i,o,l=>this.isEnabled(l));a.forEach((l,c)=>{const d=l.getPosition(),f=1;for(const p of a.slice(c+f)){const g=p.getPosition(),b=Math.abs(r),_=Math.abs(d.x-g.x),C=Math.abs(d.y-g.y);_<b&&C<b&&h5(e,l,p)}})}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&i.position?Xe(f5,r.onHover.mode):!1}loadModeOptions(e,...n){e.connect||(e.connect=new a5);for(const i of n)e.connect.load(i==null?void 0:i.connect)}reset(){}}async function m5(t,e=!0){await t.addInteractor("externalConnect",n=>Promise.resolve(new p5(n)),e)}class g5{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){e&&(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=Ut.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class y5{constructor(){this.distance=100,this.links=new g5}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const v5=0;function _5(t,e,n,i,r,s){xl(t,n,i),t.strokeStyle=zi(r,s),t.lineWidth=e,t.stroke()}function w5(t,e,n,i,r){t.canvas.draw(s=>{const o=e.getPosition();_5(s,e.retina.linksWidth??v5,o,r,n,i)})}const b5="grab",E5=0,S5=0;class x5 extends Si{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.grab;n&&(e.retina.grabModeDistance=n.distance*e.retina.pixelRatio)}interact(){var a;const e=this.container,n=e.actualOptions,i=n.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==Ds)return;const r=e.interactivity.mouse.position;if(!r)return;const s=e.retina.grabModeDistance;if(!s||s<E5)return;const o=e.particles.quadTree.queryCircle(r,s,l=>this.isEnabled(l));for(const l of o){const c=l.getPosition(),d=bn(c,r);if(d>s)continue;const f=i.modes.grab.links,p=f.opacity,g=p-d*p/s;if(g<=S5)continue;const b=f.color??((a=l.options.links)==null?void 0:a.color);if(!e.particles.grabLineColor&&b){const C=i.modes.grab.links;e.particles.grabLineColor=IP(b,C.blink,C.consent)}const _=Bg(l,void 0,e.particles.grabLineColor);_&&w5(e,l,_,g,r)}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Xe(b5,r.onHover.mode)}loadModeOptions(e,...n){e.grab||(e.grab=new y5);for(const i of n)e.grab.load(i==null?void 0:i.grab)}reset(){}}async function T5(t,e=!0){await t.addInteractor("externalGrab",n=>Promise.resolve(new x5(n)),e)}const I5="pause";class C5 extends Si{constructor(e){super(e),this.handleClickMode=n=>{if(n!==I5)return;const i=this.container;i.animationStatus?i.pause():i.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function P5(t,e=!0){await t.addInteractor("externalPause",n=>Promise.resolve(new C5(n)),e)}class k5{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(!e)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const n=e.quantity;n!==void 0&&(this.quantity=Ee(n))}}const R5="push",A5=0;class O5 extends Si{constructor(e){super(e),this.handleClickMode=n=>{if(n!==R5)return;const i=this.container,r=i.actualOptions,s=r.interactivity.modes.push;if(!s)return;const o=ne(s.quantity);if(o<=A5)return;const a=lf([void 0,...s.groups]),l=a!==void 0?i.actualOptions.particles.groups[a]:void 0;i.particles.push(o,i.interactivity.mouse,l,a)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.push||(e.push=new k5);for(const i of n)e.push.load(i==null?void 0:i.push)}reset(){}}async function N5(t,e=!0){await t.addInteractor("externalPush",n=>Promise.resolve(new O5(n)),e)}class D5{constructor(){this.quantity=2}load(e){if(!e)return;const n=e.quantity;n!==void 0&&(this.quantity=Ee(n))}}const j5="remove";class M5 extends Si{constructor(e){super(e),this.handleClickMode=n=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||n!==j5)return;const s=ne(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(s)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.remove||(e.remove=new D5);for(const i of n)e.remove.load(i==null?void 0:i.remove)}reset(){}}async function L5(t,e=!0){await t.addInteractor("externalRemove",n=>Promise.resolve(new M5(n)),e)}class UP{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=_s.easeOutQuad}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class V5 extends UP{constructor(){super(),this.selectors=[]}load(e){super.load(e),e&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class F5 extends UP{load(e){super.load(e),e&&(this.divs=Vn(e.divs,n=>{const i=new V5;return i.load(n),i}))}}const es="repulse",z5=0,U5=6,B5=3,$5=2,H5=0,q5=0,W5=1,rm=.5;class G5 extends Si{constructor(e,n){super(n),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const s=i.repulse??{particles:[]};if(s.finish||(s.count||(s.count=0),s.count++,s.count===i.particles.count&&(s.finish=!0)),s.clicking){const o=i.retina.repulseModeDistance;if(!o||o<z5)return;const a=Math.pow(o/U5,B5),l=i.interactivity.mouse.clickPosition;if(l===void 0)return;const c=new Lt(l.x,l.y,a),d=i.particles.quadTree.query(c,f=>this.isEnabled(f));for(const f of d){const{dx:p,dy:g,distance:b}=Xt(l,f.position),_=b**$5,C=r.speed,E=-a*C/_;if(_<=a){s.particles.push(f);const y=ft.create(p,g);y.length=E,f.velocity.setTo(y)}}}else if(s.clicking===!1){for(const o of s.particles)o.velocity.setTo(o.initialVelocity);s.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.repulseModeDistance;!s||s<H5||!r||this._processRepulse(r,s,new Lt(r.x,r.y,s))},this._processRepulse=(i,r,s,o)=>{const a=this.container,l=a.particles.quadTree.query(s,C=>this.isEnabled(C)),c=a.actualOptions.interactivity.modes.repulse;if(!c)return;const{easing:d,speed:f,factor:p,maxSpeed:g}=c,b=mP(d),_=((o==null?void 0:o.speed)??f)*p;for(const C of l){const{dx:E,dy:y,distance:x}=Xt(C.position,i),P=Mn(b(W5-x/r)*_,q5,g),D=ft.create(x?E/x*P:_,x?y/x*P:_);C.position.addTo(D)}},this._singleSelectorRepulse=(i,r)=>{const s=this.container,o=s.actualOptions.interactivity.modes.repulse;if(!o)return;const a=document.querySelectorAll(i);a.length&&a.forEach(l=>{const c=l,d=s.retina.pixelRatio,f={x:(c.offsetLeft+c.offsetWidth*rm)*d,y:(c.offsetTop+c.offsetHeight*rm)*d},p=c.offsetWidth*rm*d,g=r.type===ha.circle?new Lt(f.x,f.y,p):new ri(c.offsetLeft*d,c.offsetTop*d,c.offsetWidth*d,c.offsetHeight*d),b=o.divs,_=vP(b,c);this._processRepulse(f,p,g,_)})},this._engine=e,n.repulse||(n.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.repulse;if(!s||i!==es)return;n.repulse||(n.repulse={particles:[]});const o=n.repulse;o.clicking=!0,o.count=0;for(const a of n.repulse.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{n.destroyed||(o.clicking=!1)},s.duration*jt)}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.repulse;n&&(e.retina.repulseModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===Ds,r=n.interactivity.events,s=r.onHover,o=s.enable,a=s.mode,l=r.onClick,c=l.enable,d=l.mode,f=r.onDiv;i&&o&&Xe(es,a)?this._hoverRepulse():c&&Xe(es,d)?this._clickRepulse():e0(es,f,(p,g)=>this._singleSelectorRepulse(p,g))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv,a=s.onHover,l=s.onClick,c=Jv(es,o);if(!(c||a.enable&&r.position||l.enable&&r.clickPosition))return!1;const d=a.mode,f=l.mode;return Xe(es,d)||Xe(es,f)||c}loadModeOptions(e,...n){e.repulse||(e.repulse=new F5);for(const i of n)e.repulse.load(i==null?void 0:i.repulse)}reset(){}}async function K5(t,e=!0){await t.addInteractor("externalRepulse",n=>Promise.resolve(new G5(t,n)),e)}class Q5{constructor(){this.factor=3,this.radius=200}load(e){e&&(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const Y5="slow",X5=0;class Z5 extends Si{constructor(e){super(e)}clear(e,n,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.slow;n&&(e.retina.slowModeRadius=n.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Xe(Y5,r.onHover.mode)}loadModeOptions(e,...n){e.slow||(e.slow=new Q5);for(const i of n)e.slow.load(i==null?void 0:i.slow)}reset(e){e.slow.inRange=!1;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse.position,s=n.retina.slowModeRadius,o=i.interactivity.modes.slow;if(!o||!s||s<X5||!r)return;const a=e.getPosition(),l=bn(r,a),c=l/s,d=o.factor,{slow:f}=e;l>s||(f.inRange=!0,f.factor=c/d)}}async function J5(t,e=!0){await t.addInteractor("externalSlow",n=>Promise.resolve(new Z5(n)),e)}const e9=0,t9=1,n9=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function i9(t,e,n){const{svgData:i}=t;if(!i)return"";const r=ic(e,n);if(i.includes("fill"))return i.replace(n9,()=>r);const s=i.indexOf(">");return`${i.substring(e9,s)} fill="${r}"${i.substring(s)}`}async function uf(t){return new Promise(e=>{t.loading=!0;const n=new Image;t.element=n,n.addEventListener("load",()=>{t.loading=!1,e()}),n.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,Ms().error(`${jn} loading image: ${t.source}`),e()}),n.src=t.source})}async function r9(t){if(t.type!=="svg"){await uf(t);return}t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(Ms().error(`${jn} Image not found`),t.error=!0),t.loading=!1}function s9(t,e,n,i){var o;const r=i9(t,n,((o=i.opacity)==null?void 0:o.value)??t9),s={color:n,gif:e.gif,data:{...t,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(a=>{const l=new Blob([r],{type:"image/svg+xml"}),c=URL||window.URL||window.webkitURL||window,d=c.createObjectURL(l),f=new Image;f.addEventListener("load",()=>{s.loaded=!0,s.element=f,a(s),c.revokeObjectURL(d)});const p=async()=>{c.revokeObjectURL(d);const g={...t,error:!1,loading:!0};await uf(g),s.loaded=!0,s.element=g.element,a(s)};f.addEventListener("error",()=>void p()),f.src=d})}const sm=[0,4,2,1],Qb=[8,8,4,2];class o9{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const n=this.data.slice(this.pos,this.pos+e);return this.pos+=n.length,n.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",n=0;const i=0,r=0;do{n=this.data[this.pos++];for(let s=n;--s>=i;e+=String.fromCharCode(this.data[this.pos++]));}while(n!==r);return e}readSubBlocksBin(){let e=this.data[this.pos],n=0;const i=0,r=1;for(let o=0;e!==i;o+=e+r,e=this.data[this.pos+o])n+=e;const s=new Uint8Array(n);e=this.data[this.pos++];for(let o=0;e!==i;e=this.data[this.pos++])for(let a=e;--a>=i;s[o++]=this.data[this.pos++]);return s}skipSubBlocks(){for(const e=1,n=0;this.data[this.pos]!==n;this.pos+=this.data[this.pos]+e);this.pos++}}var $n;(function(t){t[t.Replace=0]="Replace",t[t.Combine=1]="Combine",t[t.RestoreBackground=2]="RestoreBackground",t[t.RestorePrevious=3]="RestorePrevious",t[t.UndefinedA=4]="UndefinedA",t[t.UndefinedB=5]="UndefinedB",t[t.UndefinedC=6]="UndefinedC",t[t.UndefinedD=7]="UndefinedD"})($n||($n={}));var ji;(function(t){t[t.Extension=33]="Extension",t[t.ApplicationExtension=255]="ApplicationExtension",t[t.GraphicsControlExtension=249]="GraphicsControlExtension",t[t.PlainTextExtension=1]="PlainTextExtension",t[t.CommentExtension=254]="CommentExtension",t[t.Image=44]="Image",t[t.EndOfFile=59]="EndOfFile"})(ji||(ji={}));const tn={x:0,y:0},a9=0,Yb=.5,l9=0,Xb=0,qg=0;function BP(t,e){const n=[];for(let i=0;i<e;i++)n.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return n}function c9(t,e,n,i){switch(t.nextByte()){case ji.GraphicsControlExtension:{const r=e.frames[n(!1)];t.pos++;const s=t.nextByte();r.GCreserved=(s&224)>>>5,r.disposalMethod=(s&28)>>>2,r.userInputDelayFlag=(s&2)===2;const o=(s&1)===1;r.delayTime=t.nextTwoBytes()*10;const a=t.nextByte();o&&i(a),t.pos++;break}case ji.ApplicationExtension:{t.pos++;const r={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(r);break}case ji.CommentExtension:{e.comments.push([n(!1),t.readSubBlocks()]);break}case ji.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[n(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break}default:t.skipSubBlocks();break}}async function u9(t,e,n,i,r,s){const o=e.frames[i(!0)];o.left=t.nextTwoBytes(),o.top=t.nextTwoBytes(),o.width=t.nextTwoBytes(),o.height=t.nextTwoBytes();const a=t.nextByte(),l=(a&128)===128,c=(a&64)===64;o.sortFlag=(a&32)===32,o.reserved=(a&24)>>>3;const d=1<<(a&7)+1;l&&(o.localColorTable=BP(t,d));const f=E=>{const{r:y,g:x,b:P}=(l?o.localColorTable:e.globalColorTable)[E];return E!==r(null)?{r:y,g:x,b:P,a:255}:{r:y,g:x,b:P,a:n?~~((y+x+P)/3):0}},p=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(E){if(E instanceof DOMException&&E.name==="IndexSizeError")return null;throw E}})();if(p==null)throw new EvalError("GIF frame size is to large");const g=t.nextByte(),b=t.readSubBlocksBin(),_=1<<g,C=(E,y)=>{const x=E>>>3,P=E&7;return(b[x]+(b[x+1]<<8)+(b[x+2]<<16)&(1<<y)-1<<P)>>>P};if(c){for(let E=0,y=g+1,x=0,P=[[0]],D=0;D<4;D++)if(sm[D]<o.height){let O=0,T=0,S=!1;for(;!S;){const w=E;if(E=C(x,y),x+=y+1,E===_){y=g+1,P.length=_+2;for(let I=0;I<P.length;I++)P[I]=I<_?[I]:[]}else{E>=P.length?P.push(P[w].concat(P[w][0])):w!==_&&P.push(P[w].concat(P[E][0]));for(const I of P[E]){const{r:A,g:N,b:k,a:M}=f(I);p.data.set([A,N,k,M],sm[D]*o.width+Qb[D]*T+O%(o.width*4)),O+=4}P.length===1<<y&&y<12&&y++}O===o.width*4*(T+1)&&(T++,sm[D]+Qb[D]*T>=o.height&&(S=!0))}}o.image=p,o.bitmap=await createImageBitmap(p)}else{let E=0,y=g+1,x=0,P=-4,D=!1;const O=[[0]];for(;!D;){const T=E;if(E=C(x,y),x+=y,E===_){y=g+1,O.length=_+2;for(let S=0;S<O.length;S++)O[S]=S<_?[S]:[]}else{if(E===_+1){D=!0;break}E>=O.length?O.push(O[T].concat(O[T][0])):T!==_&&O.push(O[T].concat(O[E][0]));for(const S of O[E]){const{r:w,g:I,b:A,a:N}=f(S);p.data.set([w,I,A,N],P+=4)}O.length>=1<<y&&y<12&&y++}}o.image=p,o.bitmap=await createImageBitmap(p)}}async function d9(t,e,n,i,r,s){switch(t.nextByte()){case ji.EndOfFile:return!0;case ji.Image:await u9(t,e,n,i,r);break;case ji.Extension:c9(t,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function h9(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function f9(t,e,n){n||(n=!1);const i=await fetch(t);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),s={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new o9(new Uint8ClampedArray(r));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");s.width=o.nextTwoBytes(),s.height=o.nextTwoBytes();const a=o.nextByte(),l=(a&128)===128;s.colorRes=(a&112)>>>4,s.sortFlag=(a&8)===8;const c=1<<(a&7)+1,d=o.nextByte();s.pixelAspectRatio=o.nextByte(),s.pixelAspectRatio!==0&&(s.pixelAspectRatio=(s.pixelAspectRatio+15)/64),l&&(s.globalColorTable=BP(o,c));const f=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(P){if(P instanceof DOMException&&P.name==="IndexSizeError")return null;throw P}})();if(f==null)throw new Error("GIF frame size is to large");const{r:p,g,b}=s.globalColorTable[d];f.data.set(l?[p,g,b,255]:[0,0,0,0]);for(let P=4;P<f.data.length;P*=2)f.data.copyWithin(P,0,P);s.backgroundImage=f;let _=-1,C=!0,E=-1;const y=P=>(P&&(C=!0),_),x=P=>(P!=null&&(E=P),E);try{do C&&(s.frames.push({left:0,top:0,width:0,height:0,disposalMethod:$n.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),_++,E=-1,C=!1);while(!await d9(o,s,n,y,x,e));s.frames.length--;for(const P of s.frames){if(P.userInputDelayFlag&&P.delayTime===0){s.totalTime=1/0;break}s.totalTime+=P.delayTime}return s}catch(P){throw P instanceof EvalError?new Error(`error while parsing frame ${_} "${P.message}"`):P}}function p9(t){const{context:e,radius:n,particle:i,delta:r}=t,s=i.image;if(!(s!=null&&s.gifData)||!s.gif)return;const o=new OffscreenCanvas(s.gifData.width,s.gifData.height),a=o.getContext("2d");if(!a)throw new Error("could not create offscreen canvas context");a.imageSmoothingQuality="low",a.imageSmoothingEnabled=!1,a.clearRect(tn.x,tn.y,o.width,o.height),i.gifLoopCount===void 0&&(i.gifLoopCount=s.gifLoopCount??qg);let l=i.gifFrame??a9;const c={x:-s.gifData.width*Yb,y:-s.gifData.height*Yb},d=s.gifData.frames[l];if(i.gifTime===void 0&&(i.gifTime=l9),!!d.bitmap){switch(e.scale(n/s.gifData.width,n/s.gifData.height),d.disposalMethod){case $n.UndefinedA:case $n.UndefinedB:case $n.UndefinedC:case $n.UndefinedD:case $n.Replace:a.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,c.x,c.y),a.clearRect(tn.x,tn.y,o.width,o.height);break;case $n.Combine:a.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,c.x,c.y);break;case $n.RestoreBackground:a.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,c.x,c.y),a.clearRect(tn.x,tn.y,o.width,o.height),s.gifData.globalColorTable.length?a.putImageData(s.gifData.backgroundImage,c.x,c.y):a.putImageData(s.gifData.frames[Xb].image,c.x+d.left,c.y+d.top);break;case $n.RestorePrevious:{const f=a.getImageData(tn.x,tn.y,o.width,o.height);a.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,c.x,c.y),a.clearRect(tn.x,tn.y,o.width,o.height),a.putImageData(f,tn.x,tn.y)}break}if(i.gifTime+=r.value,i.gifTime>d.delayTime){if(i.gifTime-=d.delayTime,++l>=s.gifData.frames.length){if(--i.gifLoopCount<=qg)return;l=Xb,a.clearRect(tn.x,tn.y,o.width,o.height)}i.gifFrame=l}e.scale(s.gifData.width/n,s.gifData.height/n)}}async function m9(t){if(t.type!=="gif"){await uf(t);return}t.loading=!0;try{t.gifData=await f9(t.source),t.gifLoopCount=h9(t.gifData)??qg,t.gifLoopCount||(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}const g9=2,y9=1,v9=12,_9=1;class w9{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async n=>{if(!this._engine.loadImage)throw new Error(`${jn} image shape not initialized`);await this._engine.loadImage({gif:n.gif,name:n.name,replaceColor:n.replaceColor??!1,src:n.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:n,radius:i,particle:r,opacity:s}=e,o=r.image,a=o==null?void 0:o.element;if(o){if(n.globalAlpha=s,o.gif&&o.gifData)p9(e);else if(a){const l=o.ratio,c={x:-i,y:-i},d=i*g9;n.drawImage(a,c.x,c.y,d,d/l)}n.globalAlpha=y9}}getSidesCount(){return v9}async init(e){const n=e.actualOptions;if(!(!n.preload||!this._engine.loadImage))for(const i of n.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const n=e.shapeData;if(!n)return;this._engine.images.find(r=>r.name===n.name||r.source===n.src)||this.loadImageShape(n).then(()=>{this.loadShape(e)})}particleInit(e,n){if(n.shape!=="image"&&n.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=n.shapeData;if(!r)return;const s=n.getFillColor(),o=i.find(l=>l.name===r.name||l.source===r.src);if(!o)return;const a=r.replaceColor??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,n)});return}(async()=>{let l;o.svgData&&s?l=await s9(o,r,s,n):l={color:s,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:o.ratio??_9,replaceColor:a,source:r.src},l.ratio||(l.ratio=1);const c=r.fill??n.shapeFill,d=r.close??n.shapeClose,f={image:l,fill:c,close:d};n.image=f.image,n.shapeFill=f.fill,n.shapeClose=f.close})()}}class b9{constructor(){this.src="",this.gif=!1}load(e){e&&(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class E9{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,n){if(!(n!=null&&n.preload))return;e.preload||(e.preload=[]);const i=e.preload;for(const r of n.preload){const s=i.find(o=>o.name===r.name||o.src===r.src);if(s)s.load(r);else{const o=new b9;o.load(r),i.push(o)}}}needsPlugin(){return!0}}const S9=3;function x9(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${jn} no image source provided`);if(t.images||(t.images=[]),!t.images.find(n=>n.name===e.name||n.source===e.src))try{const n={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-S9),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(n);let i;e.gif?i=m9:i=e.replaceColor?r9:uf,await i(n)}catch{throw new Error(`${jn} ${e.name??e.src} not found`)}})}async function T9(t,e=!0){x9(t);const n=new E9(t);await t.addPlugin(n,e),await t.addShape(new w9(t),e)}class I9 extends Ws{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class C9 extends Ws{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class P9{constructor(){this.count=0,this.delay=new I9,this.duration=new C9}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const to=0,k9=-1,Zb=0,Jb=0;function R9(t,e,n){if(!t.life)return;const i=t.life;let r=!1;if(t.spawning)if(i.delayTime+=e.value,i.delayTime>=t.life.delay)r=!0,t.spawning=!1,i.delayTime=to,i.time=to;else return;if(i.duration===k9||t.spawning||(r?i.time=to:i.time+=e.value,i.time<i.duration))return;if(i.time=to,t.life.count>Zb&&t.life.count--,t.life.count===Zb){t.destroy();return}const s=Ee(Jb,n.width),o=Ee(Jb,n.width);t.position.x=vn(s),t.position.y=vn(o),t.spawning=!0,i.delayTime=to,i.time=to,t.reset();const a=t.options.life;a&&(i.delay=ne(a.delay.value)*jt,i.duration=ne(a.duration.value)*jt)}const ts=0,eE=1,tE=-1;class A9{constructor(e){this.container=e}init(e){const n=this.container,i=e.options,r=i.life;r&&(e.life={delay:n.retina.reduceFactor?ne(r.delay.value)*(r.delay.sync?eE:Ne())/n.retina.reduceFactor*jt:ts,delayTime:ts,duration:n.retina.reduceFactor?ne(r.duration.value)*(r.duration.sync?eE:Ne())/n.retina.reduceFactor*jt:ts,time:ts,count:r.count},e.life.duration<=ts&&(e.life.duration=tE),e.life.count<=ts&&(e.life.count=tE),e.life&&(e.spawning=e.life.delay>ts))}isEnabled(e){return!e.destroyed}loadOptions(e,...n){e.life||(e.life=new P9);for(const i of n)e.life.load(i==null?void 0:i.life)}update(e,n){!this.isEnabled(e)||!e.life||R9(e,n,this.container.canvas.size)}}async function O9(t,e=!0){await t.addParticleUpdater("life",async n=>Promise.resolve(new A9(n)),e)}function N9(t){const{context:e,particle:n,radius:i}=t,r=n.shapeData,s=0;e.moveTo(-i,s),e.lineTo(i,s),e.lineCap=(r==null?void 0:r.cap)??"butt"}const D9=1;class j9{constructor(){this.validTypes=["line"]}draw(e){N9(e)}getSidesCount(){return D9}}async function M9(t,e=!0){await t.addShape(new j9,e)}const nE=.5;class L9{init(){}isEnabled(e){return!Ls()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const n=e.container,i=n.actualOptions,r=i.interactivity.events.onHover.parallax;if(Ls()||!r.enable)return;const s=r.force,o=n.interactivity.mouse.position;if(!o)return;const a=n.canvas.size,l={x:a.width*nE,y:a.height*nE},c=r.smooth,d=e.getRadius()/s,f={x:(o.x-l.x)*d,y:(o.y-l.y)*d},{offset:p}=e;p.x+=(f.x-p.x)/c,p.y+=(f.y-p.y)/c}}async function V9(t,e=!0){await t.addMover("parallax",()=>Promise.resolve(new L9),e)}const iE=1e3,F9=1;class z9 extends s0{constructor(e){super(e)}clear(){}init(){}interact(e){const n=this.container;e.attractDistance===void 0&&(e.attractDistance=ne(e.options.move.attract.distance)*n.retina.pixelRatio);const i=e.attractDistance,r=e.getPosition(),s=n.particles.quadTree.queryCircle(r,i);for(const o of s){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const a=o.getPosition(),{dx:l,dy:c}=Xt(r,a),d=e.options.move.attract.rotate,f=l/(d.x*iE),p=c/(d.y*iE),g=o.size.value/e.size.value,b=F9/g;e.velocity.x-=f*g,e.velocity.y-=p*g,o.velocity.x+=f*b,o.velocity.y+=p*b}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function U9(t,e=!0){await t.addInteractor("particlesAttract",n=>Promise.resolve(new z9(n)),e)}const B9=.5,$9=10,H9=0;function rE(t,e,n,i,r,s){const o=Mn(t.options.collisions.absorb.speed*r.factor/$9,H9,i);t.size.value+=o*B9,n.size.value-=o,i<=s&&(n.size.value=0,n.destroy())}function q9(t,e,n,i){const r=t.getRadius(),s=e.getRadius();r===void 0&&s!==void 0?t.destroy():r!==void 0&&s===void 0?e.destroy():r!==void 0&&s!==void 0&&(r>=s?rE(t,r,e,s,n,i):rE(e,s,t,r,n,i))}const sE=t=>{t.collisionMaxSpeed===void 0&&(t.collisionMaxSpeed=ne(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function $P(t,e){_P(zg(t),zg(e)),sE(t),sE(e)}function W9(t,e){!t.unbreakable&&!e.unbreakable&&$P(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e:t).destroy()}function G9(t,e,n,i){switch(t.options.collisions.mode){case Vo.absorb:{q9(t,e,n,i);break}case Vo.bounce:{$P(t,e);break}case Vo.destroy:{W9(t,e);break}}}const K9=2;class Q9 extends s0{constructor(e){super(e)}clear(){}init(){}interact(e,n){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),s=e.getRadius(),o=i.particles.quadTree.queryCircle(r,s*K9);for(const a of o){if(e===a||!a.options.collisions.enable||e.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;const l=a.getPosition(),c=a.getRadius();if(Math.abs(Math.round(r.z)-Math.round(l.z))>s+c)continue;const d=bn(r,l),f=s+c;d>f||G9(e,a,n,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function Y9(t,e=!0){await t.addInteractor("particlesCollisions",n=>Promise.resolve(new Q9(n)),e)}const om=2;class X9 extends Lt{constructor(e,n,i,r){super(e,n,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:n,height:i}=this.canvasSize,{x:r,y:s}=e;return super.contains(e)||super.contains({x:r-n,y:s})||super.contains({x:r-n,y:s-i})||super.contains({x:r,y:s-i})}intersects(e){if(super.intersects(e))return!0;const n=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const s=new Lt(r.x,r.y,i.radius*om);return super.intersects(s)}else if(n.size!==void 0){const s=new ri(r.x,r.y,n.size.width*om,n.size.height*om);return super.intersects(s)}return!1}}class Z9{constructor(){this.blur=5,this.color=new Ut,this.color.value="#000",this.enable=!1}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=Ut.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class J9{constructor(){this.enable=!1,this.frequency=1}load(e){e&&(e.color!==void 0&&(this.color=Ut.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class eB{constructor(){this.blink=!1,this.color=new Ut,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new Z9,this.triangles=new J9,this.width=1,this.warp=!1}load(e){e&&(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=Ut.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const oE=2,tB=1,Pu={x:0,y:0},nB=0;function iB(t,e,n,i,r){const{dx:s,dy:o,distance:a}=Xt(t,e);if(!r||a<=n)return a;const l={x:Math.abs(s),y:Math.abs(o)},c={x:Math.min(l.x,i.width-l.x),y:Math.min(l.y,i.height-l.y)};return Math.sqrt(c.x**oE+c.y**oE)}class rB extends s0{constructor(e){super(e),this._setColor=n=>{if(!n.options.links)return;const i=this.linkContainer,r=n.options.links;let s=r.id===void 0?i.particles.linksColor:i.particles.linksColors.get(r.id);if(s)return;const o=r.color;s=IP(o,r.blink,r.consent),r.id===void 0?i.particles.linksColor=s:i.particles.linksColors.set(r.id,s)},this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const n=e.getPosition(),i=this.container,r=i.canvas.size;if(n.x<Pu.x||n.y<Pu.y||n.x>r.width||n.y>r.height)return;const s=e.options.links,o=s.opacity,a=e.retina.linksDistance??nB,l=s.warp;let c;l?c=new X9(n.x,n.y,a,r):c=new Lt(n.x,n.y,a);const d=i.particles.quadTree.query(c);for(const f of d){const p=f.options.links;if(e===f||!(p!=null&&p.enable)||s.id!==p.id||f.spawning||f.destroyed||!f.links||e.links.some(C=>C.destination===f)||f.links.some(C=>C.destination===e))continue;const g=f.getPosition();if(g.x<Pu.x||g.y<Pu.y||g.x>r.width||g.y>r.height)continue;const b=iB(n,g,a,r,l&&p.warp);if(b>a)continue;const _=(tB-b/a)*o;this._setColor(e),e.links.push({destination:f,opacity:_})}}isEnabled(e){var n;return!!((n=e.options.links)!=null&&n.enable)}loadParticlesOptions(e,...n){e.links||(e.links=new eB);for(const i of n)e.links.load(i==null?void 0:i.links)}reset(){}}async function sB(t,e=!0){await t.addInteractor("particlesLinks",async n=>Promise.resolve(new rB(n)),e)}function oB(t,e,n,i){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(i.x,i.y),t.closePath()}function aB(t){let e=!1;const{begin:n,end:i,maxDistance:r,context:s,canvasSize:o,width:a,backgroundMask:l,colorLine:c,opacity:d,links:f}=t;if(bn(n,i)<=r)xl(s,n,i),e=!0;else if(f.warp){let g,b;const _={x:i.x-o.width,y:i.y},C=Xt(n,_);if(C.distance<=r){const E=n.y-C.dy/C.dx*n.x;g={x:0,y:E},b={x:o.width,y:E}}else{const E={x:i.x,y:i.y-o.height},y=Xt(n,E);if(y.distance<=r){const P=-(n.y-y.dy/y.dx*n.x)/(y.dy/y.dx);g={x:P,y:0},b={x:P,y:o.height}}else{const x={x:i.x-o.width,y:i.y-o.height},P=Xt(n,x);if(P.distance<=r){const D=n.y-P.dy/P.dx*n.x;g={x:-D/(P.dy/P.dx),y:D},b={x:g.x+o.width,y:g.y+o.height}}}}g&&b&&(xl(s,n,g),xl(s,i,b),e=!0)}if(!e)return;s.lineWidth=a,l.enable&&(s.globalCompositeOperation=l.composite),s.strokeStyle=zi(c,d);const{shadow:p}=f;if(p.enable){const g=Jn(p.color);g&&(s.shadowBlur=p.blur,s.shadowColor=zi(g))}s.stroke()}function lB(t){const{context:e,pos1:n,pos2:i,pos3:r,backgroundMask:s,colorTriangle:o,opacityTriangle:a}=t;oB(e,n,i,r),s.enable&&(e.globalCompositeOperation=s.composite),e.fillStyle=zi(o,a),e.fill()}function cB(t){return t.sort((e,n)=>e-n),t.join("_")}function aE(t,e){const n=cB(t.map(r=>r.id));let i=e.get(n);return i===void 0&&(i=Ne(),e.set(n,i)),i}const lE=0,am=0,cE=0,uB=.5,dB=1;class hB{constructor(e){this.container=e,this._drawLinkLine=(n,i)=>{const r=n.options.links;if(!(r!=null&&r.enable))return;const s=this.container,o=s.actualOptions,a=i.destination,l=n.getPosition(),c=a.getPosition();let d=i.opacity;s.canvas.draw(f=>{var E;let p;const g=(E=n.options.twinkle)==null?void 0:E.lines;if(g!=null&&g.enable){const y=g.frequency,x=Jn(g.color);Ne()<y&&x&&(p=x,d=ne(g.opacity))}if(!p){const y=r.id!==void 0?s.particles.linksColors.get(r.id):s.particles.linksColor;p=Bg(n,a,y)}if(!p)return;const b=n.retina.linksWidth??am,_=n.retina.linksDistance??cE,{backgroundMask:C}=o;aB({context:f,width:b,begin:l,end:c,maxDistance:_,canvasSize:s.canvas.size,links:r,backgroundMask:C,colorLine:p,opacity:d})})},this._drawLinkTriangle=(n,i,r)=>{const s=n.options.links;if(!(s!=null&&s.enable))return;const o=s.triangles;if(!o.enable)return;const a=this.container,l=a.actualOptions,c=i.destination,d=r.destination,f=o.opacity??(i.opacity+r.opacity)*uB;f<=lE||a.canvas.draw(p=>{const g=n.getPosition(),b=c.getPosition(),_=d.getPosition(),C=n.retina.linksDistance??cE;if(bn(g,b)>C||bn(_,b)>C||bn(_,g)>C)return;let E=Jn(o.color);if(!E){const y=s.id!==void 0?a.particles.linksColors.get(s.id):a.particles.linksColor;E=Bg(n,c,y)}E&&lB({context:p,pos1:g,pos2:b,pos3:_,backgroundMask:l.backgroundMask,colorTriangle:E,opacityTriangle:f})})},this._drawTriangles=(n,i,r,s)=>{var l,c,d;const o=r.destination;if(!((l=n.links)!=null&&l.triangles.enable&&((c=o.options.links)!=null&&c.triangles.enable)))return;const a=(d=o.links)==null?void 0:d.filter(f=>{const p=this._getLinkFrequency(o,f.destination);return o.options.links&&p<=o.options.links.frequency&&s.findIndex(b=>b.destination===f.destination)>=0});if(a!=null&&a.length)for(const f of a){const p=f.destination;this._getTriangleFrequency(i,o,p)>n.links.triangles.frequency||this._drawLinkTriangle(i,r,f)}},this._getLinkFrequency=(n,i)=>aE([n,i],this._freqs.links),this._getTriangleFrequency=(n,i,r)=>aE([n,i,r],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(e,n){const{links:i,options:r}=n;if(!(i!=null&&i.length))return;const s=i.filter(o=>r.links&&(r.links.frequency>=dB||this._getLinkFrequency(n,o.destination)<=r.links.frequency));for(const o of s)this._drawTriangles(r,n,o,s),o.opacity>lE&&(n.retina.linksWidth??am)>am&&this._drawLinkLine(n,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const n=this.container.retina.pixelRatio,{retina:i}=e,{distance:r,width:s}=e.options.links;i.linksDistance=r*n,i.linksWidth=s*n}particleDestroyed(e){e.links=[]}}class fB{constructor(){this.id="links"}getPlugin(e){return Promise.resolve(new hB(e))}loadOptions(){}needsPlugin(){return!0}}async function pB(t,e=!0){const n=new fB;await t.addPlugin(n,e)}async function mB(t,e=!0){await sB(t,e),await pB(t,e)}const gB=180,ku={x:0,y:0},yB=2;function vB(t,e,n){const{context:i}=t,r=n.count.numerator*n.count.denominator,s=n.count.numerator/n.count.denominator,o=gB*(s-yB)/s,a=Math.PI-Or(o);if(i){i.beginPath(),i.translate(e.x,e.y),i.moveTo(ku.x,ku.y);for(let l=0;l<r;l++)i.lineTo(n.length,ku.y),i.translate(n.length,ku.y),i.rotate(a)}}const _B=5;class HP{draw(e){const{particle:n,radius:i}=e,r=this.getCenter(n,i),s=this.getSidesData(n,i);vB(e,r,s)}getSidesCount(e){const n=e.shapeData;return Math.round(ne((n==null?void 0:n.sides)??_B))}}const uE=3.5,dE=2.66,wB=3;class bB extends HP{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,n){return{x:-n/(e.sides/uE),y:-n/(dE/uE)}}getSidesData(e,n){const i=e.sides;return{count:{denominator:1,numerator:i},length:n*dE/(i/wB)}}}const EB=1.66,SB=3,xB=2;class TB extends HP{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,n){return{x:-n,y:n/EB}}getSidesCount(){return SB}getSidesData(e,n){const i=n*xB;return{count:{denominator:2,numerator:3},length:i}}}async function IB(t,e=!0){await t.addShape(new bB,e)}async function CB(t,e=!0){await t.addShape(new TB,e)}async function PB(t,e=!0){await IB(t,e),await CB(t,e)}class kB{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Ee(e.speed)),e.decay!==void 0&&(this.decay=Ee(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class RB extends Ws{constructor(){super(),this.animation=new kB,this.direction=Rn.clockwise,this.path=!1,this.value=0}load(e){e&&(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const qP=2,AB=Math.PI*qP,OB=1,NB=360;class DB{constructor(e){this.container=e}init(e){const n=e.options.rotate;if(!n)return;e.rotate={enable:n.animation.enable,value:Or(ne(n.value)),min:0,max:AB},e.pathRotation=n.path;let i=n.direction;switch(i===Rn.random&&(i=Math.floor(Ne()*qP)>0?Rn.counterClockwise:Rn.clockwise),i){case Rn.counterClockwise:case"counterClockwise":e.rotate.status=nt.decreasing;break;case Rn.clockwise:e.rotate.status=nt.increasing;break}const r=n.animation;r.enable&&(e.rotate.decay=OB-ne(r.decay),e.rotate.velocity=ne(r.speed)/NB*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=Ne())),e.rotation=e.rotate.value}isEnabled(e){const n=e.options.rotate;return n?!e.destroyed&&!e.spawning&&(!!n.value||n.animation.enable||n.path):!1}loadOptions(e,...n){e.rotate||(e.rotate=new RB);for(const i of n)e.rotate.load(i==null?void 0:i.rotate)}update(e,n){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(t0(e,e.rotate,!1,js.none,n),e.rotation=e.rotate.value))}}async function jB(t,e=!0){await t.addParticleUpdater("rotate",n=>Promise.resolve(new DB(n)),e)}const MB=2,LB=Math.sqrt(MB),VB=2;function FB(t){const{context:e,radius:n}=t,i=n/LB,r=i*VB;e.rect(-i,-i,r,r)}const zB=4;class UB{constructor(){this.validTypes=["edge","square"]}draw(e){FB(e)}getSidesCount(){return zB}}async function BB(t,e=!0){await t.addShape(new UB,e)}const $B=2,no={x:0,y:0};function HB(t){const{context:e,particle:n,radius:i}=t,r=n.sides,s=n.starInset??$B;e.moveTo(no.x,no.y-i);for(let o=0;o<r;o++)e.rotate(Math.PI/r),e.lineTo(no.x,no.y-i*s),e.rotate(Math.PI/r),e.lineTo(no.x,no.y-i)}const qB=2,WB=5;class GB{constructor(){this.validTypes=["star"]}draw(e){HB(e)}getSidesCount(e){const n=e.shapeData;return Math.round(ne((n==null?void 0:n.sides)??WB))}particleInit(e,n){const i=n.shapeData;n.starInset=ne((i==null?void 0:i.inset)??qB)}}async function KB(t,e=!0){await t.addShape(new GB,e)}const QB=1;class YB{constructor(e){this.container=e}init(e){var o;const n=this.container,i=e.options,r=Qn(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=ne(r.width)*n.retina.pixelRatio,e.strokeOpacity=ne(r.opacity??QB),e.strokeAnimation=(o=r.color)==null?void 0:o.animation;const s=nc(r.color)??e.getFillColor();s&&(e.strokeColor=CP(s,e.strokeAnimation,n.retina.reduceFactor))}isEnabled(e){const n=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!n&&((i==null?void 0:i.h.value)!==void 0&&i.h.enable||(i==null?void 0:i.s.value)!==void 0&&i.s.enable||(i==null?void 0:i.l.value)!==void 0&&i.l.enable)}update(e,n){this.isEnabled(e)&&PP(e.strokeColor,n)}}async function XB(t,e=!0){await t.addParticleUpdater("strokeColor",n=>Promise.resolve(new YB(n)),e)}async function ZB(t,e=!0){await V9(t,!1),await BU(t,!1),await XU(t,!1),await s5(t,!1),await m5(t,!1),await T5(t,!1),await P5(t,!1),await N5(t,!1),await L5(t,!1),await K5(t,!1),await J5(t,!1),await U9(t,!1),await Y9(t,!1),await mB(t,!1),await OU(),await jU(t,!1),await T9(t,!1),await M9(t,!1),await PB(t,!1),await BB(t,!1),await KB(t,!1),await O9(t,!1),await jB(t,!1),await XB(t,!1),await AU(t,e)}var a0={},ch=function(){return ch=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},ch.apply(this,arguments)},JB=function(){function t(e,n,i){var r=this;this.endVal=n,this.options=i,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(s){r.startTime||(r.startTime=s);var o=s-r.startTime;r.remaining=r.duration-o,r.useEasing?r.countDown?r.frameVal=r.startVal-r.easingFn(o,0,r.startVal-r.endVal,r.duration):r.frameVal=r.easingFn(o,r.startVal,r.endVal-r.startVal,r.duration):r.frameVal=r.startVal+(r.endVal-r.startVal)*(o/r.duration);var a=r.countDown?r.frameVal<r.endVal:r.frameVal>r.endVal;r.frameVal=a?r.endVal:r.frameVal,r.frameVal=Number(r.frameVal.toFixed(r.options.decimalPlaces)),r.printValue(r.frameVal),o<r.duration?r.rAF=requestAnimationFrame(r.count):r.finalEndVal!==null?r.update(r.finalEndVal):r.options.onCompleteCallback&&r.options.onCompleteCallback()},this.formatNumber=function(s){var o,a,l,c,d=s<0?"-":"";o=Math.abs(s).toFixed(r.options.decimalPlaces);var f=(o+="").split(".");if(a=f[0],l=f.length>1?r.options.decimal+f[1]:"",r.options.useGrouping){c="";for(var p=3,g=0,b=0,_=a.length;b<_;++b)r.options.useIndianSeparators&&b===4&&(p=2,g=1),b!==0&&g%p==0&&(c=r.options.separator+c),g++,c=a[_-b-1]+c;a=c}return r.options.numerals&&r.options.numerals.length&&(a=a.replace(/[0-9]/g,function(C){return r.options.numerals[+C]}),l=l.replace(/[0-9]/g,function(C){return r.options.numerals[+C]})),d+r.options.prefix+a+l+r.options.suffix},this.easeOutExpo=function(s,o,a,l){return a*(1-Math.pow(2,-10*s/l))*1024/1023+o},this.options=ch(ch({},this.defaults),i),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(n),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof e=="string"?document.getElementById(e):e,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,e):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return r.handleScroll(r)}),window.onscroll=function(){window.onScrollFns.forEach(function(s){return s()})},this.handleScroll(this)))}return t.prototype.handleScroll=function(e){if(e&&window&&!e.once){var n=window.innerHeight+window.scrollY,i=e.el.getBoundingClientRect(),r=i.top+window.pageYOffset,s=i.top+i.height+window.pageYOffset;s<n&&s>window.scrollY&&e.paused?(e.paused=!1,setTimeout(function(){return e.start()},e.options.scrollSpyDelay),e.options.scrollSpyOnce&&(e.once=!0)):(window.scrollY>s||r>n)&&!e.paused&&e.reset()}},t.prototype.determineDirectionAndSmartEasing=function(){var e=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>e;var n=e-this.startVal;if(Math.abs(n)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=e;var i=this.countDown?1:-1;this.endVal=e+i*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=e,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},t.prototype.start=function(e){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),e&&(this.options.onCompleteCallback=e),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},t.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},t.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},t.prototype.update=function(e){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(e),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},t.prototype.printValue=function(e){var n;if(this.el){var i=this.formattingFn(e);!((n=this.options.plugin)===null||n===void 0)&&n.render?this.options.plugin.render(this.el,i):this.el.tagName==="INPUT"?this.el.value=i:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=i:this.el.innerHTML=i}},t.prototype.ensureNumber=function(e){return typeof e=="number"&&!isNaN(e)},t.prototype.validateValue=function(e){var n=Number(e);return this.ensureNumber(n)?n:(this.error="[CountUp] invalid start or end value: ".concat(e),null)},t.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},t}();const e$=Object.freeze(Object.defineProperty({__proto__:null,CountUp:JB},Symbol.toStringTag,{value:"Module"})),t$=EE(e$);Object.defineProperty(a0,"__esModule",{value:!0});var dt=j,n$=t$;function i$(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,r,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(i=s.call(n)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(d){c=!0,r=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}function hE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function uh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hE(Object(n),!0).forEach(function(i){o$(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function r$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s$(t){var e=r$(t,"string");return typeof e=="symbol"?e:String(e)}function o$(t,e,n){return e=s$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wg(){return Wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Wg.apply(this,arguments)}function a$(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function WP(t,e){if(t==null)return{};var n=a$(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function l$(t,e){return c$(t)||i$(t,e)||u$(t,e)||d$()}function c$(t){if(Array.isArray(t))return t}function u$(t,e){if(t){if(typeof t=="string")return fE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fE(t,e)}}function fE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function d$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?dt.useLayoutEffect:dt.useEffect;function Hn(t){var e=dt.useRef(t);return h$(function(){e.current=t}),dt.useCallback(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.current.apply(void 0,i)},[])}var f$=function(e,n){var i=n.decimal,r=n.decimals,s=n.duration,o=n.easingFn,a=n.end,l=n.formattingFn,c=n.numerals,d=n.prefix,f=n.separator,p=n.start,g=n.suffix,b=n.useEasing,_=n.useGrouping,C=n.useIndianSeparators,E=n.enableScrollSpy,y=n.scrollSpyDelay,x=n.scrollSpyOnce,P=n.plugin;return new n$.CountUp(e,a,{startVal:p,duration:s,decimal:i,decimalPlaces:r,easingFn:o,formattingFn:l,numerals:c,separator:f,prefix:d,suffix:g,plugin:P,useEasing:b,useIndianSeparators:C,useGrouping:_,enableScrollSpy:E,scrollSpyDelay:y,scrollSpyOnce:x})},p$=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],m$={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},GP=function(e){var n=Object.fromEntries(Object.entries(e).filter(function(w){var I=l$(w,2),A=I[1];return A!==void 0})),i=dt.useMemo(function(){return uh(uh({},m$),n)},[e]),r=i.ref,s=i.startOnMount,o=i.enableReinitialize,a=i.delay,l=i.onEnd,c=i.onStart,d=i.onPauseResume,f=i.onReset,p=i.onUpdate,g=WP(i,p$),b=dt.useRef(),_=dt.useRef(),C=dt.useRef(!1),E=Hn(function(){return f$(typeof r=="string"?r:r.current,g)}),y=Hn(function(w){var I=b.current;if(I&&!w)return I;var A=E();return b.current=A,A}),x=Hn(function(){var w=function(){return y(!0).start(function(){l==null||l({pauseResume:P,reset:D,start:T,update:O})})};a&&a>0?_.current=setTimeout(w,a*1e3):w(),c==null||c({pauseResume:P,reset:D,update:O})}),P=Hn(function(){y().pauseResume(),d==null||d({reset:D,start:T,update:O})}),D=Hn(function(){y().el&&(_.current&&clearTimeout(_.current),y().reset(),f==null||f({pauseResume:P,start:T,update:O}))}),O=Hn(function(w){y().update(w),p==null||p({pauseResume:P,reset:D,start:T})}),T=Hn(function(){D(),x()}),S=Hn(function(w){s&&(w&&D(),x())});return dt.useEffect(function(){C.current?o&&S(!0):(C.current=!0,S())},[o,C,S,a,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.formattingFn]),dt.useEffect(function(){return function(){D()}},[D]),{start:T,pauseResume:P,reset:D,update:O,getCountUp:y}},g$=["className","redraw","containerProps","children","style"],y$=function(e){var n=e.className,i=e.redraw,r=e.containerProps,s=e.children,o=e.style,a=WP(e,g$),l=dt.useRef(null),c=dt.useRef(!1),d=GP(uh(uh({},a),{},{ref:l,startOnMount:typeof s!="function"||e.delay===0,enableReinitialize:!1})),f=d.start,p=d.reset,g=d.update,b=d.pauseResume,_=d.getCountUp,C=Hn(function(){f()}),E=Hn(function(P){e.preserveValue||p(),g(P)}),y=Hn(function(){if(typeof e.children=="function"&&!(l.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}_()});dt.useEffect(function(){y()},[y]),dt.useEffect(function(){c.current&&E(e.end)},[e.end,E]);var x=i&&e;return dt.useEffect(function(){i&&c.current&&C()},[C,i,x]),dt.useEffect(function(){!i&&c.current&&C()},[C,i,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.className,e.formattingFn]),dt.useEffect(function(){c.current=!0},[]),typeof s=="function"?s({countUpRef:l,start:f,reset:p,update:g,pauseResume:b,getCountUp:_}):dt.createElement("span",Wg({className:n,ref:l,style:o},r),typeof e.start<"u"?_().formattingFn(e.start):"")},Ru=a0.default=y$;a0.useCountUp=GP;const v$={color:{value:"#151829"}},_$=120,w$={events:{onClick:{enable:!1,mode:"push"},onHover:{enable:!1,mode:"repulse"}},modes:{push:{quantity:4},repulse:{distance:200,duration:.4}}},b$={color:{value:"#ffffff"},move:{direction:"none",enable:!0,outModes:{default:"out"},random:!1,speed:1,straight:!1},number:{density:{enable:!0,area:800},value:888},opacity:{value:{min:0,max:.5},animation:{enable:!0,speed:1,startValue:"random",sync:!1}},shape:{type:"circle"},size:{value:{min:0,max:3}}},E$=!0,S$={background:v$,fpsLimit:_$,interactivity:w$,particles:b$,detectRetina:E$},x$=()=>{const[t,e]=j.useState(0),[n,i]=j.useState(0),[r,s]=j.useState(0),[o,a]=j.useState(!1),l=j.useRef(null);j.useEffect(()=>{(async()=>{try{const p=["residential","commercial","existingBuildingRetrofit","institutional","infrastructure","industrial"];let g=0,b=0;const _=[];for(const x of p){const P=Mt(Le,`${x}-projects`),D=await dn(P);b+=D.size,await Promise.all(D.docs.map(async O=>{const T=O.data(),S=Mt(O.ref,"awards"),I=(await dn(S)).docs.map(A=>({id:A.id,title:A.data().title}));g+=I.length,_.push({id:O.id,type:x,...T,awards:I})}))}const y=new Date().getFullYear()-1994;e(g),i(b),s(y)}catch(p){console.error("Error fetching data: ",p)}})()},[]),j.useEffect(()=>{Yz(async f=>{await ZB(f)})},[]);const c=async f=>{console.log(f)},d=S$;return j.useEffect(()=>{const f=new IntersectionObserver(p=>{p[0].isIntersecting&&(a(!0),f.disconnect())},{threshold:.1});return l.current&&f.observe(l.current),()=>{l.current&&f.unobserve(l.current)}},[]),h.jsxs("div",{className:"achievements-container reveal",ref:l,children:[h.jsx(Qz,{id:"tsparticles",particlesLoaded:c,options:d}),h.jsx("div",{className:"achievements-header",children:"Our Achievements"}),h.jsxs("div",{className:"achievements",children:[h.jsx("div",{className:"circle-wrapper",children:h.jsxs("div",{className:"achievement",children:[h.jsx("img",{className:"icon",src:QF,alt:"Hard Hat Icon"}),h.jsxs("div",{className:"info",children:[h.jsxs("h3",{children:[" ",o&&h.jsx(Ru,{end:1994,duration:2,separator:""})]}),h.jsx("p",{children:"Year Established"})]})]})}),h.jsx("div",{className:"circle-wrapper",children:h.jsxs("div",{className:"achievement",children:[h.jsx("img",{className:"icon",src:XF,alt:"Calendar Icon"}),h.jsxs("div",{className:"info",children:[h.jsxs("h3",{children:[o&&h.jsx(Ru,{end:r,duration:3})," ","years"]}),h.jsx("p",{children:"of Experience"})]})]})}),h.jsx("div",{className:"circle-wrapper",children:h.jsxs("div",{className:"achievement",children:[h.jsx("img",{className:"icon",src:KF,alt:"Building Logo"}),h.jsxs("div",{className:"info",children:[h.jsx("h3",{children:o&&h.jsx(Ru,{end:n,duration:3})}),h.jsx("p",{children:"Number of Projects"})]})]})}),h.jsx("div",{className:"circle-wrapper",children:h.jsxs("div",{className:"achievement",children:[h.jsx("img",{className:"icon",src:YF,alt:"Certificate Logo"}),h.jsxs("div",{className:"info",children:[h.jsx("h3",{children:o&&h.jsx(Ru,{end:t,duration:3})}),h.jsx("p",{children:"Awards Won"})]})]})})]})]})};function T$(){const t=()=>{const n=document.querySelectorAll(".reveal, .reveal-one, .reveal-two, .reveal-three");for(let i=0;i<n.length;i++){const r=window.innerHeight,s=n[i].getBoundingClientRect().top;let o=150;n[i].classList.contains("reveal-one")?o=200:n[i].classList.contains("reveal-two")?o=225:n[i].classList.contains("reveal-three")&&(o=250),s<r-o?n[i].classList.add("active"):n[i].classList.remove("active")}};window.addEventListener("scroll",t),document.addEventListener("DOMContentLoaded",t);const e=()=>{t(),window.addEventListener("scroll",t)};return document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e(),h.jsx(h.Fragment,{children:h.jsxs("div",{children:[h.jsx(bO,{}),h.jsx("div",{className:"container",children:h.jsx(R3,{})}),h.jsx("div",{className:"out-container",children:h.jsx(N3,{})}),h.jsxs("div",{className:"container",children:[h.jsx(DF,{}),h.jsx(jF,{})]}),h.jsx("div",{className:"out-container",children:h.jsx(x$,{})}),h.jsxs("div",{className:"container",children:[h.jsx(FF,{}),h.jsx($F,{})]}),h.jsx("div",{className:"out-container",children:h.jsx(WF,{})}),h.jsx("div",{className:"container",children:h.jsx(GF,{})}),h.jsx("div",{className:"out-container"})]})})}const I$="/BelmacsConstruction/assets/Services-CMBUP-eZ.jpg",C$="/BelmacsConstruction/assets/ContactUs-DK6Wim_J.jpg",P$="/BelmacsConstruction/assets/InstitutionalHero-C7vxuNWx.jpg",k$="/BelmacsConstruction/assets/ExistingBuildingHero-vgE5JS5M.jpg",R$="/BelmacsConstruction/assets/InfrastructureHero-pvsNdrNa.jpg",A$="/BelmacsConstruction/assets/IndustrialHero-DrEPZqF6.jpg",O$=[{title:"Residential",image:I$,path:"residential"},{title:"Commercial",image:C$,path:"commercial"},{title:"Infrastructure",image:R$,path:"infrastructure"},{title:"Existing Building Retrofit",image:k$,path:"existingBuildingRetrofit"},{title:"Institutional",image:P$,path:"institutional"},{title:"Industrial",image:A$,path:"industrial"}];function N$(){const t=Ln(),e=n=>{t(`/projects/${n.path}`,{state:{paramData:n}})};return h.jsxs("div",{className:"project-types",children:[h.jsx("p",{className:"project-types-header",children:"Projects"}),h.jsx("p",{className:"project-types-desc",children:"We are a leading provider of integrated automation and control solutions. Specializing in customized automation systems, the company serves diverse industries such as marine, oil and gas, and industrial sectors. Our offerings include advanced engineering services, innovative automation products, and comprehensive system integration solutions. With a focus on enhancing operational efficiency, we ensure safety and deliver cutting-edge technology tailored to meet specific client needs. With a commitment to quality and reliability, Belmacs stands out as a trusted partner for complex automation and control projects."}),h.jsx("div",{className:"project-types-grid-container",children:O$.map(n=>{var i;return h.jsxs("div",{className:`project-types-grid-item ${(i=n.title)==null?void 0:i.toLowerCase().replace(/ /g,"-")}`,onClick:()=>e(n),children:[h.jsx("div",{className:"title",children:n.title}),h.jsx("div",{className:"overlay",children:h.jsx("div",{className:"box",children:h.jsx("span",{children:"View"})})})]},n.title)})})]})}const df=({imageUrl:t,heroText:e})=>h.jsx("div",{className:"hero-container",children:h.jsx("div",{className:"hero-image",style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), url(${t})`},children:h.jsxs("div",{className:"hero-text",children:[h.jsx("p",{children:e})," "]})})}),D$="/BelmacsConstruction/assets/Hero-CKUGxABN.jpg";function j$(){return h.jsxs("div",{children:[h.jsx(df,{imageUrl:D$,heroText:"Our Projects"}),h.jsx("div",{className:"container",children:h.jsx(N$,{})})]})}const pE=[{title:"Air Conditioning & Mechanical Ventilation",image:"",css:"Air Conditioning and Mechanical Ventilation"},{title:"Plumbing, Sanitary and Gas",image:"",css:"Plumbing Sanitary and Gas"},{title:"Fire Protection",image:"",css:"Fire Protection"},{title:"Swimming Pool Filtration",image:"",css:"Swimming Pool Filtration"},{title:"Electrical and Security",image:"",css:"Electrical and Security"},{title:"Lift and Escalator",image:"",css:"Lift and Escalator"},{title:"Building Management System",image:"",css:"Building Management System"},{title:"Feasibility Studies",image:"",css:"Feasibility Studies"},{title:"Testing and Commissioning",image:"",css:"Testing and Commissioning"},{title:"Authority and Submission",image:"",css:"Authority and Submission"},{title:"Vetting of Tenancy M&E Design",image:"",css:"Vetting of Tenancy ME Design"}];function M$(){return h.jsxs("div",{className:"services",children:[h.jsx("p",{className:"services-header",children:"Services"}),h.jsx("p",{className:"services-desc",children:"We are a leading provider of integrated automation and control solutions. Specializing in customized automation systems, the company serves diverse industries such as marine, oil and gas, and industrial sectors. Our offerings include advanced engineering services, innovative automation products, and comprehensive system integration solutions. With a focus on enhancing operational efficiency, we ensure safety and deliver cutting-edge technology tailored to meet specific client needs. With a commitment to quality and reliability, Belmacs stands out as a trusted partner for complex automation and control projects."}),h.jsx("div",{className:"grid-container-3-cols",children:pE.slice(0,7).map(t=>{var e;return h.jsx("div",{className:`services-grid-item ${(e=t.css)==null?void 0:e.toLowerCase().replace(/ /g,"-")}`,children:h.jsx("div",{className:"overlay",children:t.title})},t.title)})}),h.jsx("div",{className:"grid-container-4-cols",children:pE.slice(7).map(t=>{var e;return h.jsx("div",{className:`services-grid-item ${(e=t.css)==null?void 0:e.toLowerCase().replace(/ /g,"-")}`,children:h.jsx("div",{className:"overlay",children:t.title})},t.title)})})]})}const L$="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='40'%20height='40'%20fill='%23364fc7'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M117.25,157.92a60,60,0,1,0-66.5,0A95.83,95.83,0,0,0,3.53,195.63a8,8,0,1,0,13.4,8.74,80,80,0,0,1,134.14,0,8,8,0,0,0,13.4-8.74A95.83,95.83,0,0,0,117.25,157.92ZM40,108a44,44,0,1,1,44,44A44.05,44.05,0,0,1,40,108Zm210.14,98.7a8,8,0,0,1-11.07-2.33A79.83,79.83,0,0,0,172,168a8,8,0,0,1,0-16,44,44,0,1,0-16.34-84.87,8,8,0,1,1-5.94-14.85,60,60,0,0,1,55.53,105.64,95.83,95.83,0,0,1,47.22,37.71A8,8,0,0,1,250.14,206.7Z'%3e%3c/path%3e%3c/svg%3e",V$="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='40'%20height='40'%20fill='%23364fc7'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M223.45,40.07a8,8,0,0,0-7.52-7.52C139.8,28.08,78.82,51,52.82,94a87.09,87.09,0,0,0-12.76,49c.57,15.92,5.21,32,13.79,47.85l-19.51,19.5a8,8,0,0,0,11.32,11.32l19.5-19.51C81,210.73,97.09,215.37,113,215.94q1.67.06,3.33.06A86.93,86.93,0,0,0,162,203.18C205,177.18,227.93,116.21,223.45,40.07ZM153.75,189.5c-22.75,13.78-49.68,14-76.71.77l88.63-88.62a8,8,0,0,0-11.32-11.32L65.73,179c-13.19-27-13-54,.77-76.71,22.09-36.47,74.6-56.44,141.31-54.06C210.2,114.89,190.22,167.41,153.75,189.5Z'%3e%3c/path%3e%3c/svg%3e",F$="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='40'%20height='40'%20fill='%23364fc7'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H53.39a8,8,0,0,0,7.23-4.57,48,48,0,0,1,86.76,0,8,8,0,0,0,7.23,4.57H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM80,144a24,24,0,1,1,24,24A24,24,0,0,1,80,144Zm136,56H159.43a64.39,64.39,0,0,0-28.83-26.16,40,40,0,1,0-53.2,0A64.39,64.39,0,0,0,48.57,200H40V56H216ZM56,96V80a8,8,0,0,1,8-8H192a8,8,0,0,1,8,8v96a8,8,0,0,1-8,8H176a8,8,0,0,1,0-16h8V88H72v8a8,8,0,0,1-16,0Z'%3e%3c/path%3e%3c/svg%3e",z$="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='40'%20height='40'%20fill='%23364fc7'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M229.66,58.34l-32-32a8,8,0,0,0-11.32,0l-96,96A8,8,0,0,0,88,128v32a8,8,0,0,0,8,8h32a8,8,0,0,0,5.66-2.34l96-96A8,8,0,0,0,229.66,58.34ZM124.69,152H104V131.31l64-64L188.69,88ZM200,76.69,179.31,56,192,43.31,212.69,64ZM224,120v88a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V48A16,16,0,0,1,48,32h88a8,8,0,0,1,0,16H48V208H208V120a8,8,0,0,1,16,0Z'%3e%3c/path%3e%3c/svg%3e",U$="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='40'%20height='40'%20fill='%23364fc7'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M218.3,48.34l-60.68-18.2,30-15A8,8,0,0,0,180.42.85L134,24.05a80.08,80.08,0,0,0-78,80V208a8,8,0,0,0,16,0V176H88v56a16,16,0,0,0,16,16h64a16,16,0,0,0,16-16V104a48.07,48.07,0,0,0-40-47.32V42.75l69.7,20.91a8,8,0,1,0,4.6-15.32ZM72,160V104a64.07,64.07,0,0,1,56-63.48V56.68A48.07,48.07,0,0,0,88,104v56Zm96,72H104V176h64v56Zm0-128v56H104V104a32,32,0,0,1,64,0Z'%3e%3c/path%3e%3c/svg%3e",B$="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='40'%20height='40'%20fill='%23364fc7'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M215.79,118.17a8,8,0,0,0-5-5.66L153.18,90.9l14.66-73.33a8,8,0,0,0-13.69-7l-112,120a8,8,0,0,0,3,13l57.63,21.61L88.16,238.43a8,8,0,0,0,13.69,7l112-120A8,8,0,0,0,215.79,118.17ZM109.37,214l10.47-52.38a8,8,0,0,0-5-9.06L62,132.71l84.62-90.66L136.16,94.43a8,8,0,0,0,5,9.06l52.8,19.8Z'%3e%3c/path%3e%3c/svg%3e",$$=[{title:"Project Management Consultancy",icon:L$},{title:"Green Mark Consultancy",icon:V$},{title:"M&E Registered Inspector",icon:F$},{title:"Fire Certificate Renewal",icon:z$},{title:"Fire Safety Inspection",icon:U$},{title:"Electrical Licensing",icon:B$}];function H$(){return h.jsxs("div",{className:"other-services",children:[h.jsx("p",{className:"other-services-header",children:"Other Services"}),h.jsx("p",{className:"other-services-desc",children:"We are a leading provider of integrated automation and control solutions. Specializing in customized automation systems, the company serves diverse industries such as marine, oil and gas, and industrial sectors. Our offerings include advanced engineering services, innovative automation products, and comprehensive system integration solutions. With a focus on enhancing operational efficiency, we ensure safety and deliver cutting-edge technology tailored to meet specific client needs. With a commitment to quality and reliability, Belmacs stands out as a trusted partner for complex automation and control projects."}),h.jsx("div",{className:"other-services-card-container",children:$$.map(t=>h.jsx("div",{className:"other-services-card",children:h.jsx("div",{className:"other-services-card-background",children:h.jsxs("div",{className:"other-services-card-text",children:[h.jsx("img",{className:"other-services-logo",src:t.icon}),h.jsx("p",{className:"other-services-card-title",children:t.title})]})})},t.title))})]})}const q$="/BelmacsConstruction/assets/Services-CMBUP-eZ.jpg";function W$(){return h.jsxs("div",{children:[h.jsx(df,{imageUrl:q$,heroText:"Our Services"}),h.jsxs("div",{className:"container",children:[h.jsx(M$,{}),h.jsx(H$,{})]})]})}class Rc{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const G$=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},_t={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:G$()},l0=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},K$=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=l0(t);_t.publicKey=n.publicKey,_t.blockHeadless=n.blockHeadless,_t.storageProvider=n.storageProvider,_t.blockList=n.blockList,_t.limitRate=n.limitRate,_t.origin=n.origin||e},KP=async(t,e,n={})=>{const i=await fetch(_t.origin+t,{method:"POST",headers:n,body:e}),r=await i.text(),s=new Rc(i.status,r);if(i.ok)return s;throw s},QP=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Q$=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},YP=t=>t.webdriver||!t.languages||t.languages.length===0,XP=()=>new Rc(451,"Unavailable For Headless Browser"),Y$=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},X$=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},Z$=(t,e)=>t instanceof FormData?t.get(e):t[e],ZP=(t,e)=>{if(X$(t))return!1;Y$(t.list,t.watchVariable);const n=Z$(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},JP=()=>new Rc(403,"Forbidden"),J$=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a string"},eH=async(t,e,n)=>{const i=Number(await n.get(t)||0);return e-Date.now()+i},ek=async(t,e,n)=>{if(!e.throttle||!n)return!1;J$(e.throttle,e.id);const i=e.id||t;return await eH(i,e.throttle,n)>0?!0:(await n.set(i,Date.now().toString()),!1)},tk=()=>new Rc(429,"Too Many Requests"),tH=async(t,e,n,i)=>{const r=l0(i),s=r.publicKey||_t.publicKey,o=r.blockHeadless||_t.blockHeadless,a=_t.storageProvider||r.storageProvider,l={..._t.blockList,...r.blockList},c={..._t.limitRate,...r.limitRate};return o&&YP(navigator)?Promise.reject(XP()):(QP(s,t,e),Q$(n),n&&ZP(l,n)?Promise.reject(JP()):await ek(location.pathname,c,a)?Promise.reject(tk()):KP("/api/v1.0/email/send",JSON.stringify({lib_version:"4.3.3",user_id:s,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},nH=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},iH=t=>typeof t=="string"?document.querySelector(t):t,rH=async(t,e,n,i)=>{const r=l0(i),s=r.publicKey||_t.publicKey,o=r.blockHeadless||_t.blockHeadless,a=_t.storageProvider||r.storageProvider,l={..._t.blockList,...r.blockList},c={..._t.limitRate,...r.limitRate};if(o&&YP(navigator))return Promise.reject(XP());const d=iH(n);QP(s,t,e),nH(d);const f=new FormData(d);return ZP(l,f)?Promise.reject(JP()):await ek(location.pathname,c,a)?Promise.reject(tk()):(f.append("lib_version","4.3.3"),f.append("service_id",t),f.append("template_id",e),f.append("user_id",s),KP("/api/v1.0/email/send-form",f))},sH={init:K$,send:tH,sendForm:rH,EmailJSResponseStatus:Rc};var nk={exports:{}},oH="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",aH=oH,lH=aH;function ik(){}function rk(){}rk.resetWarningCache=ik;var cH=function(){function t(i,r,s,o,a,l){if(l!==lH){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:rk,resetWarningCache:ik};return n.PropTypes=n,n};nk.exports=cH();var uH=nk.exports;const nn=lc(uH);var dH=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function Gg(){return Gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Gg.apply(this,arguments)}function hH(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function Au(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fH(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Kg(t,e)}function Kg(t,e){return Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Kg(t,e)}var hf=function(t){fH(e,t);function e(){var i;return i=t.call(this)||this,i.handleExpired=i.handleExpired.bind(Au(i)),i.handleErrored=i.handleErrored.bind(Au(i)),i.handleChange=i.handleChange.bind(Au(i)),i.handleRecaptchaRef=i.handleRecaptchaRef.bind(Au(i)),i}var n=e.prototype;return n.getCaptchaFunction=function(r){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[r]:this.props.grecaptcha[r]:null},n.getValue=function(){var r=this.getCaptchaFunction("getResponse");return r&&this._widgetId!==void 0?r(this._widgetId):null},n.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},n.execute=function(){var r=this.getCaptchaFunction("execute");if(r&&this._widgetId!==void 0)return r(this._widgetId);this._executeRequested=!0},n.executeAsync=function(){var r=this;return new Promise(function(s,o){r.executionResolve=s,r.executionReject=o,r.execute()})},n.reset=function(){var r=this.getCaptchaFunction("reset");r&&this._widgetId!==void 0&&r(this._widgetId)},n.forceReset=function(){var r=this.getCaptchaFunction("reset");r&&r()},n.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},n.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},n.handleChange=function(r){this.props.onChange&&this.props.onChange(r),this.executionResolve&&(this.executionResolve(r),delete this.executionReject,delete this.executionResolve)},n.explicitRender=function(){var r=this.getCaptchaFunction("render");if(r&&this._widgetId===void 0){var s=document.createElement("div");this._widgetId=r(s,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(s)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},n.componentDidMount=function(){this.explicitRender()},n.componentDidUpdate=function(){this.explicitRender()},n.handleRecaptchaRef=function(r){this.captcha=r},n.render=function(){var r=this.props;r.sitekey,r.onChange,r.theme,r.type,r.tabindex,r.onExpired,r.onErrored,r.size,r.stoken,r.grecaptcha,r.badge,r.hl,r.isolated;var s=hH(r,dH);return j.createElement("div",Gg({},s,{ref:this.handleRecaptchaRef}))},e}(j.Component);hf.displayName="ReCAPTCHA";hf.propTypes={sitekey:nn.string.isRequired,onChange:nn.func,grecaptcha:nn.object,theme:nn.oneOf(["dark","light"]),type:nn.oneOf(["image","audio"]),tabindex:nn.number,onExpired:nn.func,onErrored:nn.func,size:nn.oneOf(["compact","normal","invisible"]),stoken:nn.string,hl:nn.string,badge:nn.oneOf(["bottomright","bottomleft","inline"]),isolated:nn.bool};hf.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var sk={exports:{}},Te={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pt=typeof Symbol=="function"&&Symbol.for,c0=pt?Symbol.for("react.element"):60103,u0=pt?Symbol.for("react.portal"):60106,ff=pt?Symbol.for("react.fragment"):60107,pf=pt?Symbol.for("react.strict_mode"):60108,mf=pt?Symbol.for("react.profiler"):60114,gf=pt?Symbol.for("react.provider"):60109,yf=pt?Symbol.for("react.context"):60110,d0=pt?Symbol.for("react.async_mode"):60111,vf=pt?Symbol.for("react.concurrent_mode"):60111,_f=pt?Symbol.for("react.forward_ref"):60112,wf=pt?Symbol.for("react.suspense"):60113,pH=pt?Symbol.for("react.suspense_list"):60120,bf=pt?Symbol.for("react.memo"):60115,Ef=pt?Symbol.for("react.lazy"):60116,mH=pt?Symbol.for("react.block"):60121,gH=pt?Symbol.for("react.fundamental"):60117,yH=pt?Symbol.for("react.responder"):60118,vH=pt?Symbol.for("react.scope"):60119;function Tn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case c0:switch(t=t.type,t){case d0:case vf:case ff:case mf:case pf:case wf:return t;default:switch(t=t&&t.$$typeof,t){case yf:case _f:case Ef:case bf:case gf:return t;default:return e}}case u0:return e}}}function ok(t){return Tn(t)===vf}Te.AsyncMode=d0;Te.ConcurrentMode=vf;Te.ContextConsumer=yf;Te.ContextProvider=gf;Te.Element=c0;Te.ForwardRef=_f;Te.Fragment=ff;Te.Lazy=Ef;Te.Memo=bf;Te.Portal=u0;Te.Profiler=mf;Te.StrictMode=pf;Te.Suspense=wf;Te.isAsyncMode=function(t){return ok(t)||Tn(t)===d0};Te.isConcurrentMode=ok;Te.isContextConsumer=function(t){return Tn(t)===yf};Te.isContextProvider=function(t){return Tn(t)===gf};Te.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===c0};Te.isForwardRef=function(t){return Tn(t)===_f};Te.isFragment=function(t){return Tn(t)===ff};Te.isLazy=function(t){return Tn(t)===Ef};Te.isMemo=function(t){return Tn(t)===bf};Te.isPortal=function(t){return Tn(t)===u0};Te.isProfiler=function(t){return Tn(t)===mf};Te.isStrictMode=function(t){return Tn(t)===pf};Te.isSuspense=function(t){return Tn(t)===wf};Te.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ff||t===vf||t===mf||t===pf||t===wf||t===pH||typeof t=="object"&&t!==null&&(t.$$typeof===Ef||t.$$typeof===bf||t.$$typeof===gf||t.$$typeof===yf||t.$$typeof===_f||t.$$typeof===gH||t.$$typeof===yH||t.$$typeof===vH||t.$$typeof===mH)};Te.typeOf=Tn;sk.exports=Te;var _H=sk.exports,h0=_H,wH={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},bH={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},EH={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ak={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},f0={};f0[h0.ForwardRef]=EH;f0[h0.Memo]=ak;function mE(t){return h0.isMemo(t)?ak:f0[t.$$typeof]||wH}var SH=Object.defineProperty,xH=Object.getOwnPropertyNames,gE=Object.getOwnPropertySymbols,TH=Object.getOwnPropertyDescriptor,IH=Object.getPrototypeOf,yE=Object.prototype;function lk(t,e,n){if(typeof e!="string"){if(yE){var i=IH(e);i&&i!==yE&&lk(t,i,n)}var r=xH(e);gE&&(r=r.concat(gE(e)));for(var s=mE(t),o=mE(e),a=0;a<r.length;++a){var l=r[a];if(!bH[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var c=TH(e,l);try{SH(t,l,c)}catch{}}}}return t}var CH=lk;const PH=lc(CH);function Qg(){return Qg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Qg.apply(this,arguments)}function kH(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function RH(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Un={},AH=0;function OH(t,e){return e=e||{},function(i){var r=i.displayName||i.name||"Component",s=function(a){RH(l,a);function l(d,f){var p;return p=a.call(this,d,f)||this,p.state={},p.__scriptURL="",p}var c=l.prototype;return c.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+AH++),this.__scriptLoaderID},c.setupScriptURL=function(){return this.__scriptURL=typeof t=="function"?t():t,this.__scriptURL},c.asyncScriptLoaderHandleLoad=function(f){var p=this;this.setState(f,function(){return p.props.asyncScriptOnLoad&&p.props.asyncScriptOnLoad(p.state)})},c.asyncScriptLoaderTriggerOnScriptLoaded=function(){var f=Un[this.__scriptURL];if(!f||!f.loaded)throw new Error("Script is not loaded.");for(var p in f.observers)f.observers[p](f);delete window[e.callbackName]},c.componentDidMount=function(){var f=this,p=this.setupScriptURL(),g=this.asyncScriptLoaderGetScriptLoaderID(),b=e,_=b.globalName,C=b.callbackName,E=b.scriptId;if(_&&typeof window[_]<"u"&&(Un[p]={loaded:!0,observers:{}}),Un[p]){var y=Un[p];if(y&&(y.loaded||y.errored)){this.asyncScriptLoaderHandleLoad(y);return}y.observers[g]=function(T){return f.asyncScriptLoaderHandleLoad(T)};return}var x={};x[g]=function(T){return f.asyncScriptLoaderHandleLoad(T)},Un[p]={loaded:!1,observers:x};var P=document.createElement("script");P.src=p,P.async=!0;for(var D in e.attributes)P.setAttribute(D,e.attributes[D]);E&&(P.id=E);var O=function(S){if(Un[p]){var w=Un[p],I=w.observers;for(var A in I)S(I[A])&&delete I[A]}};C&&typeof window<"u"&&(window[C]=function(){return f.asyncScriptLoaderTriggerOnScriptLoaded()}),P.onload=function(){var T=Un[p];T&&(T.loaded=!0,O(function(S){return C?!1:(S(T),!0)}))},P.onerror=function(){var T=Un[p];T&&(T.errored=!0,O(function(S){return S(T),!0}))},document.body.appendChild(P)},c.componentWillUnmount=function(){var f=this.__scriptURL;if(e.removeOnUnmount===!0)for(var p=document.getElementsByTagName("script"),g=0;g<p.length;g+=1)p[g].src.indexOf(f)>-1&&p[g].parentNode&&p[g].parentNode.removeChild(p[g]);var b=Un[f];b&&(delete b.observers[this.asyncScriptLoaderGetScriptLoaderID()],e.removeOnUnmount===!0&&delete Un[f])},c.render=function(){var f=e.globalName,p=this.props;p.asyncScriptOnLoad;var g=p.forwardedRef,b=kH(p,["asyncScriptOnLoad","forwardedRef"]);return f&&typeof window<"u"&&(b[f]=typeof window[f]<"u"?window[f]:void 0),b.ref=g,j.createElement(i,b)},l}(j.Component),o=j.forwardRef(function(a,l){return j.createElement(s,Qg({},a,{forwardedRef:l}))});return o.displayName="AsyncScriptLoader("+r+")",o.propTypes={asyncScriptOnLoad:nn.func},PH(o,i)}}var Yg="onloadcallback",NH="grecaptcha";function Xg(){return typeof window<"u"&&window.recaptchaOptions||{}}function DH(){var t=Xg(),e=t.useRecaptchaNet?"recaptcha.net":"www.google.com";return t.enterprise?"https://"+e+"/recaptcha/enterprise.js?onload="+Yg+"&render=explicit":"https://"+e+"/recaptcha/api.js?onload="+Yg+"&render=explicit"}const jH=OH(DH,{callbackName:Yg,globalName:NH,attributes:Xg().nonce?{nonce:Xg().nonce}:{}})(hf),MH="/BelmacsConstruction/assets/mainbox-Z90mOpfv.svg",LH=()=>{const t=j.useRef(null),[e,n]=j.useState(""),[i,r]=j.useState(""),[s,o]=j.useState(""),[a,l]=j.useState(""),[c,d]=j.useState(!1),f=k=>{if(e&&i&&s&&a&&k&&c){const M=document.querySelector(".submit-button");M&&M.classList.add("enabled")}},[p,g]=j.useState(""),[b,_]=j.useState(""),[C,E]=j.useState(""),[y,x]=j.useState(""),[P,D]=j.useState(""),O=()=>e?(g(""),!0):(g("Name is required"),!1),T=()=>{const k=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(i){if(!k.test(i))return _("Please enter a valid email address"),!1}else return _("Email Address is required"),!1;return _(""),!0},S=()=>s?(E(""),!0):(E("Enquiry Type is required"),!1),w=()=>a?(x(""),!0):(x("Message is required"),!1),I=()=>c?(D(""),!0):(D("You must consent to the processing and sharing of your personal data"),!1),A=()=>{const k=O(),M=T(),L=S(),z=w(),U=I();return k&&M&&L&&z&&U},N=k=>{k.preventDefault(),A()?console.log("Form submitted"):console.log("Form validation failed"),t.current&&sH.sendForm("service_qg5cvnh","template_mwoj0us",t.current,"vxGlYoV0lBJb0JYi2").then(()=>{console.log("SUCCESS!");const M=document.querySelector(".form-ctr"),L=document.querySelector(".on-submit-ctr");M&&L&&(M.classList.add("hidden"),L.classList.add("message-appear"))},M=>{console.log("FAILED...",M.text)})};return h.jsxs("div",{children:[h.jsxs("div",{className:"company-info-ctr",children:[h.jsx("p",{className:"singapore-header",children:"Singapore"}),h.jsxs("p",{className:"company-address",children:["2 Leng Kee Road #03-08",h.jsx("br",{}),"Thye Hong Centre",h.jsx("br",{}),"Singapore 159086"]})]}),h.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d31910.443477732275!2d103.77878131083983!3d1.2910719999999982!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31da1a2c8fcb8bcf%3A0x686207b4efd1b40!2sBELMACS%20Pte%20Ltd!5e0!3m2!1sen!2ssg!4v1686929055442!5m2!1sen!2ssg",loading:"lazy",width:"100%",style:{border:0},allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade",className:"google-maps"}),h.jsx("div",{className:"form-ctr",children:h.jsx("form",{ref:t,onSubmit:N,id:"form",children:h.jsxs("div",{children:[h.jsx("div",{className:"contact-header",children:"Contact Us"}),h.jsx("input",{type:"checkbox",name:"botcheck",style:{display:"none"}}),h.jsxs("div",{children:[h.jsx("p",{className:"field-label",children:"Full Name"}),h.jsx("br",{}),h.jsx("input",{type:"text",name:"name",id:"name",value:e,onChange:k=>n(k.target.value),onBlur:O,placeholder:"Enter your name",required:!0}),p&&h.jsx("p",{className:"form-error",children:p})]}),h.jsxs("div",{children:[h.jsx("p",{className:"field-label",children:"Email Address"}),h.jsx("br",{}),h.jsx("input",{type:"email",name:"email",id:"email",value:i,onChange:k=>r(k.target.value),onBlur:T,placeholder:"you@mail.com",required:!0}),b&&h.jsx("p",{className:"form-error",children:b})]}),h.jsxs("div",{children:[h.jsx("p",{className:"field-label",children:"Enquiry Type"}),h.jsx("br",{}),h.jsxs("select",{name:"enquiry-type",id:"enquiry-type",className:"enquiry-dropdown",value:s,onChange:k=>o(k.target.value),onBlur:S,required:!0,children:[h.jsx("option",{value:"",disabled:!0,children:"Select Enquiry Type"}),h.jsx("option",{value:"general",children:"General"}),h.jsx("option",{value:"support",children:"Support"}),h.jsx("option",{value:"sales",children:"Sales"}),h.jsx("option",{value:"feedback",children:"Feedback"})]}),C&&h.jsx("p",{className:"form-error",children:C})]}),h.jsxs("div",{children:[h.jsx("p",{className:"field-label",children:"Message"}),h.jsx("br",{}),h.jsx("textarea",{rows:5,name:"message",id:"message",value:a,onChange:k=>l(k.target.value),onBlur:w,placeholder:"Enter your message",className:"message-field",required:!0}),y&&h.jsx("p",{className:"form-error",children:y})]}),h.jsxs("div",{className:"checkbox-ctr",children:[h.jsx("input",{type:"checkbox",checked:c,onChange:k=>d(k.target.checked),onBlur:I,className:"checkbox"}),h.jsx("p",{className:"checkbox-text",children:"By checking this box, you consent to the processing and sharing of your personal data for the purposes of addressing your specified queries"})]}),P&&h.jsx("p",{className:"form-error",children:P}),h.jsx(jH,{sitekey:"6Lf9YPIpAAAAAFnSu5xNGs-Ib8-BT88I9UnZf5ib",onChange:f,className:"recaptcha"}),h.jsx("button",{type:"submit",className:"submit-button",children:"Send Message"})]})})}),h.jsxs("div",{className:"on-submit-ctr",children:[h.jsx("img",{className:"mailbox",src:MH}),h.jsxs("p",{className:"on-submit-text",children:["Thank you for your submission. ",h.jsx("br",{})," A confirmation email has been sent to the provided email address."," "]})]})]})},VH="/BelmacsConstruction/assets/ContactUs-DK6Wim_J.jpg";function FH(){return h.jsxs("div",{children:[h.jsx(df,{imageUrl:VH,heroText:"Contact Us"}),h.jsx("div",{className:"container",children:h.jsx(LH,{})})]})}var ck={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vE=de.createContext&&de.createContext(ck),zH=["attr","size","title"];function UH(t,e){if(t==null)return{};var n=BH(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function BH(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function dh(){return dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},dh.apply(this,arguments)}function _E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function hh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_E(Object(n),!0).forEach(function(i){$H(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function $H(t,e,n){return e=HH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HH(t){var e=qH(t,"string");return typeof e=="symbol"?e:e+""}function qH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uk(t){return t&&t.map((e,n)=>de.createElement(e.tag,hh({key:n},e.attr),uk(e.child)))}function WH(t){return e=>de.createElement(GH,dh({attr:hh({},t.attr)},e),uk(t.child))}function GH(t){var e=n=>{var{attr:i,size:r,title:s}=t,o=UH(t,zH),a=r||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),de.createElement("svg",dh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,o,{className:l,style:hh(hh({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&de.createElement("title",null,s),t.children)};return vE!==void 0?de.createElement(vE.Consumer,null,n=>e(n)):e(ck)}function KH(t){return WH({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}const QH=()=>{const[t,e]=j.useState([]),[n,i]=j.useState([]),[r,s]=j.useState(6),{type:o}=Ah(),a=_i(),{paramData:l}=a.state||{},c=j.useRef(null),d=j.useRef(null),[f,p]=j.useState(!1),[g,b]=j.useState(null),[_,C]=j.useState(!1);j.useEffect(()=>{const P=async O=>{const T=Mt(Le,`${o}-projects`,O,"awards");return(await dn(T)).docs.map(w=>w.id)};(async()=>{if(o)try{const O=await dn(Mt(Le,`${o}-projects`)),T=[];for(const S of O.docs){const w=S.data(),I=await P(S.id);T.push({id:S.id,...w,awards:I})}T.sort((S,w)=>{const I=new Date(S.completion);return new Date(w.completion)-I}),e(T),i(T.slice(0,r))}catch(O){console.error("Error fetching projects: ",O)}})()},[o]);const E=()=>{s(P=>P+6)};j.useEffect(()=>{i(t.slice(0,r))},[t,r]),j.useEffect(()=>(c.current&&c.current.disconnect(),c.current=new IntersectionObserver(P=>{P[0].isIntersecting&&(r<t.length?E():(C(!0),setTimeout(()=>{C(!1)},1500)))}),d.current&&c.current.observe(d.current),()=>{var P;return(P=c.current)==null?void 0:P.disconnect()}),[r,t.length]);const y=P=>{b(P),p(!0),document.body.classList.add("no-scroll")},x=()=>{p(!1),b(null),document.body.classList.remove("no-scroll")};return h.jsxs("div",{className:"projects-individual",children:[h.jsx(df,{imageUrl:l.image,heroText:l.title==="Existing Building Retrofit"?l.title:l.title+" Projects"}),h.jsxs("div",{className:"projects-individual-container",children:[h.jsx("div",{className:"projects-individual-grid-container",children:n.map(P=>h.jsxs("div",{className:"project-individual-card",onClick:()=>y(P),children:[h.jsx("img",{className:"project-individual-img",src:P.image,alt:P.name+" images"}),h.jsx("p",{className:"project-individual-title",children:P.name})]},P.id))}),h.jsx("div",{ref:d,className:`sentinel ${_?"":"sentinel-hidden"}`,children:_&&h.jsxs(h.Fragment,{children:[h.jsx(KH,{className:"sentinel-icon"}),h.jsx("p",{children:"All projects displayed"})]})})]}),f&&g&&h.jsx("div",{className:"project-popup",onClick:x,children:h.jsxs("div",{className:"project-popup-content",onClick:P=>P.stopPropagation(),children:[h.jsx("span",{className:"close-btn",onClick:x,children:""}),h.jsxs("div",{className:"project-popup-header",children:[h.jsx("img",{src:g.image,alt:g.name}),h.jsxs("div",{className:"project-popup-info",children:[h.jsx("div",{className:"project-popup-name",children:g.name}),g.type&&h.jsxs("div",{className:"project-popup-buildingtype",children:[h.jsxs("p",{style:{color:"#364FC7"},children:["Building Type: ",h.jsx("br",{})]}),g.type]}),g.location&&h.jsxs("div",{className:"project-popup-location",children:[h.jsxs("p",{style:{color:"#364FC7"},children:["Location: ",h.jsx("br",{})]}),g.location]}),g.developer&&h.jsxs("div",{className:"project-popup-developer",children:[h.jsxs("p",{style:{color:"#364FC7"},children:["Developer: ",h.jsx("br",{})]}),g.developer]}),g.client&&h.jsxs("div",{className:"project-popup-client",children:[h.jsxs("p",{style:{color:"#364FC7"},children:["Client: ",h.jsx("br",{})]}),g.client]}),g.awards&&g.awards.length>0&&h.jsxs("div",{className:"project-popup-awards",children:[h.jsxs("p",{style:{color:"#364FC7"},children:["Awards: ",h.jsx("br",{})]}),g.awards.map((P,D)=>h.jsxs(de.Fragment,{children:["- ",P,h.jsx("br",{})]},D))]}),g.completion&&h.jsxs("div",{className:"project-popup-completion",children:[h.jsxs("p",{style:{color:"#364FC7"},children:["Completion: ",h.jsx("br",{})]}),g.completion]})]})]})]})})]})};function dk(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=dk(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function vr(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=dk(t))&&(i&&(i+=" "),i+=e);return i}const oc=t=>typeof t=="number"&&!isNaN(t),ws=t=>typeof t=="string",_n=t=>typeof t=="function",rd=t=>ws(t)||_n(t)?t:null,Zg=t=>j.isValidElement(t)||ws(t)||_n(t)||oc(t);function YH(t,e,n){n===void 0&&(n=300);const{scrollHeight:i,style:r}=t;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${n}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,n)})})}function Sf(t){let{enter:e,exit:n,appendPosition:i=!1,collapse:r=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:c,done:d,nodeRef:f,isIn:p,playToast:g}=o;const b=i?`${e}--${l}`:e,_=i?`${n}--${l}`:n,C=j.useRef(0);return j.useLayoutEffect(()=>{const E=f.current,y=b.split(" "),x=P=>{P.target===f.current&&(g(),E.removeEventListener("animationend",x),E.removeEventListener("animationcancel",x),C.current===0&&P.type!=="animationcancel"&&E.classList.remove(...y))};E.classList.add(...y),E.addEventListener("animationend",x),E.addEventListener("animationcancel",x)},[]),j.useEffect(()=>{const E=f.current,y=()=>{E.removeEventListener("animationend",y),r?YH(E,d,s):d()};p||(c?y():(C.current=1,E.className+=` ${_}`,E.addEventListener("animationend",y)))},[p]),de.createElement(de.Fragment,null,a)}}function wE(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Qt=new Map;let ac=[];const Jg=new Set,XH=t=>Jg.forEach(e=>e(t)),hk=()=>Qt.size>0;function fk(t,e){var n;if(e)return!((n=Qt.get(e))==null||!n.isToastActive(t));let i=!1;return Qt.forEach(r=>{r.isToastActive(t)&&(i=!0)}),i}function pk(t,e){Zg(t)&&(hk()||ac.push({content:t,options:e}),Qt.forEach(n=>{n.buildToast(t,e)}))}function bE(t,e){Qt.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function ZH(t){const{subscribe:e,getSnapshot:n,setProps:i}=j.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const l=function(d,f,p){let g=1,b=0,_=[],C=[],E=[],y=f;const x=new Map,P=new Set,D=()=>{E=Array.from(x.values()),P.forEach(S=>S())},O=S=>{C=S==null?[]:C.filter(w=>w!==S),D()},T=S=>{const{toastId:w,onOpen:I,updateId:A,children:N}=S.props,k=A==null;S.staleId&&x.delete(S.staleId),x.set(w,S),C=[...C,S.props.toastId].filter(M=>M!==S.staleId),D(),p(wE(S,k?"added":"updated")),k&&_n(I)&&I(j.isValidElement(N)&&N.props)};return{id:d,props:y,observe:S=>(P.add(S),()=>P.delete(S)),toggle:(S,w)=>{x.forEach(I=>{w!=null&&w!==I.props.toastId||_n(I.toggle)&&I.toggle(S)})},removeToast:O,toasts:x,clearQueue:()=>{b-=_.length,_=[]},buildToast:(S,w)=>{if((ee=>{let{containerId:Y,toastId:le,updateId:ve}=ee;const Ve=Y?Y!==d:d!==1,Fe=x.has(le)&&ve==null;return Ve||Fe})(w))return;const{toastId:I,updateId:A,data:N,staleId:k,delay:M}=w,L=()=>{O(I)},z=A==null;z&&b++;const U={...y,style:y.toastStyle,key:g++,...Object.fromEntries(Object.entries(w).filter(ee=>{let[Y,le]=ee;return le!=null})),toastId:I,updateId:A,data:N,closeToast:L,isIn:!1,className:rd(w.className||y.toastClassName),bodyClassName:rd(w.bodyClassName||y.bodyClassName),progressClassName:rd(w.progressClassName||y.progressClassName),autoClose:!w.isLoading&&(F=w.autoClose,$=y.autoClose,F===!1||oc(F)&&F>0?F:$),deleteToast(){const ee=x.get(I),{onClose:Y,children:le}=ee.props;_n(Y)&&Y(j.isValidElement(le)&&le.props),p(wE(ee,"removed")),x.delete(I),b--,b<0&&(b=0),_.length>0?T(_.shift()):D()}};var F,$;U.closeButton=y.closeButton,w.closeButton===!1||Zg(w.closeButton)?U.closeButton=w.closeButton:w.closeButton===!0&&(U.closeButton=!Zg(y.closeButton)||y.closeButton);let G=S;j.isValidElement(S)&&!ws(S.type)?G=j.cloneElement(S,{closeToast:L,toastProps:U,data:N}):_n(S)&&(G=S({closeToast:L,toastProps:U,data:N}));const J={content:G,props:U,staleId:k};y.limit&&y.limit>0&&b>y.limit&&z?_.push(J):oc(M)?setTimeout(()=>{T(J)},M):T(J)},setProps(S){y=S},setToggle:(S,w)=>{x.get(S).toggle=w},isToastActive:S=>C.some(w=>w===S),getSnapshot:()=>y.newestOnTop?E.reverse():E}}(o,s,XH);Qt.set(o,l);const c=l.observe(a);return ac.forEach(d=>pk(d.content,d.options)),ac=[],()=>{c(),Qt.delete(o)}},setProps(a){var l;(l=Qt.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=Qt.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;i(t);const r=j.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!r)return[];const o=new Map;return r.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:fk,count:r==null?void 0:r.length}}function JH(t){const[e,n]=j.useState(!1),[i,r]=j.useState(!1),s=j.useRef(null),o=j.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:d,closeOnClick:f}=t;var p,g;function b(){n(!0)}function _(){n(!1)}function C(x){const P=s.current;o.canDrag&&P&&(o.didMove=!0,e&&_(),o.delta=t.draggableDirection==="x"?x.clientX-o.start:x.clientY-o.start,o.start!==x.clientX&&(o.canCloseOnClick=!1),P.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,P.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function E(){document.removeEventListener("pointermove",C),document.removeEventListener("pointerup",E);const x=s.current;if(o.canDrag&&o.didMove&&x){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return r(!0),t.closeToast(),void t.collapseAll();x.style.transition="transform 0.2s, opacity 0.2s",x.style.removeProperty("transform"),x.style.removeProperty("opacity")}}(g=Qt.get((p={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||g.setToggle(p.id,p.fn),j.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||_(),window.addEventListener("focus",b),window.addEventListener("blur",_),()=>{window.removeEventListener("focus",b),window.removeEventListener("blur",_)}},[t.pauseOnFocusLoss]);const y={onPointerDown:function(x){if(t.draggable===!0||t.draggable===x.pointerType){o.didMove=!1,document.addEventListener("pointermove",C),document.addEventListener("pointerup",E);const P=s.current;o.canCloseOnClick=!0,o.canDrag=!0,P.style.transition="none",t.draggableDirection==="x"?(o.start=x.clientX,o.removalDistance=P.offsetWidth*(t.draggablePercent/100)):(o.start=x.clientY,o.removalDistance=P.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(x){const{top:P,bottom:D,left:O,right:T}=s.current.getBoundingClientRect();x.nativeEvent.type!=="touchend"&&t.pauseOnHover&&x.clientX>=O&&x.clientX<=T&&x.clientY>=P&&x.clientY<=D?_():b()}};return a&&l&&(y.onMouseEnter=_,t.stacked||(y.onMouseLeave=b)),f&&(y.onClick=x=>{d&&d(x),o.canCloseOnClick&&c()}),{playToast:b,pauseToast:_,isRunning:e,preventExitTransition:i,toastRef:s,eventHandlers:y}}function eq(t){let{delay:e,isRunning:n,closeToast:i,type:r="default",hide:s,className:o,style:a,controlledProgress:l,progress:c,rtl:d,isIn:f,theme:p}=t;const g=s||l&&c===0,b={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(b.transform=`scaleX(${c})`);const _=vr("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":d}),C=_n(o)?o({rtl:d,type:r,defaultClassName:_}):vr(_,o),E={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{f&&i()}};return de.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},de.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${r}`}),de.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:C,style:b,...E}))}let tq=1;const mk=()=>""+tq++;function nq(t){return t&&(ws(t.toastId)||oc(t.toastId))?t.toastId:mk()}function Tl(t,e){return pk(t,e),e.toastId}function fh(t,e){return{...e,type:e&&e.type||t,toastId:nq(e)}}function Ou(t){return(e,n)=>Tl(e,fh(t,n))}function ae(t,e){return Tl(t,fh("default",e))}ae.loading=(t,e)=>Tl(t,fh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),ae.promise=function(t,e,n){let i,{pending:r,error:s,success:o}=e;r&&(i=ws(r)?ae.loading(r,n):ae.loading(r.render,{...n,...r}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,f,p)=>{if(f==null)return void ae.dismiss(i);const g={type:d,...a,...n,data:p},b=ws(f)?{render:f}:f;return i?ae.update(i,{...g,...b}):ae(b.render,{...g,...b}),p},c=_n(t)?t():t;return c.then(d=>l("success",o,d)).catch(d=>l("error",s,d)),c},ae.success=Ou("success"),ae.info=Ou("info"),ae.error=Ou("error"),ae.warning=Ou("warning"),ae.warn=ae.warning,ae.dark=(t,e)=>Tl(t,fh("default",{theme:"dark",...e})),ae.dismiss=function(t){(function(e){var n;if(hk()){if(e==null||ws(n=e)||oc(n))Qt.forEach(i=>{i.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const i=Qt.get(e.containerId);i?i.removeToast(e.id):Qt.forEach(r=>{r.removeToast(e.id)})}}else ac=ac.filter(i=>e!=null&&i.options.toastId!==e)})(t)},ae.clearWaitingQueue=function(t){t===void 0&&(t={}),Qt.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},ae.isActive=fk,ae.update=function(t,e){e===void 0&&(e={});const n=((i,r)=>{var s;let{containerId:o}=r;return(s=Qt.get(o||1))==null?void 0:s.toasts.get(i)})(t,e);if(n){const{props:i,content:r}=n,s={delay:100,...i,...e,toastId:e.toastId||t,updateId:mk()};s.toastId!==t&&(s.staleId=t);const o=s.render||r;delete s.render,Tl(o,s)}},ae.done=t=>{ae.update(t,{progress:1})},ae.onChange=function(t){return Jg.add(t),()=>{Jg.delete(t)}},ae.play=t=>bE(!0,t),ae.pause=t=>bE(!1,t);const iq=typeof window<"u"?j.useLayoutEffect:j.useEffect,Nu=t=>{let{theme:e,type:n,isLoading:i,...r}=t;return de.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},lm={info:function(t){return de.createElement(Nu,{...t},de.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return de.createElement(Nu,{...t},de.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return de.createElement(Nu,{...t},de.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return de.createElement(Nu,{...t},de.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return de.createElement("div",{className:"Toastify__spinner"})}},rq=t=>{const{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:r,playToast:s}=JH(t),{closeButton:o,children:a,autoClose:l,onClick:c,type:d,hideProgressBar:f,closeToast:p,transition:g,position:b,className:_,style:C,bodyClassName:E,bodyStyle:y,progressClassName:x,progressStyle:P,updateId:D,role:O,progress:T,rtl:S,toastId:w,deleteToast:I,isIn:A,isLoading:N,closeOnClick:k,theme:M}=t,L=vr("Toastify__toast",`Toastify__toast-theme--${M}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":k}),z=_n(_)?_({rtl:S,position:b,type:d,defaultClassName:L}):vr(L,_),U=function(J){let{theme:ee,type:Y,isLoading:le,icon:ve}=J,Ve=null;const Fe={theme:ee,type:Y};return ve===!1||(_n(ve)?Ve=ve({...Fe,isLoading:le}):j.isValidElement(ve)?Ve=j.cloneElement(ve,Fe):le?Ve=lm.spinner():(Gs=>Gs in lm)(Y)&&(Ve=lm[Y](Fe))),Ve}(t),F=!!T||!l,$={closeToast:p,type:d,theme:M};let G=null;return o===!1||(G=_n(o)?o($):j.isValidElement(o)?j.cloneElement(o,$):function(J){let{closeToast:ee,theme:Y,ariaLabel:le="close"}=J;return de.createElement("button",{className:`Toastify__close-button Toastify__close-button--${Y}`,type:"button",onClick:ve=>{ve.stopPropagation(),ee(ve)},"aria-label":le},de.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},de.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}($)),de.createElement(g,{isIn:A,done:I,position:b,preventExitTransition:n,nodeRef:i,playToast:s},de.createElement("div",{id:w,onClick:c,"data-in":A,className:z,...r,style:C,ref:i},de.createElement("div",{...A&&{role:O},className:_n(E)?E({type:d}):vr("Toastify__toast-body",E),style:y},U!=null&&de.createElement("div",{className:vr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},U),de.createElement("div",null,a)),G,de.createElement(eq,{...D&&!F?{key:`pb-${D}`}:{},rtl:S,theme:M,delay:l,isRunning:e,isIn:A,closeToast:p,hide:f,type:d,style:P,className:x,controlledProgress:F,progress:T||0})))},xf=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},sq=Sf(xf("bounce",!0));Sf(xf("slide",!0));Sf(xf("zoom"));Sf(xf("flip"));const oq={position:"top-right",transition:sq,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function aq(t){let e={...oq,...t};const n=t.stacked,[i,r]=j.useState(!0),s=j.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=ZH(e),{className:c,style:d,rtl:f,containerId:p}=e;function g(_){const C=vr("Toastify__toast-container",`Toastify__toast-container--${_}`,{"Toastify__toast-container--rtl":f});return _n(c)?c({position:_,rtl:f,defaultClassName:C}):vr(C,rd(c))}function b(){n&&(r(!0),ae.play())}return iq(()=>{if(n){var _;const C=s.current.querySelectorAll('[data-in="true"]'),E=12,y=(_=e.position)==null?void 0:_.includes("top");let x=0,P=0;Array.from(C).reverse().forEach((D,O)=>{const T=D;T.classList.add("Toastify__toast--stacked"),O>0&&(T.dataset.collapsed=`${i}`),T.dataset.pos||(T.dataset.pos=y?"top":"bot");const S=x*(i?.2:1)+(i?0:E*O);T.style.setProperty("--y",`${y?S:-1*S}px`),T.style.setProperty("--g",`${E}`),T.style.setProperty("--s",""+(1-(i?P:0))),x+=T.offsetHeight,P+=.025})}},[i,l,n]),de.createElement("div",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{n&&(r(!1),ae.pause())},onMouseLeave:b},o((_,C)=>{const E=C.length?{...d}:{...d,pointerEvents:"none"};return de.createElement("div",{className:g(_),style:E,key:`container-${_}`},C.map(y=>{let{content:x,props:P}=y;return de.createElement(rq,{...P,stacked:n,collapseAll:b,isIn:a(P.toastId,P.containerId),style:P.style,key:`toast-${P.key}`},x)}))}))}const lq=()=>{const[t,e]=j.useState(""),[n,i]=j.useState(""),[r,s]=j.useState({}),o=Ln(),a=()=>{let p=!0;const g={};return t?/\S+@\S+\.\S+/.test(t)||(g.email="Invalid email format",p=!1):(g.email="Email field must be not be empty",p=!1),n||(g.password="Password field must not be empty",p=!1),s(g),p},l=()=>{ae.error("Please fix the errors in the form",{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})},c=p=>{ae.success(h.jsxs("div",{children:["Welcome, ",h.jsx("b",{children:p})]}),{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})},d=()=>{ae.error("Please enter a valid email address and Password",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})},f=p=>{if(p.preventDefault(),!a()){l();return}h6(Kd,t,n).then(g=>{console.log(g);const b=g.user.email??"unknown email";c(b),o("/admin/about")}).catch(g=>{console.log(g),d()})};return h.jsx("div",{className:"signin-ctr",children:h.jsxs("form",{onSubmit:f,children:[h.jsx("p",{className:"signin-header",children:"Admin Log In"}),h.jsxs("div",{className:"signin-details",children:[h.jsx("p",{className:"username-text"}),h.jsxs("div",{className:"email-portion",children:[h.jsx("input",{className:"email",type:"email",placeholder:"Enter your email",value:t,onChange:p=>e(p.target.value)}),r.email&&h.jsx("p",{className:"error-text",children:r.email})," "]}),h.jsx("input",{className:"password",type:"password",placeholder:"Enter your password",value:n,onChange:p=>i(p.target.value)}),r.password&&h.jsx("p",{className:"error-text",children:r.password})," "]}),h.jsx("button",{type:"submit",className:"login-button",children:"Log In"})]})})};function cq(){return h.jsx("div",{className:"admin-container",children:h.jsx(lq,{})})}const p0="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23ffffff'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM92.69,208H48V163.31l88-88L180.69,120ZM192,108.68,147.31,64l24-24L216,84.68Z'%3e%3c/path%3e%3c/svg%3e",gk="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23ffffff'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z'%3e%3c/path%3e%3c/svg%3e",uq=()=>{const[t,e]=j.useState([]),[n,i]=j.useState([]),[r,s]=j.useState(()=>localStorage.getItem("selectedType")||"residential"),o=Ln(),[a,l]=j.useState(""),[c,d]=j.useState(!1),[f,p]=j.useState(null),[g,b]=j.useState(null),_=O=>{ae.success(h.jsxs("div",{children:[h.jsx("b",{children:O})," has been deleted"]}),{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})};j.useEffect(()=>{(async()=>{try{const T=Mt(Le,`${r}-projects`),S=await dn(T),w=[];await Promise.all(S.docs.map(async I=>{const A=I.data(),N=Mt(I.ref,"awards"),M=(await dn(N)).docs.map(L=>({id:L.id,title:L.data().title}));w.push({id:I.id,...A,awards:M})})),w.sort((I,A)=>{const N=new Date(I.completion);return new Date(A.completion)-N}),e(w),i(w)}catch(T){console.error("Error fetching projects: ",T)}})()},[r]),j.useEffect(()=>{const O=t.filter(T=>T.name.toLowerCase().includes(a.toLowerCase()));i(O)},[t,a]);const C=O=>{const T=O.target.value;s(T),localStorage.setItem("selectedType",T)},E=O=>{o(`/admin/projects/edit/${r}/${O.id}`,{state:{paramData:O}})},y=O=>{p(O),d(!0)},x=async()=>{if(!(!r||!f))try{const O=yn(ef,f.image);await na(O);const T=Dt(Le,`${r}-projects`,f.id),S=Mt(T,"awards"),I=(await dn(S)).docs.map(async A=>{await ta(A.ref)});await Promise.all(I),await ta(T),e(A=>A.filter(N=>N.id!==f.id)),i(A=>A.filter(N=>N.id!==f.id)),console.log("Project deleted:",f.id),d(!1),_(f.name)}catch(O){console.error("Error deleting project:",O),d(!1),b({message:"Error deleting "+f.name,type:"error"}),setTimeout(()=>{b(null)},2500)}},P=()=>{o(`/admin/projects/create/${r}`)},D=O=>{l(O.target.value)};return h.jsxs("div",{className:"dashboard-ctr",children:[h.jsx("div",{className:"dashboard-header",children:"Projects"}),h.jsxs("div",{className:"dropdown-ctr",children:[h.jsxs("label",{htmlFor:"project-type",className:"select-project-type",children:["Select Project Type"," "]}),h.jsxs("select",{id:"project-type",value:r,onChange:C,children:[h.jsx("option",{value:"residential",children:"Residential"}),h.jsx("option",{value:"commercial",children:"Commercial"}),h.jsx("option",{value:"existingBuildingRetrofit",children:"Exisiting Building Retrofit"}),h.jsx("option",{value:"institutional",children:"Institutional"}),h.jsx("option",{value:"infrastructure",children:"Infrastructure"}),h.jsx("option",{value:"industrial",children:"Industrial"})]})]}),h.jsx("label",{htmlFor:"search",className:"search",children:"Search"}),h.jsx("div",{className:"search-ctr",children:h.jsx("input",{type:"text",placeholder:"Search projects...",value:a,onChange:D})}),h.jsx("div",{className:"add-project-ctr",children:h.jsx("button",{className:"add-project-button",onClick:P,children:"Add Project"})}),h.jsx("div",{className:"dashboard-table-ctr",children:h.jsxs("table",{className:"project-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Image"}),h.jsx("th",{children:"Name"}),r!=="existingBuildingRetrofit"&&h.jsx("th",{className:"mobile-table",children:"Developer"}),h.jsx("th",{className:"mobile-table",children:"Awards"}),h.jsx("th",{className:"mobile-table",children:"Type"}),h.jsx("th",{className:"mobile-table",children:"Completion"}),r==="existingBuildingRetrofit"&&h.jsx("th",{className:"mobile-table",children:"Client"}),h.jsx("th",{className:"mobile-table",children:"Location"}),h.jsx("th",{children:"Actions"})]})}),h.jsx("tbody",{children:n.map(O=>h.jsxs("tr",{children:[h.jsx("td",{children:h.jsx("img",{src:O.image,alt:O.name+" image",className:"project-image"})}),h.jsx("td",{children:O.name}),r!=="existingBuildingRetrofit"&&h.jsx("td",{className:"mobile-table",children:O.developer}),h.jsx("td",{className:"mobile-table",children:h.jsx("ul",{className:"awards-list",children:O.awards.map(T=>h.jsx("li",{children:T.title},T.id))})}),h.jsx("td",{className:"mobile-table",children:O.type}),h.jsx("td",{className:"mobile-table",children:O.completion}),r==="existingBuildingRetrofit"&&h.jsx("td",{className:"mobile-table",children:O.client}),h.jsx("td",{className:"mobile-table",children:O.location}),h.jsxs("td",{className:"table-actions",children:[h.jsx("button",{className:"action-button edit-button",onClick:()=>E(O),children:h.jsx("img",{src:p0,className:"action-icons"})}),h.jsx("button",{className:"action-button delete-button",onClick:()=>y(O),children:h.jsx("img",{src:gk,className:"action-icons"})})]})]},O.id))})]})}),c&&f&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"delete-overlay"}),h.jsx("div",{className:"delete-confirmation-popup",children:h.jsxs("div",{className:"delete-confirmation-ctr",children:[h.jsx("div",{className:"delete-confirmation-header",children:"Are you sure?"}),h.jsxs("div",{className:"delete-confirmation-description",children:["Are you sure you want to delete"," ",h.jsxs("span",{style:{color:"#364FC7"},children:[f.name,"?"]})," ","This action cannot be undone."]}),h.jsxs("div",{className:"button-container",children:[h.jsx("button",{className:"popup-cancel-btn",onClick:()=>d(!1),children:"Cancel"}),h.jsx("button",{className:"popup-confirm-btn",onClick:x,children:"Confirm"})]})]})})]}),g&&h.jsx("div",{className:`notification-btm-right ${g.type}`,children:g.message})]})};function dq(){return h.jsx("div",{className:"container",children:h.jsx(uq,{})})}const Ui="/BelmacsConstruction/assets/empty-image-placeholder-CRp-dmlF.png",hq=()=>{const{selectedType:t}=Ah(),[e,n]=j.useState({image:"",name:"",developer:"",type:"",completion:"",client:"",location:"",featured:"no",ProjectType:t}),[i,r]=j.useState([]),[s,o]=j.useState({image:"",name:"",developer:"",type:"",completion:"",client:"",location:""}),[a,l]=j.useState(null),c=Ln();j.useEffect(()=>{e.ProjectType!=="existingBuildingRetrofit"?n(O=>({...O,client:""})):n(O=>({...O,developer:""}))},[e.ProjectType,n]);const d=O=>{const{name:T,value:S}=O.target;n(w=>({...w,[T]:S}))},f=()=>{c(-1)},p=O=>{if(O.target.files&&O.target.files[0]){l(O.target.files[0]);const T=new FileReader;T.onloadend=()=>{e&&n({...e,image:T.result})},T.readAsDataURL(O.target.files[0])}else e&&Ui&&(n({...e,image:Ui}),l(null))},g=O=>{const{name:T}=O.target,S=e.featured==="yes"?"no":"yes";n(w=>({...w,[T]:S}))},b=()=>{const O={image:"",name:"",developer:"",type:"",completion:"",client:"",location:""};let T=!0;return e.name.trim()||(O.name="Project name is required",T=!1),!e.developer.trim()&&e.ProjectType!=="existingBuildingRetrofit"&&(O.developer="Developer is required",T=!1),e.completion.trim()||(O.completion="Completion date is required",T=!1),e.type.trim()||(O.type="Type is required",T=!1),e.location.trim()||(O.location="Location is required",T=!1),a||(O.image="Image file is required",T=!1),o(O),T},_=(O,T)=>{const S=[...i];S[T].title=O.target.value,r(S)},C=()=>{r([...i,{title:""}])},E=O=>{const T=i.filter((S,w)=>w!==O);r(T)},y=()=>{ae.error("Please fix the errors in the form",{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})},x=O=>{ae.success(h.jsxs("div",{children:["You have added ",h.jsx("b",{children:O})]}),{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})},P=()=>{ae.error("Your project failed to be added",{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})},D=async O=>{if(O.preventDefault(),!b()||!a){y();return}try{const T=yn(ef,`belmacs_images/${e.ProjectType}/${e.name}`),S=JI(T,a);S.on("state_changed",w=>{},w=>{console.error("Error uploading file: ",w)},async()=>{const w=await Fi(S.snapshot.ref),{ProjectType:I,...A}=e,N=Dt(Le,`${e.ProjectType}-projects`,e.name);await zr(N,{...A,image:w});for(const k of i)k.title.trim()&&await zr(Dt(Mt(Le,`${e.ProjectType}-projects`,e.name,"awards"),k.title),{title:k.title});x(e.name),c("/admin/projects")})}catch(T){console.error("Error adding project: ",T),P()}};return h.jsx("div",{className:"create-project-ctr",children:h.jsxs("div",{className:"create-project-form-ctr",children:[h.jsx("p",{className:"create-project-header",children:"Add New Project"}),h.jsxs("form",{onSubmit:D,children:[h.jsxs("div",{className:"create-field",children:[h.jsx("label",{htmlFor:"ProjectType",className:"create-field-header",children:"Select Project Type"}),h.jsxs("select",{id:"ProjectType",className:"create-project-type",name:"ProjectType",value:e.ProjectType,onChange:d,children:[h.jsx("option",{value:"residential",children:"Residential"}),h.jsx("option",{value:"commercial",children:"Commercial"}),h.jsx("option",{value:"existingBuildingRetrofit",children:"Existing Building Retrofit"}),h.jsx("option",{value:"institutional",children:"Institutional"}),h.jsx("option",{value:"infrastructure",children:"Infrastructure"}),h.jsx("option",{value:"industrial",children:"Industrial"})]})]}),h.jsxs("div",{className:"create-field",children:[h.jsx("label",{htmlFor:"name",children:"Upload Image File"}),h.jsx("div",{className:"new-project-img",children:h.jsx("img",{src:a?e.image:Ui,alt:"New Image",className:"new-project-img",onClick:()=>document.getElementById("upload-image-input").click()})}),h.jsx("input",{className:"upload-image-input create-input",id:"upload-image-input",type:"file",onChange:p,accept:"image/*"}),s.image&&h.jsx("p",{className:"error-msg",children:s.image})]}),h.jsx("div",{className:"create-project-secondary-header",children:"Enter Project Details"}),h.jsxs("div",{className:"create-field",children:[h.jsx("label",{htmlFor:"name",className:"create-field-header",children:"Project Name"}),h.jsx("input",{id:"name",type:"text",name:"name",placeholder:"Project Name",value:e.name,onChange:d,className:"create-input"}),s.name&&h.jsx("p",{className:"error-msg",children:s.name})]}),e.ProjectType!=="existingBuildingRetrofit"&&h.jsxs("div",{className:"create-field",children:[h.jsx("label",{htmlFor:"developer",className:"create-field-header",children:"Developer"}),h.jsx("input",{id:"developer",type:"text",name:"developer",placeholder:"Developer",value:e.developer,onChange:d,className:"create-input"}),s.developer&&h.jsx("p",{className:"error-msg",children:s.developer})]}),h.jsxs("div",{className:"awards-field",children:[h.jsx("label",{htmlFor:"awards",className:"create-field-header",children:"Awards"}),i.map((O,T)=>h.jsxs("div",{className:"award-input-ctr",children:[h.jsx("input",{type:"text",name:"awards",placeholder:"Award",value:O.title,onChange:S=>_(S,T),className:"create-input"}),h.jsx("button",{type:"button",onClick:()=>E(T),className:"remove-award-button",children:"Remove"})]},T)),h.jsx("button",{type:"button",onClick:C,className:"add-award-button",children:"Add Award"})]}),h.jsxs("div",{className:"create-field",children:[h.jsx("label",{htmlFor:"type",className:"create-field-header",children:"Type"}),h.jsx("input",{id:"type",type:"text",name:"type",placeholder:"Type",value:e.type,onChange:d,className:"create-input"}),s.type&&h.jsx("p",{className:"error-msg",children:s.type})]}),h.jsxs("div",{className:"create-field",children:[h.jsx("label",{htmlFor:"completion",className:"create-field-header",children:"Completion Date"}),h.jsx("input",{id:"completion",type:"text",name:"completion",placeholder:"Completion Date",value:e.completion,onChange:d,className:"create-input"}),s.completion&&h.jsx("p",{className:"error-msg",children:s.completion})]}),h.jsx("div",{className:"create-field",children:e.ProjectType==="existingBuildingRetrofit"&&h.jsxs("div",{children:[h.jsx("label",{htmlFor:"client",className:"create-field-header",children:"Client"}),h.jsx("input",{id:"client",type:"text",name:"client",placeholder:"Client",value:e.client,onChange:d,className:"create-input"}),s.client&&h.jsx("p",{className:"error-msg",children:s.client})]})}),h.jsxs("div",{className:"create-field",children:[h.jsx("label",{htmlFor:"location",className:"create-field-header",children:"Location"}),h.jsx("input",{id:"location",type:"text",name:"location",placeholder:"Location",value:e.location,onChange:d,className:"create-input"}),s.location&&h.jsx("p",{className:"error-msg",children:s.location})]}),h.jsxs("div",{className:"featured-switch-ctr",children:[h.jsx("label",{htmlFor:"featured",className:"create-field-header",children:"Featured"}),h.jsxs("label",{className:"featured-switch",children:[h.jsx("input",{type:"checkbox",id:"featured",name:"featured",checked:e.featured==="yes",onChange:g}),h.jsx("span",{className:"featured-slider round"})]})]}),h.jsxs("div",{className:"create-project-button-ctr",children:[h.jsx("button",{type:"submit",className:"create-project-button",children:"Add Project"}),h.jsx("button",{type:"button",className:"cancel-project-button",onClick:f,children:"Cancel"})]})]})]})})};function fq(){return h.jsx("div",{className:"admin-container",children:h.jsx(hq,{})})}const pq=()=>{const{type:t,id:e}=Ah(),[n]=j.useState(e||""),[i,r]=j.useState(null),[s,o]=j.useState(!0),[a,l]=j.useState(null),[c,d]=j.useState(null),[f,p]=j.useState(t||"residential"),[g,b]=j.useState(!1),_=Ln(),[C,E]=j.useState({}),[y,x]=j.useState([]);j.useEffect(()=>{(async()=>{if(!(!e||!t))try{const M=Dt(Le,`${t}-projects`,n),L=await Wh(M);if(L.exists()){const z=L.data();r(z),l(z.image);const U=Mt(M,"awards"),$=(await dn(U)).docs.map(G=>G.data().title);x($)}else console.error("No such document!")}catch(M){console.error("Error fetching project: ",M)}finally{o(!1)}})()},[e,t]),j.useEffect(()=>{i&&r(f!=="existingBuildingRetrofit"?k=>({...k,client:""}):k=>({...k,developer:""}))},[f]);const P=k=>{const{name:M,value:L}=k.target;i&&r({...i,[M]:L})},D=k=>{if(k.target.files&&k.target.files[0]){d(k.target.files[0]);const M=new FileReader;M.onloadend=()=>{i&&r({...i,image:M.result})},M.readAsDataURL(k.target.files[0])}else i&&a&&(r({...i,image:a}),d(null))},O=(k,M)=>{const L=[...y];L[k]=M,x(L)},T=()=>{x([...y,""])},S=k=>{const M=y.filter((L,z)=>z!==k);x(M)},w=async k=>{if(k.preventDefault(),!N()||!i||!t)return;const M=Kh();let L=i.image;try{if(c instanceof File){const Y=c.type.split("/")[1],le=yn(M,`belmacs_images/${f}/${i.name}.${Y}`);if(await Zl(le,c),L=await Fi(le),i.image&&(i.name!==n||t!==f)){const ve=yn(M,i.image);await na(ve)}}else if(t!==f||i.name!==n){const Y=yn(M,i.image),le=await Fi(Y),ve=await fetch(le);if(!ve.ok)throw new Error("Failed to fetch old image.");const Ve=await ve.blob(),Fe=yn(M,`belmacs_images/${f}/${i.name}.${Ve.type.split("/")[1]}`);await Zl(Fe,Ve),L=await Fi(Fe),await na(Y)}const z=Dt(Le,`${t}-projects`,n);await ta(z);const U=Mt(z,"awards"),$=(await dn(U)).docs.map(async Y=>{await ta(Y.ref)});await Promise.all($);const G=Dt(Le,`${f}-projects`,i.name);await zr(G,{...i,image:L});const J=y.filter(Y=>Y.trim()!==""),ee=Mt(G,"awards");await Promise.all(J.map(async Y=>{await zr(Dt(ee,Y),{title:Y})})),A(i.name),b(!0),_("/admin/projects")}catch(z){I(),console.log(z)}};if(s)return h.jsx("div",{children:"Loading..."});const I=()=>{ae.error("Please fill in the required fields.",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})},A=k=>{ae.success(h.jsxs("div",{children:["Successfully edited ",h.jsx("b",{children:k})]}),{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})},N=()=>{const k={};return i!=null&&i.name||(k.name="Name is required."),i!=null&&i.type||(k.type="Type is required."),i!=null&&i.location||(k.location="Location is required."),E(k),Object.keys(k).length===0};return h.jsx("div",{className:"edit-project-ctr",children:!g&&i&&h.jsxs("form",{onSubmit:w,children:[h.jsx("p",{className:"edit-project-header",children:"Edit Project"}),h.jsxs("div",{className:"edit-field",children:[h.jsx("label",{className:"edit-field-header",children:"Project Type"}),h.jsxs("select",{value:f,onChange:k=>p(k.target.value),className:"edit-project-type",children:[h.jsx("option",{value:"residential",children:"Residential"}),h.jsx("option",{value:"commercial",children:"Commercial"}),h.jsx("option",{value:"existingBuildingRetrofit",children:"Existing Building Retrofit"}),h.jsx("option",{value:"institutional",children:"Institutional"}),h.jsx("option",{value:"infrastructure",children:"Infrastructure"}),h.jsx("option",{value:"industrial",children:"Industrial"})]})]}),h.jsxs("div",{className:"edit-field",children:[h.jsx("label",{className:"edit-field-header",children:"Name"}),h.jsx("input",{type:"text",name:"name",value:i.name,onChange:P}),C.name&&h.jsx("p",{className:"error",children:C.name})]}),h.jsxs("div",{className:"edit-field",children:[h.jsxs("div",{className:"edit-current-new-project-img-ctr",children:[h.jsxs("div",{className:"edit-current-project-img-ctr",children:[h.jsx("label",{className:"edit-field-header",children:"Current Image"}),h.jsx("div",{className:"current-img",children:a&&h.jsx("div",{children:h.jsx("img",{src:a,alt:"Current Image",className:"current-project-img"})})})]}),h.jsxs("div",{className:"edit-new-project-img-ctr",children:[h.jsx("label",{className:"edit-field-header",children:"New Image"}),h.jsx("div",{className:"new-project-img",children:h.jsx("img",{src:c?i.image:Ui,alt:"New Image",className:"new-project-img",onClick:()=>document.getElementById("upload-image-input").click()})})]})]}),h.jsx("input",{type:"file",accept:"image/*",onChange:D,className:"upload-image-input",id:"upload-image-input"})]}),f!=="existingBuildingRetrofit"&&h.jsxs("div",{className:"edit-field",children:[h.jsx("label",{className:"edit-field-header",children:"Developer"}),h.jsx("input",{type:"text",name:"developer",value:i.developer,onChange:P})]}),h.jsxs("div",{className:"edit-awards-field",children:[h.jsx("label",{className:"edit-awards-header",children:"Awards"}),y.length>0?y.map((k,M)=>h.jsxs("div",{className:"edit-award-input-ctr",children:[h.jsx("input",{type:"text",placeholder:"Award Title",value:k,onChange:L=>O(M,L.target.value)}),h.jsx("button",{type:"button",className:"remove-award-btn",onClick:()=>S(M),children:"Remove"})]},M)):h.jsx("p",{className:"edit-awards-desc",children:"No awards yet."}),h.jsx("button",{type:"button",className:"add-award-btn",onClick:T,children:"Add Award"})]}),h.jsxs("div",{className:"edit-field",children:[h.jsx("label",{className:"edit-field-header",children:"Type"}),h.jsx("input",{type:"text",name:"type",value:i.type,onChange:P}),C.type&&h.jsx("p",{className:"error",children:C.type})]}),h.jsxs("div",{className:"edit-field",children:[h.jsx("label",{className:"edit-field-header",children:"Completion"}),h.jsx("input",{type:"text",name:"completion",value:i.completion,onChange:P})]}),f==="existingBuildingRetrofit"&&h.jsxs("div",{className:"edit-field",children:[h.jsx("label",{className:"edit-field-header",children:"Client"}),h.jsx("input",{type:"text",name:"client",value:i.client,onChange:P})]}),h.jsxs("div",{className:"edit-field",children:[h.jsx("label",{className:"edit-field-header",children:"Location"}),h.jsx("input",{type:"text",name:"location",value:i.location,onChange:P})]}),h.jsxs("div",{className:"edit-field",children:[h.jsx("label",{className:"edit-field-header",children:"Featured"}),h.jsx("div",{className:"featured-toggle-ctr",children:h.jsxs("label",{className:"featured-switch",children:[h.jsx("input",{type:"checkbox",checked:i.featured==="yes",onChange:k=>r({...i,featured:k.target.checked?"yes":"no"})}),h.jsx("span",{className:"featured-slider round"})]})})]}),h.jsxs("div",{className:"edit-project-button-ctr",children:[h.jsx("button",{type:"submit",className:"edit-project-button",children:"Save"}),h.jsx("button",{type:"button",className:"cancel-project-button",onClick:()=>_(-1),children:"Cancel"})]})]})})};function mq(){return h.jsx("div",{className:"admin-container",children:h.jsx(pq,{})})}const gq=()=>{const[t,e]=j.useState(null),n=Ln();j.useEffect(()=>{(async()=>{try{const o=Dt(Le,"about-company","about-company"),a=await Wh(o);a.exists()?e(a.data()):console.log("No such document!")}catch(o){console.error("Error fetching Company: ",o)}})()},[]);const i=()=>{n("/admin/about/company/edit",{state:{paramData:t}})},r=s=>s.replace(/\\n/g,`
`);return h.jsxs("div",{className:"company-ctr",children:[h.jsx("div",{className:"company-header",children:"The Company"}),h.jsx("div",{className:"company-table-ctr",children:t&&h.jsxs("table",{className:"company-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Company Image"}),h.jsx("th",{children:"Description"}),h.jsx("th",{children:"Actions"})]})}),h.jsx("tbody",{children:h.jsxs("tr",{children:[h.jsx("td",{children:h.jsx("img",{src:t.image,alt:"Company image",className:"company-image"})}),h.jsx("td",{children:h.jsx("p",{style:{whiteSpace:"pre-line"},children:r(t.description)})}),h.jsx("td",{className:"table-actions",children:h.jsx("button",{className:"action-button edit-button",onClick:i,children:h.jsx("img",{src:p0,alt:"Edit",className:"action-icons"})})})]})})]})})]})},yq=()=>{const[t,e]=j.useState([]),n=Ln(),[i,r]=j.useState(!1),[s,o]=j.useState(null),a=g=>{ae.success(h.jsxs("div",{children:[h.jsx("b",{children:g})," has been deleted"]}),{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})};j.useEffect(()=>{(async()=>{try{const b=Mt(Le,"about-people"),C=(await dn(b)).docs.map(E=>E.data());e(C)}catch(b){console.error("Error fetching People collection: ",b)}})()},[]);const l=g=>{n(`/admin/about/people/edit/${g.name}`,{state:{paramData:g}})},c=g=>{o(g),r(!0)},d=async()=>{if(s)try{const g=yn(ef,s.image);await na(g);const b=Dt(Le,"about-people",s.name);await ta(b),e(_=>_.filter(C=>C.name!==s.name)),console.log("Director deleted:",s.name),r(!1),a(s.name)}catch(g){console.error("Error deleting director:",g),r(!1)}},f=()=>{n("/admin/about/people/create")},p=g=>g.split(`
`).map((b,_)=>h.jsxs(de.Fragment,{children:[b,h.jsx("br",{})]},_));return h.jsxs("div",{className:"person-ctr",children:[h.jsx("div",{className:"person-header",children:"Our People"}),h.jsx("div",{className:"add-person-ctr",children:h.jsx("button",{className:"add-person-button",onClick:f,children:"Add Director"})}),h.jsx("div",{className:"person-table-ctr",children:t.length>0&&h.jsxs("table",{className:"person-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Image"}),h.jsx("th",{children:"Name"}),h.jsx("th",{className:"mobile-table",children:"Position"}),h.jsx("th",{className:"mobile-table",children:"Qualifications"}),h.jsx("th",{className:"person-table-description mobile-table",children:"Description"}),h.jsx("th",{children:"Actions"})]})}),h.jsx("tbody",{children:t.map((g,b)=>h.jsxs("tr",{children:[h.jsx("td",{children:h.jsx("img",{src:g.image,alt:"person image",className:"person-image"})}),h.jsx("td",{children:h.jsx("p",{children:g.name})}),h.jsx("td",{className:"mobile-table",children:h.jsx("p",{children:g.position})}),h.jsx("td",{className:"mobile-table",children:g.qualifications.length>0?g.qualifications.map((_,C)=>h.jsxs("p",{children:["- ",_]},C)):h.jsx("p",{children:"No qualifications listed"})}),h.jsx("td",{className:"mobile-table",children:h.jsx("p",{children:p(g.description)})}),h.jsxs("td",{className:"table-actions",children:[h.jsx("button",{className:"action-button edit-button",onClick:()=>l(g),children:h.jsx("img",{src:p0,alt:"Edit",className:"action-icons"})}),h.jsx("button",{className:"action-button delete-button",onClick:()=>c(g),children:h.jsx("img",{src:gk,className:"action-icons"})})]})]},b))})]})}),i&&s&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"delete-overlay"}),h.jsx("div",{className:"delete-confirmation-popup",children:h.jsxs("div",{className:"delete-confirmation-ctr",children:[h.jsx("div",{className:"delete-confirmation-header",children:"Are you sure?"}),h.jsxs("div",{className:"delete-confirmation-description",children:["Are you sure you want to delete"," ",h.jsxs("span",{style:{color:"#364FC7"},children:[s.name,"?"]})," ","This action cannot be undone."]}),h.jsxs("div",{className:"button-container",children:[h.jsx("button",{className:"popup-cancel-btn",onClick:()=>r(!1),children:"Cancel"}),h.jsx("button",{className:"popup-confirm-btn",onClick:d,children:"Confirm"})]})]})})]})]})};function vq(){return h.jsxs("div",{className:"container",children:[h.jsx(gq,{}),h.jsx(yq,{})]})}const _q=()=>{const t=Ln(),e=_i(),[n,i]=j.useState({description:"",image:""}),[r,s]=j.useState(n.description),[o,a]=j.useState(n.image),[l,c]=j.useState(null),[d,f]=j.useState({description:"",image:""});j.useEffect(()=>{(async()=>{var x;if((x=e.state)!=null&&x.paramData){const{description:P,image:D}=e.state.paramData;s(P),a(D),i({description:P,image:D})}else try{const P=Dt(Le,"about-company","about-company"),D=await Wh(P);if(D.exists()){const O=D.data();s(O.description),a(O.image),i(O)}else console.error("No such document!")}catch(P){console.error("Error fetching document: ",P)}})()},[e.state]);const p=()=>{const y={description:"",image:""};return r.trim()||(y.description="Description is required"),f(y),!y.description&&!y.image},g=y=>{if(y.target.files&&y.target.files[0]){c(y.target.files[0]);const x=new FileReader;x.onloadend=()=>{n&&i({...n,image:x.result})},x.readAsDataURL(y.target.files[0])}else n&&o&&(i({...n,image:o}),c(null))},b=()=>{ae.error("Please fill in the required fields.",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})},_=()=>{ae.success(h.jsx("div",{children:"Successfully edited Company Details"}),{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})},C=async y=>{if(y.preventDefault(),!p())return;const x=Kh();let P=n.image;try{if(l instanceof File){const D=l.type.split("/")[1],O=yn(x,`belmacs_images/about/company/company_image.${D}`);await Zl(O,l),P=await Fi(O);const T={...n,image:P},S=Dt(Le,"about-company","about-company");await zr(S,T),_(),setTimeout(()=>{t("/admin/about")},1e3)}else{const D={...n},O=Dt(Le,"about-company","about-company");await zr(O,D),_(),setTimeout(()=>{t("/admin/about")},1e3)}}catch(D){console.error("Error updating person: ",D),b()}},E=y=>y.replace(/\\n/g,`
`);return h.jsx("div",{className:"edit-company-ctr",children:h.jsxs("form",{onSubmit:C,children:[h.jsx("p",{className:"edit-company-header",children:"Edit Company"}),h.jsxs("div",{className:"edit-field",children:[h.jsx("div",{children:h.jsxs("div",{className:"edit-image-field",children:[h.jsxs("div",{className:"edit-current-new-comapny-img-ctr",children:[h.jsxs("div",{className:"edit-current-company-img-ctr",children:[h.jsx("label",{className:"edit-field-header",children:"Current Image"}),h.jsx("div",{className:"current-img",children:(n==null?void 0:n.image)&&h.jsx("div",{children:h.jsx("img",{src:o,alt:"Current Image",className:"current-company-img"})})})]}),h.jsxs("div",{className:"edit-new-company-img-ctr",children:[h.jsx("label",{className:"edit-field-header",children:"New Image"}),h.jsx("div",{className:"new-img",children:h.jsx("img",{src:l?n.image:Ui,alt:"New Image",className:"new-company-img",onClick:()=>document.getElementById("upload-image-input").click()})})]})]}),h.jsx("input",{type:"file",accept:"image/*",onChange:g,className:"upload-image-input",id:"upload-image-input"})]})}),d.image&&h.jsx("p",{className:"error",children:d.image})]}),h.jsxs("div",{className:"edit-field",children:[h.jsx("label",{className:"edit-field-header",children:"Description"}),h.jsx("textarea",{rows:5,value:E(n.description),onChange:y=>{s(y.target.value),i({...n,description:y.target.value})}}),d.description&&h.jsx("p",{className:"error",children:d.description})]}),h.jsxs("div",{className:"edit-company-button-ctr",children:[h.jsx("button",{type:"submit",className:"edit-company-button",children:"Save"}),h.jsx("button",{type:"button",className:"cancel-company-button",onClick:()=>t(-1),children:"Cancel"})]})]})})};function wq(){return h.jsx("div",{className:"admin-container",children:h.jsx(_q,{})})}const bq=()=>{const[t,e]=j.useState({name:"",image:"",position:"",qualifications:[],description:""}),[n,i]=j.useState([]),[r,s]=j.useState({name:"",image:"",position:"",description:""}),[o,a]=j.useState(null),l=Ln(),c=P=>{const{name:D,value:O}=P.target;e(T=>({...T,[D]:O}))},d=()=>{l(-1)},f=P=>{if(P.target.files&&P.target.files[0]){a(P.target.files[0]);const D=new FileReader;D.onloadend=()=>{t&&e({...t,image:D.result})},D.readAsDataURL(P.target.files[0])}else t&&Ui&&(e({...t,image:Ui}),a(null))},p=()=>{const P={name:"",image:"",position:"",description:""};let D=!0;return t.name.trim()||(P.name="Name is required",D=!1),t.position.trim()||(P.position="Position is required",D=!1),t.description.trim()||(P.description="Description is required",D=!1),o||(P.image="Image file is required",D=!1),s(P),D},g=(P,D)=>{const O=[...n];O[D]=P.target.value,i(O)},b=()=>{i([...n,""])},_=P=>{const D=n.filter((O,T)=>T!==P);i(D)},C=()=>{ae.error("Please fix the errors in the form",{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})},E=P=>{ae.success(h.jsxs("div",{children:["You have added ",h.jsx("b",{children:P})]}),{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})},y=()=>{ae.error("Person failed to be added",{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})},x=async P=>{if(P.preventDefault(),!p()||!o){C();return}try{const D=yn(ef,`belmacs_images/about/people/${t.name}`),O=JI(D,o);O.on("state_changed",T=>{},T=>{console.error("Error uploading file: ",T)},async()=>{const T=await Fi(O.snapshot.ref),S=Dt(Le,"about-people",t.name);await zr(S,{name:t.name,image:T,position:t.position,qualifications:n,description:t.description}),E(t.name),l("/admin/about")})}catch(D){console.error("Error adding people: ",D),y()}};return h.jsx("div",{className:"create-person-ctr",children:h.jsxs("div",{className:"create-person-form-ctr",children:[h.jsx("p",{className:"create-person-header",children:"Add New Director"}),h.jsxs("form",{onSubmit:x,children:[h.jsxs("div",{className:"create-field",children:[h.jsx("label",{htmlFor:"name",children:"Upload Image File"}),h.jsx("div",{className:"new-person-img",children:h.jsx("img",{src:o?t.image:Ui,alt:"New Image",className:"new-person-img",onClick:()=>document.getElementById("upload-image-input").click()})}),h.jsx("input",{className:"upload-image-input create-input",id:"upload-image-input",type:"file",onChange:f,accept:"image/*"}),r.image&&h.jsx("p",{className:"error-msg",children:r.image})]}),h.jsxs("div",{className:"create-field",children:[h.jsx("label",{htmlFor:"name",className:"create-field-header",children:"Name"}),h.jsx("input",{id:"name",type:"text",name:"name",placeholder:"Er. Full Name",value:t.name,onChange:c,className:"create-input"}),r.name&&h.jsx("p",{className:"error-msg",children:r.name})]}),h.jsxs("div",{className:"create-field",children:[h.jsx("label",{htmlFor:"position",className:"create-field-header",children:"Position"}),h.jsx("input",{id:"position",type:"text",name:"position",placeholder:"Director",value:t.position,onChange:c,className:"create-input"}),r.position&&h.jsx("p",{className:"error-msg",children:r.position})]}),h.jsxs("div",{className:"qualifications-field",children:[h.jsx("label",{htmlFor:"qualifications",className:"create-field-header",children:"Qualifications"}),n.map((P,D)=>h.jsxs("div",{className:"qualification-input-ctr",children:[h.jsx("input",{type:"text",name:"qualifications",placeholder:"Qualification",value:P,onChange:O=>g(O,D),className:"create-input"}),h.jsx("button",{type:"button",onClick:()=>_(D),className:"remove-qualification-button",children:"Remove"})]},D)),h.jsx("button",{type:"button",onClick:b,className:"add-qualification-button",children:"Add Qualification"})]}),h.jsxs("div",{className:"create-field",children:[h.jsx("label",{htmlFor:"description",className:"create-field-header",children:"Description"}),h.jsx("textarea",{rows:15,id:"description",name:"description",placeholder:"Description",value:t.description,onChange:c}),r.description&&h.jsx("p",{className:"error-msg",children:r.description})]}),h.jsxs("div",{className:"create-person-button-ctr",children:[h.jsx("button",{type:"submit",className:"create-person-button",children:"Add Director"}),h.jsx("button",{type:"button",className:"cancel-person-button",onClick:d,children:"Cancel"})]})]})]})})};function Eq(){return h.jsx("div",{className:"admin-container",children:h.jsx(bq,{})})}const Sq=()=>{const{name:t}=Ah(),[e]=j.useState(t||""),[n,i]=j.useState(null),[r,s]=j.useState(!0),[o,a]=j.useState(null),[l,c]=j.useState(null),[d,f]=j.useState(!1),p=Ln(),[g,b]=j.useState({}),[_,C]=j.useState([]);j.useEffect(()=>{(async()=>{if(t)try{const A=Dt(Le,"about-people",t),N=await Wh(A);if(N.exists()){const k=N.data();i(k),C(k.qualifications),a(k.image)}else console.error("No such document!")}catch(A){console.error("Error fetching person: ",A)}finally{s(!1)}})()},[t]);const E=I=>{const{name:A,value:N}=I.target;n&&i({...n,[A]:N})},y=I=>{if(I.target.files&&I.target.files[0]){c(I.target.files[0]);const A=new FileReader;A.onloadend=()=>{n&&i({...n,image:A.result})},A.readAsDataURL(I.target.files[0])}else n&&o&&(i({...n,image:o}),c(null))},x=(I,A)=>{const N=[..._];N[I]=A,C(N)},P=()=>{C([..._,""])},D=I=>{const A=_.filter((N,k)=>k!==I);C(A)},O=async I=>{if(I.preventDefault(),!T()){S();return}if(!n)return;const A=Kh();let N=n.image;try{if(l instanceof File){const L=l.type.split("/")[1],z=yn(A,`belmacs_images/about/people/${n.name}.${L}`);if(await Zl(z,l),N=await Fi(z),o&&n.image&&n.name!==e){const U=yn(A,o);await na(U)}}else if(n.name!==e){const L=yn(A,n.image),z=await Fi(L),U=await fetch(z);if(!U.ok)throw new Error("Failed to fetch old image.");const F=await U.blob(),$=F.type.split("/")[1],G=yn(A,`belmacs_images/about/people/${n.name}.${$}`);await Zl(G,F),N=await Fi(G),await na(L)}const k={...n,image:N,qualifications:_},M=Dt(Le,"about-people",n.name);if(await zr(M,k),n.name!==e){const L=Dt(Le,"about-people",e);await ta(L)}f(!0),w(n.name),setTimeout(()=>{p("/admin/about")},1e3)}catch(k){console.error("Error updating person: ",k),ae.error("Failed to update person.")}},T=()=>{const I={};return n!=null&&n.name||(I.name="Name is required."),n!=null&&n.position||(I.position="Position is required."),n!=null&&n.description||(I.department="Description is required."),b(I),Object.keys(I).length===0},S=()=>{ae.error("Please fix the errors in the form",{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})},w=I=>{ae.success(h.jsxs("div",{children:[h.jsx("b",{children:I})," has been updated!"]}),{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})};return r?h.jsx("p",{children:"Loading..."}):h.jsxs("div",{className:"edit-person-ctr",children:[h.jsx("div",{className:"edit-person-header",children:"Edit Person"}),n&&h.jsxs("form",{onSubmit:O,children:[h.jsxs("div",{className:"edit-image-field",children:[h.jsxs("div",{className:"edit-current-person-new-img-ctr",children:[h.jsxs("div",{className:"edit-current-img-ctr",children:[h.jsx("label",{className:"edit-field-header",children:"Current Image"}),h.jsx("div",{className:"current-img",children:(n==null?void 0:n.image)&&h.jsx("div",{children:h.jsx("img",{src:o||n.image,alt:"Current Image",className:"current-person-img"})})})]}),h.jsxs("div",{className:"edit-new-person-img-ctr",children:[h.jsx("label",{className:"edit-field-header",children:"New Image"}),h.jsx("div",{className:"new-person-img",children:h.jsx("img",{src:l?n.image:Ui,alt:"New Image",className:"new-person-img",onClick:()=>document.getElementById("upload-image-input").click()})})]})]}),h.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"upload-image-input",id:"upload-image-input"})]}),h.jsxs("div",{className:"edit-field",children:[h.jsx("label",{htmlFor:"name",children:"Name:"}),h.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:E}),g.name&&h.jsx("span",{className:"error",children:g.name})]}),h.jsxs("div",{className:"edit-field",children:[h.jsx("label",{htmlFor:"position",children:"Position:"}),h.jsx("input",{type:"text",id:"position",name:"position",value:n.position,onChange:E}),g.position&&h.jsx("span",{className:"error",children:g.position})]}),h.jsxs("div",{className:"edit-qualifications-field",children:[h.jsx("label",{className:"edit-qualifications-header",children:"Qualifications:"}),_.map((I,A)=>h.jsxs("div",{className:"edit-qualification-input-ctr",children:[h.jsx("input",{type:"text",value:I,onChange:N=>x(A,N.target.value)}),h.jsx("button",{type:"button",className:"remove-qualification-btn",onClick:()=>D(A),children:"Remove"})]},A)),h.jsx("button",{type:"button",className:"add-qualification-btn",onClick:P,children:"Add Qualification"})]}),h.jsxs("div",{className:"edit-description-field",children:[h.jsx("label",{htmlFor:"description",children:"Description:"}),h.jsx("textarea",{rows:15,id:"description",name:"description",value:n.description,onChange:E}),g.description&&h.jsx("span",{className:"error",children:g.description})]}),h.jsxs("div",{className:"edit-person-button-ctr",children:[h.jsx("button",{type:"submit",className:"edit-person-button",children:"Save"}),h.jsx("button",{type:"button",className:"cancel-person-button",onClick:()=>p(-1),children:"Cancel"})]})]}),d&&h.jsx("p",{children:"Director updated successfully!"})]})};function xq(){return h.jsx("div",{className:"admin-container",children:h.jsx(Sq,{})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Tq(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(i.next(d))}catch(f){o(f)}}function l(d){try{c(i.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):r(d.value).then(a,l)}c((i=i.apply(t,[])).next())})}function Iq(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,r&&(s=c[0]&2?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,r=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(d){c=[6,d],r=0}finally{i=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var So=function(){return So=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},So.apply(this,arguments)},yk=function(t){return{loading:t==null,value:t}},Cq=function(){return function(t,e){switch(e.type){case"error":return So(So({},t),{error:e.error,loading:!1,value:void 0});case"reset":return yk(e.defaultValue);case"value":return So(So({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},Pq=function(t){var e=t?t():void 0,n=j.useReducer(Cq(),yk(e)),i=n[0],r=n[1],s=j.useCallback(function(){var l=t?t():void 0;r({type:"reset",defaultValue:l})},[t]),o=j.useCallback(function(l){r({type:"error",error:l})},[]),a=j.useCallback(function(l){r({type:"value",value:l})},[]);return j.useMemo(function(){return{error:i.error,loading:i.loading,reset:s,setError:o,setValue:a,value:i.value}},[i.error,i.loading,s,o,a,i.value])},kq=function(t,e){var n=Pq(function(){return t.currentUser}),i=n.error,r=n.loading,s=n.setError,o=n.setValue,a=n.value;return j.useEffect(function(){var l=EC(t,function(c){return Tq(void 0,void 0,void 0,function(){var d;return Iq(this,function(f){switch(f.label){case 0:return[3,4];case 1:return f.trys.push([1,3,,4]),[4,e.onUserChanged(c)];case 2:return f.sent(),[3,4];case 3:return d=f.sent(),s(d),[3,4];case 4:return o(c),[2]}})})},s);return function(){l()}},[t]),[a,r,i]};const ns=({children:t})=>{const[e,n,i]=kq(Kd);return n?h.jsx("div",{children:"Loading..."}):i?h.jsxs("div",{children:["Error: ",i.message]}):e?h.jsx(h.Fragment,{children:t}):h.jsx($x,{to:"/admin/"})},Rq="/BelmacsConstruction/assets/BelmacsDefault-D1IgxTxG.png",Aq="/BelmacsConstruction/assets/BelmacsDefaultBlueWhite-Bosn2eFn.png",Oq="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23000000'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z'%3e%3c/path%3e%3c/svg%3e",Nq="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23000000'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M224,128a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H216A8,8,0,0,1,224,128ZM40,72H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16ZM216,184H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z'%3e%3c/path%3e%3c/svg%3e",Dq="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23ffffff'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M224,128a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H216A8,8,0,0,1,224,128ZM40,72H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16ZM216,184H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z'%3e%3c/path%3e%3c/svg%3e";function jq(){const[t,e]=j.useState(!1),[n,i]=j.useState(!1),[r,s]=j.useState(!1),[o,a]=j.useState(null),l=_i(),[c,d]=j.useState(!1),f=()=>{d(!c)},[p,g]=j.useState(!1),b=()=>{g(!p)},[_,C]=j.useState(!1),E=()=>{C(!_)},[y,x]=j.useState(!1),P=()=>{x(!y)};j.useEffect(()=>{const w=EC(Kd,I=>{I?a(I):(a(null),window.addEventListener("scroll",D))});return()=>w()},[]),j.useEffect(()=>((()=>{o||l.pathname==="/admin"?(e(!0),i(!0),s(!0)):window.addEventListener("scroll",D)})(),()=>{window.removeEventListener("scroll",D)}),[o,l.pathname]);const D=()=>{o||window.scrollY>=40?(e(!0),i(!0),s(!0)):(e(!1),i(!1),s(!1))},O=()=>{const w=document.querySelector(".sidebar");w?(w.classList.remove("close"),w.classList.add("open"),w.style.display="block"):console.error("Sidebar element not found.")},T=()=>{const w=document.querySelector(".sidebar");w instanceof HTMLElement?(w.classList.remove("open"),w.classList.add("close"),setTimeout(()=>{w.style.display="none"},300)):console.error("Sidebar element not found or is not an HTMLElement.")},S=()=>{m6(Kd).then(()=>{console.log("Sign out successful"),T(),ae.success("Sign out successful",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})}).catch(w=>{console.error(w),ae.error("Signing out fail please countant administrator",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})}),localStorage.clear()};return h.jsxs("div",{children:[h.jsxs("nav",{className:o||t?"navbar active":"navbar",children:[h.jsx(ze,{to:"/",children:h.jsx("img",{src:n||o?Rq:Aq,className:"navbar-logo"})}),h.jsxs("div",{className:"nav-links",children:[!o&&l.pathname!=="/admin"&&h.jsxs(h.Fragment,{children:[h.jsx(ze,{to:"/",className:"nav-link hideOnMobile",children:"About"}),h.jsx(ze,{to:"/projects",className:"nav-link hideOnMobile",children:"Projects"}),h.jsx(ze,{to:"/services",className:"nav-link hideOnMobile",children:"Services"}),h.jsx(ze,{to:"/contact",className:"nav-link hideOnMobile",children:"Contact Us"})]}),o&&h.jsxs("div",{className:"admin-nav-container",children:[h.jsxs("div",{className:"dropdown",children:[h.jsx(ze,{to:"#",onClick:b,className:"nav-link hideOnMobile dropdown-trigger",children:"User View"}),p&&h.jsxs("div",{className:"dropdown-content",children:[h.jsx(ze,{to:"/about",className:"dropdown-item",onClick:b,children:"About"}),h.jsx(ze,{to:"/projects",className:"dropdown-item",onClick:b,children:"Projects"})]})]}),h.jsxs("div",{className:"dropdown",children:[h.jsx(ze,{to:"#",onClick:f,className:"nav-link hideOnMobile dropdown-trigger",children:"Dashboard"}),c&&h.jsxs("div",{className:"dropdown-content",children:[h.jsx(ze,{to:"/admin/about",className:"dropdown-item",onClick:f,children:"About"}),h.jsx(ze,{to:"/admin/projects",className:"dropdown-item",onClick:f,children:"Projects"})]})]}),h.jsx(ze,{to:"/",onClick:S,className:"nav-link hideOnMobile",children:"Sign Out"})]}),(o||l.pathname!=="/admin")&&h.jsx("img",{src:r?Nq:Dq,className:"nav-sidebar-icon",onClick:O})]})]}),h.jsx("nav",{className:"sidebar",children:h.jsxs("div",{className:"sidebar-links",children:[h.jsx("img",{src:Oq,className:"sidebar-img",onClick:T}),!o&&l.pathname!=="/admin"&&h.jsxs(h.Fragment,{children:[h.jsx(ze,{to:"/",className:"sidebar-link",children:"About"}),h.jsx(ze,{to:"/projects",className:"sidebar-link",children:"Projects"}),h.jsx(ze,{to:"/services",className:"sidebar-link",children:"Services"}),h.jsx(ze,{to:"/contact",className:"sidebar-link",children:"Contact Us"})]}),o&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"mobile-dropdown",children:[h.jsx(ze,{to:"#",onClick:P,className:"sidebar-link dropdown-trigger",children:"User View"}),y&&h.jsxs("div",{className:"mobile-dropdown-content",children:[h.jsx(ze,{to:"/about",className:"dropdown-item",onClick:()=>{P(),T()},children:"About"}),h.jsx(ze,{to:"/projects",className:"dropdown-item",onClick:()=>{P(),T()},children:"Projects"})]})]}),h.jsxs("div",{className:"mobile-dropdown",children:[h.jsx(ze,{to:"#",onClick:E,className:"sidebar-link dropdown-trigger",children:"Dashboard"}),_&&h.jsxs("div",{className:"mobile-dropdown-content",children:[h.jsx(ze,{to:"/admin/about",className:"dropdown-item",onClick:()=>{E(),T()},children:"About"}),h.jsx(ze,{to:"/admin/projects",className:"dropdown-item",onClick:()=>{E(),T()},children:"Projects"})]})]}),h.jsx(ze,{to:"/",onClick:()=>{S(),T()},className:"sidebar-link",children:"Sign Out"})]})]})})]})}const Mq="/BelmacsConstruction/assets/BelmacsDefaultWhiteWhite-BF4r8jTG.png",Lq="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23ffffff'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M222.37,158.46l-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L134.87,160c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L97.54,33.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,32,80c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,222.37,158.46ZM176,208A128.14,128.14,0,0,1,48,80,40.2,40.2,0,0,1,82.87,40a.61.61,0,0,0,0,.12l21,47L83.2,111.86a6.13,6.13,0,0,0-.57.77,16,16,0,0,0-1,15.7c9.06,18.53,27.73,37.06,46.46,46.11a16,16,0,0,0,15.75-1.14,8.44,8.44,0,0,0,.74-.56L168.89,152l47,21.05h0s.08,0,.11,0A40.21,40.21,0,0,1,176,208Z'%3e%3c/path%3e%3c/svg%3e",Vq="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23ffffff'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48ZM203.43,64,128,133.15,52.57,64ZM216,192H40V74.19l82.59,75.71a8,8,0,0,0,10.82,0L216,74.19V192Z'%3e%3c/path%3e%3c/svg%3e",Fq="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20fill='%23ffffff'%20viewBox='0%200%20256%20256'%3e%3cpath%20d='M128,64a40,40,0,1,0,40,40A40,40,0,0,0,128,64Zm0,64a24,24,0,1,1,24-24A24,24,0,0,1,128,128Zm0-112a88.1,88.1,0,0,0-88,88c0,31.4,14.51,64.68,42,96.25a254.19,254.19,0,0,0,41.45,38.3,8,8,0,0,0,9.18,0A254.19,254.19,0,0,0,174,200.25c27.45-31.57,42-64.85,42-96.25A88.1,88.1,0,0,0,128,16Zm0,206c-16.53-13-72-60.75-72-118a72,72,0,0,1,144,0C200,161.23,144.53,209,128,222Z'%3e%3c/path%3e%3c/svg%3e";function zq(){return h.jsx("div",{className:"footer",children:h.jsxs("div",{className:"footer-ctr",children:[h.jsxs("div",{className:"footer-left",children:[h.jsx("img",{src:Mq,className:"belmacs-logo"}),h.jsx("p",{className:"copy-text",children:"Copyright  2024 BELMACS | All Rights Reserved"})]}),h.jsxs("div",{className:"footer-center-right",children:[h.jsxs("div",{className:"footer-center",children:[h.jsx("p",{className:"contact-text",children:"Contact Us"}),h.jsxs("div",{className:"phone",children:[h.jsx("img",{src:Lq,className:"phone-icon"}),h.jsx("a",{href:"tel:+65 6225 6118",className:"phone-number",children:"+65 6225 6118"})]}),h.jsxs("div",{className:"mail",children:[h.jsx("img",{src:Vq,className:"mail-icon"}),h.jsx("a",{href:"mailto:inq@belmacs.com.sg",className:"mail-email",children:"inq@belmacs.com.sg"})]})]}),h.jsxs("div",{className:"footer-right",children:[h.jsx("p",{className:"address-text",children:"Our Address"}),h.jsxs("div",{className:"map",children:[h.jsx("img",{src:Fq,className:"map-icon"}),h.jsxs("p",{className:"map-address",children:["2 Leng Kee Road ",h.jsx("br",{})," #03-08 Thye Hong Centre ",h.jsx("br",{})," ","Singapore 159086"]})]})]})]})]})})}function Uq(){return h.jsx(Bq,{})}function Bq(){const t=_i(),n=!["/admin","/admin/projects","/admin/create","/admin/edit","/admin/about","/admin/about/company/edit"].some(r=>t.pathname.includes(r));j.useEffect(()=>{window.scrollTo(0,0)},[t.pathname]),j.useEffect(()=>{bp.initialize("G-FZXFG5T9KE"),bp.send("pageview")},[]);const i=()=>{const r=_i();return j.useEffect(()=>{bp.send("pageview")},[r]),null};return h.jsxs(h.Fragment,{children:[h.jsx(jq,{}),h.jsxs("div",{children:[h.jsx(i,{}),h.jsxs(cO,{children:[h.jsx(Wt,{path:"/",element:h.jsx(T$,{})}),h.jsx(Wt,{path:"/projects",element:h.jsx(j$,{})}),h.jsx(Wt,{path:"/projects/:type",element:h.jsx(QH,{})}),h.jsx(Wt,{path:"/services",element:h.jsx(W$,{})}),h.jsx(Wt,{path:"/contact",element:h.jsx(FH,{})}),h.jsx(Wt,{path:"/admin",element:h.jsx(cq,{})}),h.jsx(Wt,{path:"/admin/about",element:h.jsx(ns,{children:h.jsx(vq,{})})}),h.jsx(Wt,{path:"/admin/about/company/edit",element:h.jsx(ns,{children:h.jsx(wq,{})})}),h.jsx(Wt,{path:"/admin/about/people/create",element:h.jsx(ns,{children:h.jsx(Eq,{})})}),h.jsx(Wt,{path:"/admin/about/people/edit/:name",element:h.jsx(ns,{children:h.jsx(xq,{})})}),h.jsx(Wt,{path:"/admin/projects",element:h.jsx(ns,{children:h.jsx(dq,{})})}),h.jsx(Wt,{path:"/admin/projects/create/:selectedType",element:h.jsx(ns,{children:h.jsx(fq,{})})}),h.jsx(Wt,{path:"/admin/projects/edit/:type/:id",element:h.jsx(ns,{children:h.jsx(mq,{})})}),h.jsx(Wt,{path:"*",element:h.jsx($x,{to:"/"})})]})]}),n&&h.jsx(zq,{}),h.jsx(aq,{})," "]})}cm.createRoot(document.getElementById("root")).render(h.jsx(de.StrictMode,{children:h.jsx(gO,{children:h.jsx(Uq,{})})}));
